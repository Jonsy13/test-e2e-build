{"ast":null,"code":"import{Typography}from'@material-ui/core';import Drawer from'@material-ui/core/Drawer';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import moment from'moment';import React from'react';import{useLocation}from'react-router-dom';import{UserRole}from'../../models/graphql/user';import{history}from'../../redux/configureStore';import{ReactComponent as AnalyticsIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/analytics.svg\";import{ReactComponent as CommunityIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/community.svg\";import{ReactComponent as DocsIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/docs.svg\";import{ReactComponent as HomeIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/home.svg\";import{ReactComponent as MyHubIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/myhub.svg\";import{ReactComponent as SettingsIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/settings.svg\";import{ReactComponent as TargetsIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/targets.svg\";import{ReactComponent as UsageIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/usage.svg\";import{ReactComponent as WorkflowsIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../svg/workflows.svg\";import{getUserRole}from'../../utils/auth';import{getProjectID,getProjectRole}from'../../utils/getSearchParams';import useStyles from'./styles';var CustomisedListItem=function CustomisedListItem(_ref){var children=_ref.children,handleClick=_ref.handleClick,label=_ref.label,selected=_ref.selected;var classes=useStyles();return/*#__PURE__*/React.createElement(ListItem,{button:true,selected:selected,onClick:handleClick,className:\"\".concat(classes.drawerListItem,\" \").concat(selected?classes.active:'')},/*#__PURE__*/React.createElement(ListItemIcon,{className:classes.listIcon},children),/*#__PURE__*/React.createElement(ListItemText,{primary:label,className:classes.listText}));};var SideBar=function SideBar(){var classes=useStyles();var projectID=getProjectID();var projectRole=getProjectRole();var role=getUserRole();var pathName=useLocation().pathname.split('/')[1];var version=process.env.REACT_APP_KB_CHAOS_VERSION;var buildTime=moment.unix(Number(process.env.REACT_APP_BUILD_TIME)).format('DD MMM YYYY HH:MM:SS');return/*#__PURE__*/React.createElement(Drawer,{\"data-cy\":\"sidebarComponent\",className:classes.drawer,variant:\"permanent\",classes:{paper:classes.drawerPaper},anchor:\"left\"},/*#__PURE__*/React.createElement(List,{className:classes.drawerList},/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"home\",handleClick:function handleClick(){history.push({pathname:\"/home\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Home\",selected:pathName==='home'},/*#__PURE__*/React.createElement(HomeIcon,null)),/*#__PURE__*/React.createElement(\"div\",{\"data-cy\":\"workflows\"},/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"workflow\",handleClick:function handleClick(){history.push({pathname:\"/workflows\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Workflows\",selected:['workflows','create-workflow'].includes(pathName)},/*#__PURE__*/React.createElement(WorkflowsIcon,null))),/*#__PURE__*/React.createElement(\"div\",{\"data-cy\":\"myHub\"},/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"myhub\",handleClick:function handleClick(){history.push({pathname:\"/myhub\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"ChaosHubs\",selected:pathName==='myhub'},/*#__PURE__*/React.createElement(MyHubIcon,null))),/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"targets\",handleClick:function handleClick(){history.push({pathname:\"/targets\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Agents\",selected:['targets','target-connect'].includes(pathName)},/*#__PURE__*/React.createElement(TargetsIcon,null)),/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"analytics\",handleClick:function handleClick(){history.push({pathname:\"/analytics\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Analytics\",selected:pathName==='analytics'},/*#__PURE__*/React.createElement(AnalyticsIcon,null)),projectRole==='Owner'&&/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"settings\",handleClick:function handleClick(){history.push({pathname:\"/settings\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Settings\",selected:pathName==='settings'},/*#__PURE__*/React.createElement(SettingsIcon,null)),role===UserRole.admin&&/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"usage\",handleClick:function handleClick(){history.push({pathname:\"/usage\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Usage\",selected:pathName==='usage'},/*#__PURE__*/React.createElement(UsageIcon,null)),/*#__PURE__*/React.createElement(\"hr\",{id:\"quickActions\"}),/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"litmusDocs\",handleClick:function handleClick(){window.open('https://docs.litmuschaos.io/docs/getstarted');},label:\"Litmus Docs\",selected:pathName==='docs'},/*#__PURE__*/React.createElement(DocsIcon,null)),/*#__PURE__*/React.createElement(CustomisedListItem,{key:\"community\",handleClick:function handleClick(){history.push({pathname:\"/community\",search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(projectRole)});},label:\"Community\",selected:pathName==='community'},/*#__PURE__*/React.createElement(CommunityIcon,null))),/*#__PURE__*/React.createElement(Typography,{className:classes.versionDiv},/*#__PURE__*/React.createElement(\"b\",null,\"Version: \"),\" \",version,\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"b\",null,\"Build Time: \"),\" \",buildTime));};export default SideBar;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/components/SideBar/index.tsx"],"names":["Typography","Drawer","List","ListItem","ListItemIcon","ListItemText","moment","React","useLocation","UserRole","history","getUserRole","getProjectID","getProjectRole","useStyles","CustomisedListItem","children","handleClick","label","selected","classes","drawerListItem","active","listIcon","listText","SideBar","projectID","projectRole","role","pathName","pathname","split","version","process","env","REACT_APP_KB_CHAOS_VERSION","buildTime","unix","Number","REACT_APP_BUILD_TIME","format","drawer","paper","drawerPaper","drawerList","push","search","includes","admin","window","open","versionDiv"],"mappings":"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","sourcesContent":["import { Typography } from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport moment from 'moment';\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { UserRole } from '../../models/graphql/user';\nimport { history } from '../../redux/configureStore';\nimport { ReactComponent as AnalyticsIcon } from '../../svg/analytics.svg';\nimport { ReactComponent as CommunityIcon } from '../../svg/community.svg';\nimport { ReactComponent as DocsIcon } from '../../svg/docs.svg';\nimport { ReactComponent as HomeIcon } from '../../svg/home.svg';\nimport { ReactComponent as MyHubIcon } from '../../svg/myhub.svg';\nimport { ReactComponent as SettingsIcon } from '../../svg/settings.svg';\nimport { ReactComponent as TargetsIcon } from '../../svg/targets.svg';\nimport { ReactComponent as UsageIcon } from '../../svg/usage.svg';\nimport { ReactComponent as WorkflowsIcon } from '../../svg/workflows.svg';\nimport { getUserRole } from '../../utils/auth';\nimport { getProjectID, getProjectRole } from '../../utils/getSearchParams';\nimport useStyles from './styles';\n\ninterface CustomisedListItemProps {\n  handleClick: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  label: string;\n  selected: boolean;\n}\n\nconst CustomisedListItem: React.FC<CustomisedListItemProps> = ({\n  children,\n  handleClick,\n  label,\n  selected,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem\n      button\n      selected={selected}\n      onClick={handleClick}\n      className={`${classes.drawerListItem} ${selected ? classes.active : ''}`}\n    >\n      <ListItemIcon className={classes.listIcon}>{children}</ListItemIcon>\n      <ListItemText primary={label} className={classes.listText} />\n    </ListItem>\n  );\n};\n\nconst SideBar: React.FC = () => {\n  const classes = useStyles();\n  const projectID = getProjectID();\n  const projectRole = getProjectRole();\n  const role = getUserRole();\n  const pathName = useLocation().pathname.split('/')[1];\n  const version = process.env.REACT_APP_KB_CHAOS_VERSION;\n  const buildTime = moment\n    .unix(Number(process.env.REACT_APP_BUILD_TIME))\n    .format('DD MMM YYYY HH:MM:SS');\n\n  return (\n    <Drawer\n      data-cy=\"sidebarComponent\"\n      className={classes.drawer}\n      variant=\"permanent\"\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      anchor=\"left\"\n    >\n      <List className={classes.drawerList}>\n        <CustomisedListItem\n          key=\"home\"\n          handleClick={() => {\n            history.push({\n              pathname: `/home`,\n              search: `?projectID=${projectID}&projectRole=${projectRole}`,\n            });\n          }}\n          label=\"Home\"\n          selected={pathName === 'home'}\n        >\n          <HomeIcon />\n        </CustomisedListItem>\n        <div data-cy=\"workflows\">\n          <CustomisedListItem\n            key=\"workflow\"\n            handleClick={() => {\n              history.push({\n                pathname: `/workflows`,\n                search: `?projectID=${projectID}&projectRole=${projectRole}`,\n              });\n            }}\n            label=\"Workflows\"\n            selected={['workflows', 'create-workflow'].includes(pathName)}\n          >\n            <WorkflowsIcon />\n          </CustomisedListItem>\n        </div>\n        <div data-cy=\"myHub\">\n          <CustomisedListItem\n            key=\"myhub\"\n            handleClick={() => {\n              history.push({\n                pathname: `/myhub`,\n                search: `?projectID=${projectID}&projectRole=${projectRole}`,\n              });\n            }}\n            label=\"ChaosHubs\"\n            selected={pathName === 'myhub'}\n          >\n            <MyHubIcon />\n          </CustomisedListItem>\n        </div>\n        <CustomisedListItem\n          key=\"targets\"\n          handleClick={() => {\n            history.push({\n              pathname: `/targets`,\n              search: `?projectID=${projectID}&projectRole=${projectRole}`,\n            });\n          }}\n          label=\"Agents\"\n          selected={['targets', 'target-connect'].includes(pathName)}\n        >\n          <TargetsIcon />\n        </CustomisedListItem>\n        <CustomisedListItem\n          key=\"analytics\"\n          handleClick={() => {\n            history.push({\n              pathname: `/analytics`,\n              search: `?projectID=${projectID}&projectRole=${projectRole}`,\n            });\n          }}\n          label=\"Analytics\"\n          selected={pathName === 'analytics'}\n        >\n          <AnalyticsIcon />\n        </CustomisedListItem>\n\n        {projectRole === 'Owner' && (\n          <CustomisedListItem\n            key=\"settings\"\n            handleClick={() => {\n              history.push({\n                pathname: `/settings`,\n                search: `?projectID=${projectID}&projectRole=${projectRole}`,\n              });\n            }}\n            label=\"Settings\"\n            selected={pathName === 'settings'}\n          >\n            <SettingsIcon />\n          </CustomisedListItem>\n        )}\n\n        {role === UserRole.admin && (\n          <CustomisedListItem\n            key=\"usage\"\n            handleClick={() => {\n              history.push({\n                pathname: `/usage`,\n                search: `?projectID=${projectID}&projectRole=${projectRole}`,\n              });\n            }}\n            label=\"Usage\"\n            selected={pathName === 'usage'}\n          >\n            <UsageIcon />\n          </CustomisedListItem>\n        )}\n        <hr id=\"quickActions\" />\n        <CustomisedListItem\n          key=\"litmusDocs\"\n          handleClick={() => {\n            window.open('https://docs.litmuschaos.io/docs/getstarted');\n          }}\n          label=\"Litmus Docs\"\n          selected={pathName === 'docs'}\n        >\n          <DocsIcon />\n        </CustomisedListItem>\n        <CustomisedListItem\n          key=\"community\"\n          handleClick={() => {\n            history.push({\n              pathname: `/community`,\n              search: `?projectID=${projectID}&projectRole=${projectRole}`,\n            });\n          }}\n          label=\"Community\"\n          selected={pathName === 'community'}\n        >\n          <CommunityIcon />\n        </CustomisedListItem>\n      </List>\n      <Typography className={classes.versionDiv}>\n        <b>Version: </b> {version} <br />\n        <b>Build Time: </b> {buildTime}\n      </Typography>\n    </Drawer>\n  );\n};\n\nexport default SideBar;\n"]},"metadata":{},"sourceType":"module"}