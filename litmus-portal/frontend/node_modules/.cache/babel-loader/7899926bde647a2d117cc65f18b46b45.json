{"ast":null,"code":"import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Snackbar from'@material-ui/core/Snackbar';import Typography from'@material-ui/core/Typography';import MuiAlert from'@material-ui/lab/Alert';import{ButtonFilled,ButtonOutlined}from'litmus-ui';import localforage from'localforage';import React,{useEffect,useRef}from'react';import{useTranslation}from'react-i18next';import{useSelector}from'react-redux';import Row from'../../containers/layouts/Row';import useActions from'../../redux/actions';import*as AlertActions from'../../redux/actions/alert';import{getProjectRole}from'../../utils/getSearchParams';import ChooseAWorkflowAgent from'../../views/CreateWorkflow/ChooseAWorkflowAgent';import ChooseWorkflow from'../../views/CreateWorkflow/ChooseWorkflow/index';import ReliablityScore from'../../views/CreateWorkflow/ReliabilityScore';import ScheduleWorkflow from'../../views/CreateWorkflow/ScheduleWorkflow';import TuneWorkflow from'../../views/CreateWorkflow/TuneWorkflow/index';import VerifyCommit from'../../views/CreateWorkflow/VerifyCommit';import WorkflowSettings from'../../views/CreateWorkflow/WorkflowSettings';import{LitmusStepper}from'../LitmusStepper';import Loader from'../Loader';import useStyles from'./styles';var steps=['Choose Agent','Choose a workflow','Workflow Settings','Tune workflow','Reliability score','Schedule','Verify and Commit'];function Alert(props){return/*#__PURE__*/React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props));}var WorkflowStepper=function WorkflowStepper(){var classes=useStyles();var _useTranslation=useTranslation(),t=_useTranslation.t;var childRef=useRef();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeStep=_React$useState4[0],setActiveStep=_React$useState4[1];// Checks if the button is in loading state or not\nvar isButtonLoading=function isButtonLoading(status){return setLoading(status);};// Set the active step to the page props\nvar goToStep=function goToStep(page){return setActiveStep(page);};function getStepContent(stepIndex,childRef){switch(stepIndex){case 0:return/*#__PURE__*/React.createElement(ChooseAWorkflowAgent,{ref:childRef});case 1:return/*#__PURE__*/React.createElement(ChooseWorkflow,{ref:childRef});case 2:return/*#__PURE__*/React.createElement(WorkflowSettings,{ref:childRef});case 3:return/*#__PURE__*/React.createElement(TuneWorkflow,{ref:childRef});case 4:return/*#__PURE__*/React.createElement(ReliablityScore,{ref:childRef});case 5:return/*#__PURE__*/React.createElement(ScheduleWorkflow,{ref:childRef});case 6:return/*#__PURE__*/React.createElement(VerifyCommit,{isLoading:isButtonLoading,handleGoToStep:goToStep,ref:childRef});default:return/*#__PURE__*/React.createElement(ChooseAWorkflowAgent,{ref:childRef});}}var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),proceed=_React$useState6[0],shouldProceed=_React$useState6[1];var isAlertOpen=useSelector(function(state){return state.alert.isAlertOpen;});var alert=useActions(AlertActions);useEffect(function(){localforage.getItem('selectedScheduleOption').then(function(value){return value?shouldProceed(true):shouldProceed(false);});},[proceed]);var _handleNext=function handleNext(){if(childRef.current&&childRef.current.onNext()){setActiveStep(function(prevActiveStep){return prevActiveStep+1;});}};var handleBack=function handleBack(){setActiveStep(function(prevActiveStep){return prevActiveStep-1;});};/** \n    Control Buttons\n    ------------------------------------------------------------------------------\n    When active step is zero (First Step) there won't be a Back button\n    When active step is the last step in the stepper the button will change to Finish\n    All steps in the middle will have next and back buttons\n  * */var ControlButton=function ControlButton(){return/*#__PURE__*/React.createElement(\"div\",{\"data-cy\":\"ControlButtons\"},activeStep===0?/*#__PURE__*/ // Only show Next button at Top for Step 0\nReact.createElement(ButtonFilled,{className:classes.btn,onClick:function onClick(){return _handleNext();}},\"Next\"):activeStep===steps.length-1?// Show Finish button at Bottom for Last Step\nloading?/*#__PURE__*/React.createElement(ButtonFilled,{className:classes.btn,disabled:true,onClick:function onClick(){return _handleNext();}},\"Finish \",/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:'0.5rem'}}),' ',/*#__PURE__*/React.createElement(Loader,{size:20})):/*#__PURE__*/React.createElement(ButtonFilled,{className:classes.btn,onClick:function onClick(){return _handleNext();}},\"Finish\"):/*#__PURE__*/ // Apply headerButtonWrapper style for top button's div\nReact.createElement(\"div\",{className:classes.headerButtonWrapper,\"aria-label\":\"buttons\"},/*#__PURE__*/React.createElement(ButtonOutlined,{className:classes.btn,onClick:function onClick(){return handleBack();}},\"Back\"),/*#__PURE__*/React.createElement(ButtonFilled,{className:classes.btn,onClick:function onClick(){return _handleNext();}},\"Next\")));};/** \n    Alert\n    ------------------------------------------------------------------------------\n    Displays a snackbar with the appropriate message whenever a condition is not satisfied\n  * */var AlertBox=function AlertBox(_ref){var message=_ref.message;return/*#__PURE__*/React.createElement(\"div\",null,isAlertOpen?/*#__PURE__*/React.createElement(Snackbar,{open:isAlertOpen,autoHideDuration:6000,onClose:function onClose(){return alert.changeAlertState(false);}},/*#__PURE__*/React.createElement(Alert,{onClose:function onClose(){return alert.changeAlertState(false);},severity:\"error\"},message)):/*#__PURE__*/React.createElement(React.Fragment,null));};function getAlertMessage(stepNumber){switch(stepNumber){case 0:if(getProjectRole()==='Viewer'){return t(\"workflowStepper.step1.errorSnackbarViewer\");}return t(\"workflowStepper.step1.errorSnackbar\");case 1:return t(\"workflowStepper.step2.errorSnackbar\");case 2:return t(\"workflowStepper.step3.errorSnackbar\");case 3:return t(\"workflowStepper.step4.errorSnackbar\");case 6:return t(\"workflowStepper.step6.errorSnackbar\");default:return'';}}return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(AlertBox,{message:getAlertMessage(activeStep)}),/*#__PURE__*/React.createElement(\"div\",{className:classes.headWrapper},/*#__PURE__*/React.createElement(Row,{justifyContent:\"space-between\"},/*#__PURE__*/React.createElement(Typography,{className:classes.header},t(\"workflowStepper.scheduleNewChaosWorkflow\")),/*#__PURE__*/React.createElement(ControlButton,null))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(LitmusStepper,{steps:steps,activeStep:activeStep,handleBack:handleBack,loader:loading,handleNext:function handleNext(){return _handleNext();},finishAction:function finishAction(){}},getStepContent(activeStep,childRef)));};export default WorkflowStepper;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/components/WorkflowStepper/index.tsx"],"names":["Snackbar","Typography","MuiAlert","ButtonFilled","ButtonOutlined","localforage","React","useEffect","useRef","useTranslation","useSelector","Row","useActions","AlertActions","getProjectRole","ChooseAWorkflowAgent","ChooseWorkflow","ReliablityScore","ScheduleWorkflow","TuneWorkflow","VerifyCommit","WorkflowSettings","LitmusStepper","Loader","useStyles","steps","Alert","props","WorkflowStepper","classes","t","childRef","useState","loading","setLoading","activeStep","setActiveStep","isButtonLoading","status","goToStep","page","getStepContent","stepIndex","proceed","shouldProceed","isAlertOpen","state","alert","getItem","then","value","handleNext","current","onNext","prevActiveStep","handleBack","ControlButton","btn","length","marginLeft","headerButtonWrapper","AlertBox","message","changeAlertState","getAlertMessage","stepNumber","root","headWrapper","header"],"mappings":"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","sourcesContent":["import Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\nimport { ButtonFilled, ButtonOutlined } from 'litmus-ui';\nimport localforage from 'localforage';\nimport React, { useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport Row from '../../containers/layouts/Row';\nimport useActions from '../../redux/actions';\nimport * as AlertActions from '../../redux/actions/alert';\nimport { RootState } from '../../redux/reducers';\nimport { getProjectRole } from '../../utils/getSearchParams';\nimport ChooseAWorkflowAgent from '../../views/CreateWorkflow/ChooseAWorkflowAgent';\nimport ChooseWorkflow from '../../views/CreateWorkflow/ChooseWorkflow/index';\nimport ReliablityScore from '../../views/CreateWorkflow/ReliabilityScore';\nimport ScheduleWorkflow from '../../views/CreateWorkflow/ScheduleWorkflow';\nimport TuneWorkflow from '../../views/CreateWorkflow/TuneWorkflow/index';\nimport VerifyCommit from '../../views/CreateWorkflow/VerifyCommit';\nimport WorkflowSettings from '../../views/CreateWorkflow/WorkflowSettings';\nimport { LitmusStepper } from '../LitmusStepper';\nimport Loader from '../Loader';\nimport useStyles from './styles';\n\ninterface ControlButtonProps {\n  position: string;\n}\n\ninterface ChildRef {\n  onNext: () => void;\n}\n\ninterface AlertBoxProps {\n  message: string;\n}\n\nconst steps: string[] = [\n  'Choose Agent',\n  'Choose a workflow',\n  'Workflow Settings',\n  'Tune workflow',\n  'Reliability score',\n  'Schedule',\n  'Verify and Commit',\n];\n\nfunction Alert(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst WorkflowStepper = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const childRef = useRef<ChildRef>();\n\n  const [loading, setLoading] = React.useState<boolean>(false);\n  const [activeStep, setActiveStep] = React.useState(0);\n\n  // Checks if the button is in loading state or not\n  const isButtonLoading = (status: boolean) => setLoading(status);\n\n  // Set the active step to the page props\n  const goToStep = (page: number) => setActiveStep(page);\n\n  function getStepContent(\n    stepIndex: number,\n    childRef: React.MutableRefObject<ChildRef | undefined>\n  ): React.ReactNode {\n    switch (stepIndex) {\n      case 0:\n        return <ChooseAWorkflowAgent ref={childRef} />;\n      case 1:\n        return <ChooseWorkflow ref={childRef} />;\n      case 2:\n        return <WorkflowSettings ref={childRef} />;\n      case 3:\n        return <TuneWorkflow ref={childRef} />;\n      case 4:\n        return <ReliablityScore ref={childRef} />;\n      case 5:\n        return <ScheduleWorkflow ref={childRef} />;\n      case 6:\n        return (\n          <VerifyCommit\n            isLoading={isButtonLoading}\n            handleGoToStep={goToStep}\n            ref={childRef}\n          />\n        );\n      default:\n        return <ChooseAWorkflowAgent ref={childRef} />;\n    }\n  }\n\n  const [proceed, shouldProceed] = React.useState<boolean>(false);\n\n  const isAlertOpen = useSelector(\n    (state: RootState) => state.alert.isAlertOpen\n  );\n  const alert = useActions(AlertActions);\n\n  useEffect(() => {\n    localforage\n      .getItem('selectedScheduleOption')\n      .then((value) => (value ? shouldProceed(true) : shouldProceed(false)));\n  }, [proceed]);\n\n  const handleNext = () => {\n    if (childRef.current && childRef.current.onNext()) {\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    }\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  /** \n    Control Buttons\n    ------------------------------------------------------------------------------\n    When active step is zero (First Step) there won't be a Back button\n    When active step is the last step in the stepper the button will change to Finish\n    All steps in the middle will have next and back buttons\n  * */\n\n  const ControlButton: React.FC = () => {\n    return (\n      <div data-cy=\"ControlButtons\">\n        {activeStep === 0 ? ( // Only show Next button at Top for Step 0\n          <ButtonFilled className={classes.btn} onClick={() => handleNext()}>\n            Next\n          </ButtonFilled>\n        ) : activeStep === steps.length - 1 ? ( // Show Finish button at Bottom for Last Step\n          loading ? (\n            <ButtonFilled\n              className={classes.btn}\n              disabled\n              onClick={() => handleNext()}\n            >\n              Finish <span style={{ marginLeft: '0.5rem' }} />{' '}\n              <Loader size={20} />\n            </ButtonFilled>\n          ) : (\n            <ButtonFilled className={classes.btn} onClick={() => handleNext()}>\n              Finish\n            </ButtonFilled>\n          )\n        ) : (\n          // Apply headerButtonWrapper style for top button's div\n          <div className={classes.headerButtonWrapper} aria-label=\"buttons\">\n            <ButtonOutlined\n              className={classes.btn}\n              onClick={() => handleBack()}\n            >\n              Back\n            </ButtonOutlined>\n            <ButtonFilled className={classes.btn} onClick={() => handleNext()}>\n              Next\n            </ButtonFilled>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  /** \n    Alert\n    ------------------------------------------------------------------------------\n    Displays a snackbar with the appropriate message whenever a condition is not satisfied\n  * */\n\n  const AlertBox: React.FC<AlertBoxProps> = ({ message }) => {\n    return (\n      <div>\n        {isAlertOpen ? (\n          <Snackbar\n            open={isAlertOpen}\n            autoHideDuration={6000}\n            onClose={() => alert.changeAlertState(false)}\n          >\n            <Alert\n              onClose={() => alert.changeAlertState(false)}\n              severity=\"error\"\n            >\n              {message}\n            </Alert>\n          </Snackbar>\n        ) : (\n          <></>\n        )}\n      </div>\n    );\n  };\n\n  function getAlertMessage(stepNumber: number) {\n    switch (stepNumber) {\n      case 0:\n        if (getProjectRole() === 'Viewer') {\n          return t(`workflowStepper.step1.errorSnackbarViewer`);\n        }\n        return t(`workflowStepper.step1.errorSnackbar`);\n\n      case 1:\n        return t(`workflowStepper.step2.errorSnackbar`);\n      case 2:\n        return t(`workflowStepper.step3.errorSnackbar`);\n      case 3:\n        return t(`workflowStepper.step4.errorSnackbar`);\n      case 6:\n        return t(`workflowStepper.step6.errorSnackbar`);\n      default:\n        return '';\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      {/* Alert */}\n      <AlertBox message={getAlertMessage(activeStep)} />\n\n      {/* Header */}\n      <div className={classes.headWrapper}>\n        <Row justifyContent=\"space-between\">\n          <Typography className={classes.header}>\n            {t(`workflowStepper.scheduleNewChaosWorkflow`)}\n          </Typography>\n          <ControlButton />\n        </Row>\n      </div>\n      <br />\n      {/* Stepper */}\n      <LitmusStepper\n        steps={steps}\n        activeStep={activeStep}\n        handleBack={handleBack}\n        loader={loading}\n        handleNext={() => handleNext()}\n        finishAction={() => {}}\n      >\n        {getStepContent(activeStep, childRef)}\n      </LitmusStepper>\n    </div>\n  );\n};\n\nexport default WorkflowStepper;\n"]},"metadata":{},"sourceType":"module"}