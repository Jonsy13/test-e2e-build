{"ast":null,"code":"import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useQuery}from'@apollo/client';import{IconButton,Popover,Typography}from'@material-ui/core';import ExpandMoreRoundedIcon from'@material-ui/icons/ExpandMoreRounded';import React,{useState}from'react';import{GET_PROJECT_NAME}from'../../graphql';import{getProjectID,getProjectRole}from'../../utils/getSearchParams';import ProjectDropdownItems from'./ProjectDropDownItems';import useStyles from'./styles';var ProjectDropdown=function ProjectDropdown(){var classes=useStyles();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];// Get ProjectID from URL\nvar projectID=getProjectID();// Get the projectRole from URL\nvar projectRole=getProjectRole();// Get Project Name\nvar _useQuery=useQuery(GET_PROJECT_NAME,{variables:{projectID:projectID}}),data=_useQuery.data;// Handle clicks\nvar handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var open=Boolean(anchorEl);var id=open?'headerProjectDropdown':undefined;return/*#__PURE__*/React.createElement(\"div\",{className:classes.projectDropdown,\"data-cy\":\"headerProjectDropdown\"},/*#__PURE__*/React.createElement(Typography,null,data===null||data===void 0?void 0:data.getProject.name),/*#__PURE__*/React.createElement(Typography,null,\" (\",projectRole,\")\"),/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",onClick:handleClick},/*#__PURE__*/React.createElement(ExpandMoreRoundedIcon,null)),/*#__PURE__*/React.createElement(Popover,{id:id,open:open,anchorEl:anchorEl,onClose:handleClose,anchorOrigin:{vertical:'bottom',horizontal:'left'},transformOrigin:{vertical:'top',horizontal:'left'}},/*#__PURE__*/React.createElement(ProjectDropdownItems,null)));};export default ProjectDropdown;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/components/Header/ProjectDropDown.tsx"],"names":["useQuery","IconButton","Popover","Typography","ExpandMoreRoundedIcon","React","useState","GET_PROJECT_NAME","getProjectID","getProjectRole","ProjectDropdownItems","useStyles","ProjectDropdown","classes","anchorEl","setAnchorEl","projectID","projectRole","variables","data","handleClick","event","currentTarget","handleClose","open","Boolean","id","undefined","projectDropdown","getProject","name","vertical","horizontal"],"mappings":"mLAAA,OAASA,QAAT,KAAyB,gBAAzB,CACA,OAASC,UAAT,CAAqBC,OAArB,CAA8BC,UAA9B,KAAgD,mBAAhD,CACA,MAAOC,CAAAA,qBAAP,KAAkC,sCAAlC,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,gBAAT,KAAiC,eAAjC,CAEA,OAASC,YAAT,CAAuBC,cAAvB,KAA6C,6BAA7C,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wBAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,UAAtB,CAEA,GAAMC,CAAAA,eAAyB,CAAG,QAA5BA,CAAAA,eAA4B,EAAM,CACtC,GAAMC,CAAAA,OAAO,CAAGF,SAAS,EAAzB,CAEA,cAAgCL,QAAQ,CAA2B,IAA3B,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eAEA;AACA,GAAMC,CAAAA,SAAS,CAAGR,YAAY,EAA9B,CAEA;AACA,GAAMS,CAAAA,WAAW,CAAGR,cAAc,EAAlC,CAEA;AACA,cAAiBT,QAAQ,CAAgBO,gBAAhB,CAAkC,CACzDW,SAAS,CAAE,CAAEF,SAAS,CAATA,SAAF,CAD8C,CAAlC,CAAzB,CAAQG,IAAR,WAAQA,IAAR,CAIA;AACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAgD,CAClEN,WAAW,CAACM,KAAK,CAACC,aAAP,CAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBR,WAAW,CAAC,IAAD,CAAX,CACD,CAFD,CAIA,GAAMS,CAAAA,IAAI,CAAGC,OAAO,CAACX,QAAD,CAApB,CACA,GAAMY,CAAAA,EAAE,CAAGF,IAAI,CAAG,uBAAH,CAA6BG,SAA5C,CAEA,mBACE,2BAAK,SAAS,CAAEd,OAAO,CAACe,eAAxB,CAAyC,UAAQ,uBAAjD,eACE,oBAAC,UAAD,MAAaT,IAAb,SAAaA,IAAb,iBAAaA,IAAI,CAAEU,UAAN,CAAiBC,IAA9B,CADF,cAEE,oBAAC,UAAD,WAAeb,WAAf,KAFF,cAGE,oBAAC,UAAD,EAAY,IAAI,CAAC,KAAjB,CAAuB,OAAO,CAAEG,WAAhC,eACE,oBAAC,qBAAD,MADF,CAHF,cAME,oBAAC,OAAD,EACE,EAAE,CAAEM,EADN,CAEE,IAAI,CAAEF,IAFR,CAGE,QAAQ,CAAEV,QAHZ,CAIE,OAAO,CAAES,WAJX,CAKE,YAAY,CAAE,CACZQ,QAAQ,CAAE,QADE,CAEZC,UAAU,CAAE,MAFA,CALhB,CASE,eAAe,CAAE,CACfD,QAAQ,CAAE,KADK,CAEfC,UAAU,CAAE,MAFG,CATnB,eAcE,oBAAC,oBAAD,MAdF,CANF,CADF,CAyBD,CArDD,CAuDA,cAAepB,CAAAA,eAAf","sourcesContent":["import { useQuery } from '@apollo/client';\nimport { IconButton, Popover, Typography } from '@material-ui/core';\nimport ExpandMoreRoundedIcon from '@material-ui/icons/ExpandMoreRounded';\nimport React, { useState } from 'react';\nimport { GET_PROJECT_NAME } from '../../graphql';\nimport { ProjectDetail } from '../../models/graphql/user';\nimport { getProjectID, getProjectRole } from '../../utils/getSearchParams';\nimport ProjectDropdownItems from './ProjectDropDownItems';\nimport useStyles from './styles';\n\nconst ProjectDropdown: React.FC = () => {\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\n\n  // Get ProjectID from URL\n  const projectID = getProjectID();\n\n  // Get the projectRole from URL\n  const projectRole = getProjectRole();\n\n  // Get Project Name\n  const { data } = useQuery<ProjectDetail>(GET_PROJECT_NAME, {\n    variables: { projectID },\n  });\n\n  // Handle clicks\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'headerProjectDropdown' : undefined;\n\n  return (\n    <div className={classes.projectDropdown} data-cy=\"headerProjectDropdown\">\n      <Typography>{data?.getProject.name}</Typography>\n      <Typography> ({projectRole})</Typography>\n      <IconButton edge=\"end\" onClick={handleClick}>\n        <ExpandMoreRoundedIcon />\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left',\n        }}\n      >\n        <ProjectDropdownItems />\n      </Popover>\n    </div>\n  );\n};\n\nexport default ProjectDropdown;\n"]},"metadata":{},"sourceType":"module"}