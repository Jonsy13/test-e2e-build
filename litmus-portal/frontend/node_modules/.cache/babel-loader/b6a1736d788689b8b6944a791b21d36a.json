{"ast":null,"code":"import _slicedToArray from \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/TeamingTab/Team/tableData.tsx\";\n\nimport { useQuery } from '@apollo/client';\nimport { Avatar, IconButton, TableCell } from '@material-ui/core';\nimport moment from 'moment';\nimport React, { useState } from 'react';\nimport { GET_USER } from '../../../../graphql';\nimport { Role } from '../../../../models/graphql/user';\nimport { userInitials } from '../../../../utils/userInitials';\nimport RemoveMemberModal from './removeMemberModal';\nimport useStyles from './styles';\n\nvar TableData = function TableData(_ref) {\n  var row = _ref.row,\n      showModal = _ref.showModal;\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1]; // Function to display date in format Do MMM,YYYY Hr:MM AM/PM\n\n\n  var formatDate = function formatDate(date) {\n    var day = moment(date).format('Do MMM, YYYY LT');\n    return day;\n  };\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      memberDetails = _useState4[0],\n      setMemberDetails = _useState4[1];\n\n  useQuery(GET_USER, {\n    variables: {\n      username: row.user_name\n    },\n    onCompleted: function onCompleted(data) {\n      setMemberDetails({\n        name: data.getUser.name,\n        uid: data.getUser.id,\n        username: data.getUser.username,\n        role: data.getUser.role,\n        email: data.getUser.email\n      });\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.firstTC,\n    component: \"th\",\n    scope: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.firstCol,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    \"data-cy\": \"avatar\",\n    alt: \"User\",\n    className: classes.avatarBackground,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, userInitials(memberDetails ? memberDetails.username : '')), memberDetails ? memberDetails.username : '')), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.otherTC,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, row.role), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.otherTC,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, memberDetails ? memberDetails.email : ''), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.otherTC,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.dateDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.calIcon,\n    src: \"./icons/calendarIcon.svg\",\n    alt: \"calendar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), formatDate(row.joined_at))), row.role !== Role.owner ? /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.otherTC,\n    key: row.user_id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: function onClick() {\n      return setOpen(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"delete\",\n    src: \"./icons/deleteBin.svg\",\n    height: \"50\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }))) : /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.otherTC,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), open && /*#__PURE__*/React.createElement(RemoveMemberModal, {\n    open: open,\n    handleClose: function handleClose() {\n      setOpen(false);\n    },\n    row: row,\n    showModal: showModal,\n    isRemove: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default TableData;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/TeamingTab/Team/tableData.tsx"],"names":["useQuery","Avatar","IconButton","TableCell","moment","React","useState","GET_USER","Role","userInitials","RemoveMemberModal","useStyles","TableData","row","showModal","classes","open","setOpen","formatDate","date","day","format","memberDetails","setMemberDetails","variables","username","user_name","onCompleted","data","name","getUser","uid","id","role","email","firstTC","firstCol","avatarBackground","otherTC","dateDiv","calIcon","joined_at","owner","user_id"],"mappings":"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","sourcesContent":["import { useQuery } from '@apollo/client';\nimport { Avatar, IconButton, TableCell } from '@material-ui/core';\nimport moment from 'moment';\nimport React, { useState } from 'react';\nimport { GET_USER } from '../../../../graphql';\nimport {\n  CurrentUserDedtailsVars,\n  CurrentUserDetails,\n  Member,\n  Role,\n} from '../../../../models/graphql/user';\nimport { CurrentUserData } from '../../../../models/userData';\nimport { userInitials } from '../../../../utils/userInitials';\nimport RemoveMemberModal from './removeMemberModal';\nimport useStyles from './styles';\n\ninterface TableDataProps {\n  row: Member;\n  index: number;\n  showModal: () => void;\n}\nconst TableData: React.FC<TableDataProps> = ({ row, showModal }) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState<boolean>(false);\n\n  // Function to display date in format Do MMM,YYYY Hr:MM AM/PM\n  const formatDate = (date: string) => {\n    const day = moment(date).format('Do MMM, YYYY LT');\n    return day;\n  };\n\n  const [memberDetails, setMemberDetails] = useState<CurrentUserData>();\n\n  useQuery<CurrentUserDetails, CurrentUserDedtailsVars>(GET_USER, {\n    variables: { username: row.user_name },\n    onCompleted: (data) => {\n      setMemberDetails({\n        name: data.getUser.name,\n        uid: data.getUser.id,\n        username: data.getUser.username,\n        role: data.getUser.role,\n        email: data.getUser.email,\n      });\n    },\n  });\n  return (\n    <>\n      <TableCell className={classes.firstTC} component=\"th\" scope=\"row\">\n        <div className={classes.firstCol}>\n          <Avatar\n            data-cy=\"avatar\"\n            alt=\"User\"\n            className={classes.avatarBackground}\n          >\n            {userInitials(memberDetails ? memberDetails.username : '')}\n          </Avatar>\n          {memberDetails ? memberDetails.username : ''}\n        </div>\n      </TableCell>\n      <TableCell className={classes.otherTC}>{row.role}</TableCell>\n      <TableCell className={classes.otherTC}>\n        {memberDetails ? memberDetails.email : ''}\n      </TableCell>\n      <TableCell className={classes.otherTC}>\n        <div className={classes.dateDiv}>\n          <img\n            className={classes.calIcon}\n            src=\"./icons/calendarIcon.svg\"\n            alt=\"calendar\"\n          />\n          {formatDate(row.joined_at)}\n        </div>\n      </TableCell>\n\n      {row.role !== Role.owner ? (\n        <TableCell className={classes.otherTC} key={row.user_id}>\n          <IconButton onClick={() => setOpen(true)}>\n            <img alt=\"delete\" src=\"./icons/deleteBin.svg\" height=\"50\" />\n          </IconButton>\n        </TableCell>\n      ) : (\n        <TableCell className={classes.otherTC} />\n      )}\n      {open && (\n        <RemoveMemberModal\n          open={open}\n          handleClose={() => {\n            setOpen(false);\n          }}\n          row={row}\n          showModal={showModal}\n          isRemove\n        />\n      )}\n    </>\n  );\n};\nexport default TableData;\n"]},"metadata":{},"sourceType":"module"}