{"ast":null,"code":"import{AppBar,Typography}from'@material-ui/core';import useTheme from'@material-ui/core/styles/useTheme';import Tabs from'@material-ui/core/Tabs';import{ButtonFilled}from'litmus-ui';import React from'react';import{useTranslation}from'react-i18next';import{useSelector}from'react-redux';import{StyledTab,TabPanel}from'../../components/Tabs';import Scaffold from'../../containers/layouts/Scaffold';import useActions from'../../redux/actions';import*as TabActions from'../../redux/actions/tabs';import*as TemplateSelectionActions from'../../redux/actions/template';import*as WorkflowActions from'../../redux/actions/workflow';import{history}from'../../redux/configureStore';import{getProjectID,getProjectRole}from'../../utils/getSearchParams';import BrowseSchedule from'../../views/ChaosWorkflows/BrowseSchedule';import BrowseWorkflow from'../../views/ChaosWorkflows/BrowseWorkflow';import useStyles from'./styles';var Workflows=function Workflows(){var classes=useStyles();var _useTranslation=useTranslation(),t=_useTranslation.t;var projectID=getProjectID();var userRole=getProjectRole();var workflowAction=useActions(WorkflowActions);var template=useActions(TemplateSelectionActions);var workflowTabValue=useSelector(function(state){return state.tabNumber.workflows;});var tabs=useActions(TabActions);var theme=useTheme();var handleChange=function handleChange(event,newValue){tabs.changeWorkflowsTabs(newValue);};var handleScheduleWorkflow=function handleScheduleWorkflow(){workflowAction.setWorkflowDetails({isCustomWorkflow:false,customWorkflows:[]});template.selectTemplate({selectedTemplateID:0,isDisable:true});history.push({pathname:'/create-workflow',search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(userRole)});};return/*#__PURE__*/React.createElement(Scaffold,null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.header},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\"},\"Chaos Workflows\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.scheduleBtn},/*#__PURE__*/React.createElement(ButtonFilled,{onClick:handleScheduleWorkflow},t('workflows.scheduleAWorkflow'))))),/*#__PURE__*/React.createElement(AppBar,{position:\"static\",color:\"default\",className:classes.appBar},/*#__PURE__*/React.createElement(Tabs,{value:workflowTabValue,onChange:handleChange,TabIndicatorProps:{style:{backgroundColor:theme.palette.highlight}},variant:\"fullWidth\"},/*#__PURE__*/React.createElement(StyledTab,{label:\"\".concat(t('workflows.browseWorkflows')),\"data-cy\":\"browseWorkflow\"}),/*#__PURE__*/React.createElement(StyledTab,{label:\"\".concat(t('workflows.schedules')),\"data-cy\":\"browseSchedule\"}))),/*#__PURE__*/React.createElement(TabPanel,{value:workflowTabValue,index:0},/*#__PURE__*/React.createElement(BrowseWorkflow,null)),/*#__PURE__*/React.createElement(TabPanel,{value:workflowTabValue,index:1},/*#__PURE__*/React.createElement(BrowseSchedule,null)));};export default Workflows;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/pages/Workflows/index.tsx"],"names":["AppBar","Typography","useTheme","Tabs","ButtonFilled","React","useTranslation","useSelector","StyledTab","TabPanel","Scaffold","useActions","TabActions","TemplateSelectionActions","WorkflowActions","history","getProjectID","getProjectRole","BrowseSchedule","BrowseWorkflow","useStyles","Workflows","classes","t","projectID","userRole","workflowAction","template","workflowTabValue","state","tabNumber","workflows","tabs","theme","handleChange","event","newValue","changeWorkflowsTabs","handleScheduleWorkflow","setWorkflowDetails","isCustomWorkflow","customWorkflows","selectTemplate","selectedTemplateID","isDisable","push","pathname","search","header","scheduleBtn","appBar","style","backgroundColor","palette","highlight"],"mappings":"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","sourcesContent":["import { AppBar, Typography } from '@material-ui/core';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport Tabs from '@material-ui/core/Tabs';\nimport { ButtonFilled } from 'litmus-ui';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { StyledTab, TabPanel } from '../../components/Tabs';\nimport Scaffold from '../../containers/layouts/Scaffold';\nimport useActions from '../../redux/actions';\nimport * as TabActions from '../../redux/actions/tabs';\nimport * as TemplateSelectionActions from '../../redux/actions/template';\nimport * as WorkflowActions from '../../redux/actions/workflow';\nimport { history } from '../../redux/configureStore';\nimport { RootState } from '../../redux/reducers';\nimport { getProjectID, getProjectRole } from '../../utils/getSearchParams';\nimport BrowseSchedule from '../../views/ChaosWorkflows/BrowseSchedule';\nimport BrowseWorkflow from '../../views/ChaosWorkflows/BrowseWorkflow';\nimport useStyles from './styles';\n\nconst Workflows = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const projectID = getProjectID();\n  const userRole = getProjectRole();\n  const workflowAction = useActions(WorkflowActions);\n  const template = useActions(TemplateSelectionActions);\n  const workflowTabValue = useSelector(\n    (state: RootState) => state.tabNumber.workflows\n  );\n  const tabs = useActions(TabActions);\n\n  const theme = useTheme();\n\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    tabs.changeWorkflowsTabs(newValue);\n  };\n\n  const handleScheduleWorkflow = () => {\n    workflowAction.setWorkflowDetails({\n      isCustomWorkflow: false,\n      customWorkflows: [],\n    });\n    template.selectTemplate({ selectedTemplateID: 0, isDisable: true });\n    history.push({\n      pathname: '/create-workflow',\n      search: `?projectID=${projectID}&projectRole=${userRole}`,\n    });\n  };\n\n  return (\n    <Scaffold>\n      <section>\n        <div className={classes.header}>\n          <Typography variant=\"h3\">Chaos Workflows</Typography>\n          <div className={classes.scheduleBtn}>\n            <ButtonFilled onClick={handleScheduleWorkflow}>\n              {t('workflows.scheduleAWorkflow')}\n            </ButtonFilled>\n          </div>\n        </div>\n      </section>\n      <AppBar position=\"static\" color=\"default\" className={classes.appBar}>\n        <Tabs\n          value={workflowTabValue}\n          onChange={handleChange}\n          TabIndicatorProps={{\n            style: {\n              backgroundColor: theme.palette.highlight,\n            },\n          }}\n          variant=\"fullWidth\"\n        >\n          <StyledTab\n            label={`${t('workflows.browseWorkflows')}`}\n            data-cy=\"browseWorkflow\"\n          />\n          <StyledTab\n            label={`${t('workflows.schedules')}`}\n            data-cy=\"browseSchedule\"\n          />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={workflowTabValue} index={0}>\n        <BrowseWorkflow />\n      </TabPanel>\n      <TabPanel value={workflowTabValue} index={1}>\n        <BrowseSchedule />\n      </TabPanel>\n    </Scaffold>\n  );\n};\n\nexport default Workflows;\n"]},"metadata":{},"sourceType":"module"}