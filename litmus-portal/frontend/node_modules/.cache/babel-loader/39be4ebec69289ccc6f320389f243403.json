{"ast":null,"code":"import{IconButton,Typography}from'@material-ui/core';import ExpandMoreTwoToneIcon from'@material-ui/icons/ExpandMoreTwoTone';import cronstrue from'cronstrue';import moment from'moment';import React from'react';import{useTranslation}from'react-i18next';import{CheckBox}from'../../../../components/CheckBox';import{history}from'../../../../redux/configureStore';import{getProjectID,getProjectRole}from'../../../../utils/getSearchParams';import useStyles,{StyledTableCell}from'./styles';var TableData=function TableData(_ref){var data=_ref.data,itemSelectionStatus=_ref.itemSelectionStatus,labelIdentifier=_ref.labelIdentifier,comparisonState=_ref.comparisonState;var classes=useStyles();var _useTranslation=useTranslation(),t=_useTranslation.t;var projectID=getProjectID();var userRole=getProjectRole();// Function to convert UNIX time in format of DD MMM YYY\nvar formatDate=function formatDate(date){var updated=new Date(parseInt(date,10)*1000).toString();var resDate=moment(updated).format('DD MMM YYYY');return resDate;};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StyledTableCell,{padding:\"checkbox\",className:classes.checkbox},comparisonState===false&&/*#__PURE__*/React.createElement(CheckBox,{checked:itemSelectionStatus,inputProps:{'aria-labelledby':labelIdentifier}})),/*#__PURE__*/React.createElement(StyledTableCell,{className:classes.workflowName},/*#__PURE__*/React.createElement(Typography,null,/*#__PURE__*/React.createElement(\"strong\",null,data.workflow_name))),/*#__PURE__*/React.createElement(StyledTableCell,null,/*#__PURE__*/React.createElement(Typography,{className:classes.tableObjects},formatDate(data.created_at))),/*#__PURE__*/React.createElement(StyledTableCell,null,/*#__PURE__*/React.createElement(\"div\",{className:classes.regularityData},/*#__PURE__*/React.createElement(\"div\",{className:classes.iconDiv},/*#__PURE__*/React.createElement(\"img\",{src:\"./icons/calendarIcon.svg\",alt:\"Calender\"}),/*#__PURE__*/React.createElement(Typography,{className:classes.paddedText},data.cronSyntax===''?t('chaosWorkflows.browseAnalytics.workFlowComparisonTable.once'):cronstrue.toString(data.cronSyntax))))),/*#__PURE__*/React.createElement(StyledTableCell,null,/*#__PURE__*/React.createElement(Typography,{className:classes.tableObjects},\"\\xA0\",data.cluster_name)),/*#__PURE__*/React.createElement(StyledTableCell,null,/*#__PURE__*/React.createElement(Typography,{className:classes.tableObjects},/*#__PURE__*/React.createElement(\"strong\",null,t('chaosWorkflows.browseAnalytics.workFlowComparisonTable.seeAnalytics')),/*#__PURE__*/React.createElement(IconButton,{edge:\"end\",\"aria-label\":\"analytics for workflow id\",\"aria-haspopup\":\"true\",onClick:function onClick(){history.push({pathname:\"/workflows/analytics/\".concat(data.workflow_id),search:\"?projectID=\".concat(projectID,\"&projectRole=\").concat(userRole)});},className:classes.buttonSeeAnalytics},/*#__PURE__*/React.createElement(ExpandMoreTwoToneIcon,{htmlColor:\"black\"})))));};export default TableData;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Analytics/WorkflowDashboard/WorkflowComparisonTable/TableData.tsx"],"names":["IconButton","Typography","ExpandMoreTwoToneIcon","cronstrue","moment","React","useTranslation","CheckBox","history","getProjectID","getProjectRole","useStyles","StyledTableCell","TableData","data","itemSelectionStatus","labelIdentifier","comparisonState","classes","t","projectID","userRole","formatDate","date","updated","Date","parseInt","toString","resDate","format","checkbox","workflowName","workflow_name","tableObjects","created_at","regularityData","iconDiv","paddedText","cronSyntax","cluster_name","push","pathname","workflow_id","search","buttonSeeAnalytics"],"mappings":"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","sourcesContent":["import { IconButton, Typography } from '@material-ui/core';\nimport ExpandMoreTwoToneIcon from '@material-ui/icons/ExpandMoreTwoTone';\nimport cronstrue from 'cronstrue';\nimport moment from 'moment';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CheckBox } from '../../../../components/CheckBox';\nimport { ScheduledWorkflow } from '../../../../models/graphql/workflowListData';\nimport { history } from '../../../../redux/configureStore';\nimport {\n  getProjectID,\n  getProjectRole,\n} from '../../../../utils/getSearchParams';\nimport useStyles, { StyledTableCell } from './styles';\n\ninterface TableDataProps {\n  data: ScheduledWorkflow;\n  itemSelectionStatus: boolean;\n  labelIdentifier: string;\n  comparisonState: Boolean;\n}\n\nconst TableData: React.FC<TableDataProps> = ({\n  data,\n  itemSelectionStatus,\n  labelIdentifier,\n  comparisonState,\n}) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const projectID = getProjectID();\n  const userRole = getProjectRole();\n\n  // Function to convert UNIX time in format of DD MMM YYY\n  const formatDate = (date: string) => {\n    const updated = new Date(parseInt(date, 10) * 1000).toString();\n    const resDate = moment(updated).format('DD MMM YYYY');\n    return resDate;\n  };\n\n  return (\n    <>\n      <StyledTableCell padding=\"checkbox\" className={classes.checkbox}>\n        {comparisonState === false && (\n          <CheckBox\n            checked={itemSelectionStatus}\n            inputProps={{ 'aria-labelledby': labelIdentifier }}\n          />\n        )}\n      </StyledTableCell>\n      <StyledTableCell className={classes.workflowName}>\n        <Typography>\n          <strong>{data.workflow_name}</strong>\n        </Typography>\n      </StyledTableCell>\n      <StyledTableCell>\n        <Typography className={classes.tableObjects}>\n          {formatDate(data.created_at)}\n        </Typography>\n      </StyledTableCell>\n      <StyledTableCell>\n        <div className={classes.regularityData}>\n          <div className={classes.iconDiv}>\n            <img src=\"./icons/calendarIcon.svg\" alt=\"Calender\" />\n            <Typography className={classes.paddedText}>\n              {data.cronSyntax === ''\n                ? t(\n                    'chaosWorkflows.browseAnalytics.workFlowComparisonTable.once'\n                  )\n                : cronstrue.toString(data.cronSyntax)}\n            </Typography>\n          </div>\n        </div>\n      </StyledTableCell>\n      <StyledTableCell>\n        <Typography className={classes.tableObjects}>\n          &nbsp;{data.cluster_name}\n        </Typography>\n      </StyledTableCell>\n      <StyledTableCell>\n        <Typography className={classes.tableObjects}>\n          <strong>\n            {t(\n              'chaosWorkflows.browseAnalytics.workFlowComparisonTable.seeAnalytics'\n            )}\n          </strong>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"analytics for workflow id\"\n            aria-haspopup=\"true\"\n            onClick={() => {\n              history.push({\n                pathname: `/workflows/analytics/${data.workflow_id}`,\n                search: `?projectID=${projectID}&projectRole=${userRole}`,\n              });\n            }}\n            className={classes.buttonSeeAnalytics}\n          >\n            <ExpandMoreTwoToneIcon htmlColor=\"black\" />\n          </IconButton>\n        </Typography>\n      </StyledTableCell>\n    </>\n  );\n};\nexport default TableData;\n"]},"metadata":{},"sourceType":"module"}