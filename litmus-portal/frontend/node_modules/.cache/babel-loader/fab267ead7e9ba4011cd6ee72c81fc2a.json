{"ast":null,"code":"import _slicedToArray from \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/UserManagementTab/CreateUser/NewUserModal/index.tsx\";\n\nimport { useMutation } from '@apollo/client';\nimport { Typography } from '@material-ui/core';\nimport { ButtonFilled, ButtonOutlined, Modal } from 'litmus-ui';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Loader from '../../../../../components/Loader';\nimport config from '../../../../../config';\nimport { CREATE_USER } from '../../../../../graphql';\nimport { getToken } from '../../../../../utils/auth';\nimport useStyles from './styles'; // Props for NewUserModal component\n\n// NewUserModal displays a modal on creating a new user\nvar NewUserModal = function NewUserModal(_ref) {\n  var username = _ref.username,\n      password = _ref.password,\n      name = _ref.name,\n      email = _ref.email,\n      handleDiv = _ref.handleDiv;\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var role = 'user';\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n    handleDiv();\n  };\n\n  var _useMutation = useMutation(CREATE_USER, {\n    onError: function onError(err) {\n      console.error(err);\n    },\n    onCompleted: function onCompleted() {\n      setLoading(false);\n      setOpen(true);\n      setError('');\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      CreateUser = _useMutation2[0];\n\n  var handleOpen = function handleOpen() {\n    setLoading(true);\n    fetch(\"\".concat(config.auth.url, \"/create\"), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: \"Bearer \".concat(getToken())\n      },\n      body: JSON.stringify({\n        email: email,\n        username: username,\n        name: name,\n        password: password,\n        role: role\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if ('error' in data) {\n        setError(data.error_description);\n        setLoading(false);\n        setOpen(true);\n      } else {\n        CreateUser({\n          variables: {\n            user: {\n              username: username,\n              email: email,\n              name: name,\n              role: 'user',\n              userID: data._id\n            }\n          }\n        });\n      }\n    }).catch(function (err) {\n      console.error(err);\n      setError(err.message);\n      setLoading(false);\n      setOpen(true);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-cy\": \"createNewUserButton\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ButtonFilled, {\n    disabled: !(username.length > 0 && password.length > 0 && !loading),\n    onClick: handleOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, t('settings.userManagementTab.createUser.newUserModal.button.create')))), /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: handleClose,\n    modalActions: /*#__PURE__*/React.createElement(ButtonOutlined, {\n      onClick: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, \"\\u2715\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, error.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.errDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.textError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.typo,\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, t('settings.userManagementTab.createUser.newUserModal.error')), ' ', t('settings.userManagementTab.createUser.newUserModal.headerErr'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.textSecondError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.typoSub,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, t('settings.userManagementTab.createUser.newUserModal.error'), \":\", ' ', error)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-cy\": \"newUserDoneButton\",\n    className: classes.buttonModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonFilled, {\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, t('settings.userManagementTab.createUser.newUserModal.button.done'))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.body,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./icons/checkmark.svg\",\n    alt: \"checkmark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.typo,\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, t('settings.userManagementTab.createUser.newUserModal.header'), ' ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, name), ' ', t('settings.userManagementTab.createUser.newUserModal.headerInfo'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.textSecond,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.typoSub,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, t('settings.userManagementTab.createUser.newUserModal.info'))), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-cy\": \"newUserDoneButton\",\n    className: classes.buttonModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonFilled, {\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, t('settings.userManagementTab.createUser.newUserModal.button.done')))))));\n};\n\nexport default NewUserModal;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/UserManagementTab/CreateUser/NewUserModal/index.tsx"],"names":["useMutation","Typography","ButtonFilled","ButtonOutlined","Modal","React","useState","useTranslation","Loader","config","CREATE_USER","getToken","useStyles","NewUserModal","username","password","name","email","handleDiv","classes","t","role","open","setOpen","loading","setLoading","error","setError","handleClose","onError","err","console","onCompleted","CreateUser","handleOpen","fetch","auth","url","method","headers","Authorization","body","JSON","stringify","then","response","json","data","error_description","variables","user","userID","_id","catch","message","length","errDiv","textError","typo","textSecondError","typoSub","buttonModal","text","textSecond"],"mappings":"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","sourcesContent":["import { useMutation } from '@apollo/client';\nimport { Typography } from '@material-ui/core';\nimport { ButtonFilled, ButtonOutlined, Modal } from 'litmus-ui';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Loader from '../../../../../components/Loader';\nimport config from '../../../../../config';\nimport { CREATE_USER } from '../../../../../graphql';\nimport { CreateUserData } from '../../../../../models/graphql/user';\nimport { getToken } from '../../../../../utils/auth';\nimport useStyles from './styles';\n\n// Props for NewUserModal component\ninterface NewUserModalProps {\n  showModal: boolean;\n  username: string;\n  password: string;\n  name: string;\n  email: string;\n  handleDiv: () => void;\n}\n\n// NewUserModal displays a modal on creating a new user\nconst NewUserModal: React.FC<NewUserModalProps> = ({\n  username,\n  password,\n  name,\n  email,\n  handleDiv,\n}) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const role = 'user';\n  const [open, setOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = useState<string>('');\n\n  const handleClose = () => {\n    setOpen(false);\n    handleDiv();\n  };\n\n  const [CreateUser] = useMutation<CreateUserData>(CREATE_USER, {\n    onError: (err) => {\n      console.error(err);\n    },\n    onCompleted: () => {\n      setLoading(false);\n      setOpen(true);\n      setError('');\n    },\n  });\n\n  const handleOpen = () => {\n    setLoading(true);\n    fetch(`${config.auth.url}/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getToken()}`,\n      },\n      body: JSON.stringify({ email, username, name, password, role }),\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        if ('error' in data) {\n          setError(data.error_description as string);\n          setLoading(false);\n          setOpen(true);\n        } else {\n          CreateUser({\n            variables: {\n              user: {\n                username,\n                email,\n                name,\n                role: 'user',\n                userID: data._id,\n              },\n            },\n          });\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n        setError(err.message as string);\n        setLoading(false);\n        setOpen(true);\n      });\n  };\n\n  return (\n    <div>\n      <div data-cy=\"createNewUserButton\">\n        <ButtonFilled\n          disabled={!(username.length > 0 && password.length > 0 && !loading)}\n          onClick={handleOpen}\n        >\n          {loading ? (\n            <div>\n              <Loader size={20} />\n            </div>\n          ) : (\n            <>\n              {t(\n                'settings.userManagementTab.createUser.newUserModal.button.create'\n              )}\n            </>\n          )}\n        </ButtonFilled>\n      </div>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        modalActions={\n          <ButtonOutlined onClick={handleClose}>&#x2715;</ButtonOutlined>\n        }\n      >\n        {error.length ? (\n          <div className={classes.errDiv}>\n            {/* <img src=\"./icons/checkmark.svg\" alt=\"checkmark\" /> */}\n\n            <div className={classes.textError}>\n              <Typography className={classes.typo} align=\"center\">\n                <strong>\n                  {t(\n                    'settings.userManagementTab.createUser.newUserModal.error'\n                  )}\n                </strong>{' '}\n                {t(\n                  'settings.userManagementTab.createUser.newUserModal.headerErr'\n                )}\n              </Typography>\n            </div>\n            <div className={classes.textSecondError}>\n              <Typography className={classes.typoSub}>\n                {t('settings.userManagementTab.createUser.newUserModal.error')}:{' '}\n                {error}\n              </Typography>\n            </div>\n            <div data-cy=\"newUserDoneButton\" className={classes.buttonModal}>\n              <ButtonFilled onClick={handleClose}>\n                <>\n                  {t(\n                    'settings.userManagementTab.createUser.newUserModal.button.done'\n                  )}\n                </>\n              </ButtonFilled>\n            </div>\n          </div>\n        ) : (\n          <div className={classes.body}>\n            <img src=\"./icons/checkmark.svg\" alt=\"checkmark\" />\n            <div className={classes.text}>\n              <Typography className={classes.typo} align=\"center\">\n                {t('settings.userManagementTab.createUser.newUserModal.header')}{' '}\n                <strong>{name}</strong>{' '}\n                {t(\n                  'settings.userManagementTab.createUser.newUserModal.headerInfo'\n                )}\n              </Typography>\n            </div>\n            <div className={classes.textSecond}>\n              <Typography className={classes.typoSub}>\n                {t('settings.userManagementTab.createUser.newUserModal.info')}\n              </Typography>\n            </div>\n            <div data-cy=\"newUserDoneButton\" className={classes.buttonModal}>\n              <ButtonFilled onClick={handleClose}>\n                <>\n                  {t(\n                    'settings.userManagementTab.createUser.newUserModal.button.done'\n                  )}\n                </>\n              </ButtonFilled>\n            </div>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n};\nexport default NewUserModal;\n"]},"metadata":{},"sourceType":"module"}