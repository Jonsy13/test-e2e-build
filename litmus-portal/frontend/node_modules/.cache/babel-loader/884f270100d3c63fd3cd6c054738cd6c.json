{"ast":null,"code":"import _defineProperty from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unused-expressions */import{useQuery}from'@apollo/client';import{FormControlLabel,FormGroup,Icon,Typography}from'@material-ui/core';import{InputField,RadioButton}from'litmus-ui';import React,{useEffect,useState}from'react';import{useTranslation}from'react-i18next';import{LIST_DATASOURCE}from'../../../../graphql';import{getProjectID}from'../../../../utils/getSearchParams';import{isValidWebUrl,validateTextEmpty,validateTimeInSeconds}from'../../../../utils/validate';import useStyles from'./styles';var ConfigurePrometheus=function ConfigurePrometheus(_ref){var configure=_ref.configure,dataSourceID=_ref.dataSourceID,page=_ref.page,CallbackToSetVars=_ref.CallbackToSetVars;var classes=useStyles();var _useTranslation=useTranslation(),t=_useTranslation.t;var projectID=getProjectID();var _useState=useState({id:'',name:'',dataSourceType:'Prometheus',url:'http://localhost:9090',access:'Server (Default)',basicAuth:false,username:'',password:'',noAuth:true,withCredentials:false,tlsClientAuth:false,withCACert:false,scrapeInterval:'15s',queryTimeout:'30s',httpMethod:'POST'}),_useState2=_slicedToArray(_useState,2),dataSourceDetails=_useState2[0],setDataSourceDetails=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];// Apollo query to get the datasource data\nvar _useQuery=useQuery(LIST_DATASOURCE,{variables:{projectID:projectID},fetchPolicy:'cache-and-network'}),data=_useQuery.data;var nameChangeHandler=function nameChangeHandler(event){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{name:event.target.value}));setUpdate(true);};var urlChangeHandler=function urlChangeHandler(event){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{url:event.target.value}));setUpdate(true);};var usernameChangeHandler=function usernameChangeHandler(event){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{username:event.target.value}));setUpdate(true);};var passwordChangeHandler=function passwordChangeHandler(event){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{password:event.target.value}));setUpdate(true);};var scrapeIntervalChangeHandler=function scrapeIntervalChangeHandler(event){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{scrapeInterval:event.target.value}));setUpdate(true);};var queryTimeoutChangeHandler=function queryTimeoutChangeHandler(event){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{queryTimeout:event.target.value}));setUpdate(true);};var handleAuthChange=function handleAuthChange(event){if(event.target.checked){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},_defineProperty({basicAuth:false,noAuth:false,withCredentials:false,tlsClientAuth:false,withCACert:false},event.target.name,event.target.checked)));}else if(dataSourceDetails.noAuth===false){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},_defineProperty({noAuth:true},event.target.name,event.target.checked)));}setUpdate(true);};useEffect(function(){if(configure===true){data===null||data===void 0?void 0:data.ListDataSource.forEach(function(dataSourceDetail){if(dataSourceDetail.ds_id===dataSourceID){setDataSourceDetails(_objectSpread(_objectSpread({},dataSourceDetails),{},{id:dataSourceDetail.ds_id,name:dataSourceDetail.ds_name,dataSourceType:dataSourceDetail.ds_type,url:dataSourceDetail.ds_url,access:dataSourceDetail.access_type,basicAuth:dataSourceDetail.auth_type==='basic auth',username:dataSourceDetail.basic_auth_username,password:dataSourceDetail.basic_auth_password,noAuth:dataSourceDetail.auth_type==='no auth',withCredentials:false,tlsClientAuth:false,withCACert:false,scrapeInterval:\"\".concat(dataSourceDetail.scrape_interval.toString(),\"s\"),queryTimeout:\"\".concat(dataSourceDetail.query_timeout.toString(),\"s\"),httpMethod:dataSourceDetail.http_method}));setUpdate(true);}});}},[data]);useEffect(function(){if(update===true){CallbackToSetVars(dataSourceDetails);setUpdate(false);}},[update]);return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},page===1?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{className:classes.heading},t('analyticsDashboard.dataSourceForm.general')),/*#__PURE__*/React.createElement(Typography,{className:classes.subHeading},t('analyticsDashboard.dataSourceForm.generalInfo')),/*#__PURE__*/React.createElement(\"div\",{className:classes.flexDisplay,style:{width:'80%'}},/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.name'),\"data-cy\":\"inputDataSourceName\",width:\"22.5rem\",variant:validateTextEmpty(dataSourceDetails.name)?'error':'primary',onChange:nameChangeHandler,value:dataSourceDetails.name})),/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.dataSourceType'),\"data-cy\":\"inputDataSourceType\",width:\"22.5rem\",variant:validateTextEmpty(dataSourceDetails.dataSourceType)?'error':'primary',disabled:true,value:dataSourceDetails.dataSourceType}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.iconWithTextDiv},/*#__PURE__*/React.createElement(\"img\",{src:\"/icons/docs.svg\",alt:\"Docs icon\",className:classes.inlineIcon}),/*#__PURE__*/React.createElement(Typography,{className:classes.infoValue},t('analyticsDashboard.dataSourceForm.docsAndSetup')),/*#__PURE__*/React.createElement(Icon,{onClick:function onClick(){window.open('https://github.com/litmuschaos/litmus/tree/master/monitoring#model-1-optional-prometheus-scrape-config-model');}},/*#__PURE__*/React.createElement(\"img\",{src:\"/icons/externalLink.svg\",alt:\"external link\",className:classes.linkIcon}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.horizontalLine}),/*#__PURE__*/React.createElement(Typography,{className:classes.heading},t('analyticsDashboard.dataSourceForm.endPoint')),/*#__PURE__*/React.createElement(Typography,{className:classes.subHeading},t('analyticsDashboard.dataSourceForm.endPointInfo')),/*#__PURE__*/React.createElement(\"div\",{className:classes.flexDisplay,style:{width:'80%'}},/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.url'),\"data-cy\":\"inputDataSourceURL\",width:\"22.5rem\",variant:isValidWebUrl(dataSourceDetails.url)?'primary':'error',onChange:urlChangeHandler,value:dataSourceDetails.url})),/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.Access'),\"data-cy\":\"inputDataSourceAccess\",width:\"22.5rem\",variant:validateTextEmpty(dataSourceDetails.access)?'error':'primary',disabled:true,value:dataSourceDetails.access}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.horizontalLine})):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{className:classes.heading},t('analyticsDashboard.dataSourceForm.authentication')),/*#__PURE__*/React.createElement(Typography,{className:classes.subHeading},t('analyticsDashboard.dataSourceForm.authenticationInfo')),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDivRadioButton},/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(RadioButton,{color:\"primary\",checked:dataSourceDetails.noAuth,onChange:handleAuthChange,name:\"noAuth\"}),label:t('analyticsDashboard.dataSourceForm.noAuth')}),/*#__PURE__*/React.createElement(FormControlLabel,{className:classes.basicAuth,control:/*#__PURE__*/React.createElement(RadioButton,{color:\"primary\",checked:dataSourceDetails.basicAuth,onChange:handleAuthChange,name:\"basicAuth\"}),label:t('analyticsDashboard.dataSourceForm.basicAuth')}),/*#__PURE__*/React.createElement(FormControlLabel,{className:classes.withCredentials,control:/*#__PURE__*/React.createElement(RadioButton,{color:\"primary\",disabled:true,checked:dataSourceDetails.withCredentials,onChange:handleAuthChange,name:\"withCredentials\"}),label:t('analyticsDashboard.dataSourceForm.withCredentials')})),/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDivRadioButton},/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(RadioButton,{color:\"primary\",disabled:true,checked:dataSourceDetails.tlsClientAuth,onChange:handleAuthChange,name:\"tlsClientAuth\"}),label:t('analyticsDashboard.dataSourceForm.tlsClientAuth')}),/*#__PURE__*/React.createElement(FormControlLabel,{className:classes.withCACert,control:/*#__PURE__*/React.createElement(RadioButton,{color:\"primary\",disabled:true,checked:dataSourceDetails.withCACert,onChange:handleAuthChange,name:\"withCACert\"}),label:t('analyticsDashboard.dataSourceForm.withCACert')}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.horizontalLine}),dataSourceDetails.basicAuth?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.flexDisplay,style:{width:'55%'}},/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.username'),\"data-cy\":\"inputPrometheusUsername\",width:\"14rem\",variant:validateTextEmpty(dataSourceDetails.username)?'error':'primary',onChange:usernameChangeHandler,value:dataSourceDetails.username})),/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.password'),type:\"password\",\"data-cy\":\"inputPrometheusPassword\",width:\"14rem\",variant:validateTextEmpty(dataSourceDetails.password)?'error':'primary',onChange:passwordChangeHandler,value:dataSourceDetails.password}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.horizontalLine})):/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(Typography,{className:classes.heading},t('analyticsDashboard.dataSourceForm.configuration')),/*#__PURE__*/React.createElement(Typography,{className:classes.subHeading},t('analyticsDashboard.dataSourceForm.configurationInfo')),/*#__PURE__*/React.createElement(\"div\",{className:classes.flexDisplay,style:{width:'80%'}},/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.scrapeInterval'),\"data-cy\":\"inputScrapeInterval\",width:\"13.5rem\",variant:validateTimeInSeconds(dataSourceDetails.scrapeInterval)?'primary':'error',onChange:scrapeIntervalChangeHandler,value:dataSourceDetails.scrapeInterval})),/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.queryTimeOut'),\"data-cy\":\"inputQueryTimeout\",width:\"13.5rem\",variant:validateTimeInSeconds(dataSourceDetails.queryTimeout)?'primary':'error',onChange:queryTimeoutChangeHandler,value:dataSourceDetails.queryTimeout})),/*#__PURE__*/React.createElement(\"div\",{className:classes.inputDiv},/*#__PURE__*/React.createElement(InputField,{label:t('analyticsDashboard.dataSourceForm.httpMethod'),\"data-cy\":\"inputHTTPMethod\",width:\"13.5rem\",variant:validateTextEmpty(dataSourceDetails.httpMethod)?'error':'primary',disabled:true,value:dataSourceDetails.httpMethod})))));};export default ConfigurePrometheus;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Analytics/DataSources/Forms/prometheus.tsx"],"names":["useQuery","FormControlLabel","FormGroup","Icon","Typography","InputField","RadioButton","React","useEffect","useState","useTranslation","LIST_DATASOURCE","getProjectID","isValidWebUrl","validateTextEmpty","validateTimeInSeconds","useStyles","ConfigurePrometheus","configure","dataSourceID","page","CallbackToSetVars","classes","t","projectID","id","name","dataSourceType","url","access","basicAuth","username","password","noAuth","withCredentials","tlsClientAuth","withCACert","scrapeInterval","queryTimeout","httpMethod","dataSourceDetails","setDataSourceDetails","update","setUpdate","variables","fetchPolicy","data","nameChangeHandler","event","target","value","urlChangeHandler","usernameChangeHandler","passwordChangeHandler","scrapeIntervalChangeHandler","queryTimeoutChangeHandler","handleAuthChange","checked","ListDataSource","forEach","dataSourceDetail","ds_id","ds_name","ds_type","ds_url","access_type","auth_type","basic_auth_username","basic_auth_password","scrape_interval","toString","query_timeout","http_method","root","heading","subHeading","flexDisplay","width","inputDiv","iconWithTextDiv","inlineIcon","infoValue","window","open","linkIcon","horizontalLine","inputDivRadioButton"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\nimport { useQuery } from '@apollo/client';\nimport {\n  FormControlLabel,\n  FormGroup,\n  Icon,\n  Typography,\n} from '@material-ui/core';\nimport { InputField, RadioButton } from 'litmus-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LIST_DATASOURCE } from '../../../../graphql';\nimport { DataSourceDetails } from '../../../../models/dataSourceData';\nimport {\n  DataSourceList,\n  ListDataSourceResponse,\n  ListDataSourceVars,\n} from '../../../../models/graphql/dataSourceDetails';\nimport { getProjectID } from '../../../../utils/getSearchParams';\nimport {\n  isValidWebUrl,\n  validateTextEmpty,\n  validateTimeInSeconds,\n} from '../../../../utils/validate';\nimport useStyles from './styles';\n\ninterface ConfigurePrometheusProps {\n  configure: boolean;\n  dataSourceID?: string;\n  page: number;\n  CallbackToSetVars: (vars: DataSourceDetails) => void;\n}\n\nconst ConfigurePrometheus: React.FC<ConfigurePrometheusProps> = ({\n  configure,\n  dataSourceID,\n  page,\n  CallbackToSetVars,\n}) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const projectID = getProjectID();\n  const [dataSourceDetails, setDataSourceDetails] = useState<DataSourceDetails>(\n    {\n      id: '',\n      name: '',\n      dataSourceType: 'Prometheus',\n      url: 'http://localhost:9090',\n      access: 'Server (Default)',\n      basicAuth: false,\n      username: '',\n      password: '',\n      noAuth: true,\n      withCredentials: false,\n      tlsClientAuth: false,\n      withCACert: false,\n      scrapeInterval: '15s',\n      queryTimeout: '30s',\n      httpMethod: 'POST',\n    }\n  );\n  const [update, setUpdate] = useState(false);\n\n  // Apollo query to get the datasource data\n  const { data } = useQuery<DataSourceList, ListDataSourceVars>(\n    LIST_DATASOURCE,\n    {\n      variables: { projectID },\n      fetchPolicy: 'cache-and-network',\n    }\n  );\n\n  const nameChangeHandler = (event: React.ChangeEvent<{ value: string }>) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      name: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const urlChangeHandler = (event: React.ChangeEvent<{ value: string }>) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      url: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const usernameChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      username: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const passwordChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      password: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const scrapeIntervalChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      scrapeInterval: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const queryTimeoutChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      queryTimeout: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const handleAuthChange = (\n    event: React.ChangeEvent<{ name: string; checked: boolean }>\n  ) => {\n    if (event.target.checked) {\n      setDataSourceDetails({\n        ...dataSourceDetails,\n        basicAuth: false,\n        noAuth: false,\n        withCredentials: false,\n        tlsClientAuth: false,\n        withCACert: false,\n        [event.target.name]: event.target.checked,\n      });\n    } else if (dataSourceDetails.noAuth === false) {\n      setDataSourceDetails({\n        ...dataSourceDetails,\n        noAuth: true,\n        [event.target.name]: event.target.checked,\n      });\n    }\n    setUpdate(true);\n  };\n\n  useEffect(() => {\n    if (configure === true) {\n      data?.ListDataSource.forEach(\n        (dataSourceDetail: ListDataSourceResponse) => {\n          if (dataSourceDetail.ds_id === dataSourceID) {\n            setDataSourceDetails({\n              ...dataSourceDetails,\n              id: dataSourceDetail.ds_id,\n              name: dataSourceDetail.ds_name,\n              dataSourceType: dataSourceDetail.ds_type,\n              url: dataSourceDetail.ds_url,\n              access: dataSourceDetail.access_type,\n              basicAuth: dataSourceDetail.auth_type === 'basic auth',\n              username: dataSourceDetail.basic_auth_username,\n              password: dataSourceDetail.basic_auth_password,\n              noAuth: dataSourceDetail.auth_type === 'no auth',\n              withCredentials: false,\n              tlsClientAuth: false,\n              withCACert: false,\n              scrapeInterval: `${dataSourceDetail.scrape_interval.toString()}s`,\n              queryTimeout: `${dataSourceDetail.query_timeout.toString()}s`,\n              httpMethod: dataSourceDetail.http_method,\n            });\n            setUpdate(true);\n          }\n        }\n      );\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (update === true) {\n      CallbackToSetVars(dataSourceDetails);\n      setUpdate(false);\n    }\n  }, [update]);\n\n  return (\n    <div className={classes.root}>\n      {page === 1 ? (\n        <div>\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.general')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.generalInfo')}\n          </Typography>\n          <div className={classes.flexDisplay} style={{ width: '80%' }}>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.name')}\n                data-cy=\"inputDataSourceName\"\n                width=\"22.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.name)\n                    ? 'error'\n                    : 'primary'\n                }\n                onChange={nameChangeHandler}\n                value={dataSourceDetails.name}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.dataSourceType')}\n                data-cy=\"inputDataSourceType\"\n                width=\"22.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.dataSourceType)\n                    ? 'error'\n                    : 'primary'\n                }\n                disabled\n                value={dataSourceDetails.dataSourceType}\n              />\n            </div>\n          </div>\n          <div className={classes.iconWithTextDiv}>\n            <img\n              src=\"/icons/docs.svg\"\n              alt=\"Docs icon\"\n              className={classes.inlineIcon}\n            />\n            <Typography className={classes.infoValue}>\n              {t('analyticsDashboard.dataSourceForm.docsAndSetup')}\n            </Typography>\n            <Icon\n              onClick={() => {\n                window.open(\n                  'https://github.com/litmuschaos/litmus/tree/master/monitoring#model-1-optional-prometheus-scrape-config-model'\n                );\n              }}\n            >\n              <img\n                src=\"/icons/externalLink.svg\"\n                alt=\"external link\"\n                className={classes.linkIcon}\n              />\n            </Icon>\n          </div>\n          <div className={classes.horizontalLine} />\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.endPoint')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.endPointInfo')}\n          </Typography>\n          <div className={classes.flexDisplay} style={{ width: '80%' }}>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.url')}\n                data-cy=\"inputDataSourceURL\"\n                width=\"22.5rem\"\n                variant={\n                  isValidWebUrl(dataSourceDetails.url) ? 'primary' : 'error'\n                }\n                onChange={urlChangeHandler}\n                value={dataSourceDetails.url}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.Access')}\n                data-cy=\"inputDataSourceAccess\"\n                width=\"22.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.access)\n                    ? 'error'\n                    : 'primary'\n                }\n                disabled\n                value={dataSourceDetails.access}\n              />\n            </div>\n          </div>\n          <div className={classes.horizontalLine} />\n        </div>\n      ) : (\n        <div>\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.authentication')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.authenticationInfo')}\n          </Typography>\n          <FormGroup>\n            <div className={classes.inputDivRadioButton}>\n              <FormControlLabel\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    checked={dataSourceDetails.noAuth}\n                    onChange={handleAuthChange}\n                    name=\"noAuth\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.noAuth')}\n              />\n              <FormControlLabel\n                className={classes.basicAuth}\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    checked={dataSourceDetails.basicAuth}\n                    onChange={handleAuthChange}\n                    name=\"basicAuth\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.basicAuth')}\n              />\n              <FormControlLabel\n                className={classes.withCredentials}\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    disabled\n                    checked={dataSourceDetails.withCredentials}\n                    onChange={handleAuthChange}\n                    name=\"withCredentials\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.withCredentials')}\n              />\n            </div>\n            <div className={classes.inputDivRadioButton}>\n              <FormControlLabel\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    disabled\n                    checked={dataSourceDetails.tlsClientAuth}\n                    onChange={handleAuthChange}\n                    name=\"tlsClientAuth\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.tlsClientAuth')}\n              />\n              <FormControlLabel\n                className={classes.withCACert}\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    disabled\n                    checked={dataSourceDetails.withCACert}\n                    onChange={handleAuthChange}\n                    name=\"withCACert\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.withCACert')}\n              />\n            </div>\n          </FormGroup>\n          <div className={classes.horizontalLine} />\n          {dataSourceDetails.basicAuth ? (\n            <div>\n              <div className={classes.flexDisplay} style={{ width: '55%' }}>\n                <div className={classes.inputDiv}>\n                  <InputField\n                    label={t('analyticsDashboard.dataSourceForm.username')}\n                    data-cy=\"inputPrometheusUsername\"\n                    width=\"14rem\"\n                    variant={\n                      validateTextEmpty(dataSourceDetails.username)\n                        ? 'error'\n                        : 'primary'\n                    }\n                    onChange={usernameChangeHandler}\n                    value={dataSourceDetails.username}\n                  />\n                </div>\n                <div className={classes.inputDiv}>\n                  <InputField\n                    label={t('analyticsDashboard.dataSourceForm.password')}\n                    type=\"password\"\n                    data-cy=\"inputPrometheusPassword\"\n                    width=\"14rem\"\n                    variant={\n                      validateTextEmpty(dataSourceDetails.password)\n                        ? 'error'\n                        : 'primary'\n                    }\n                    onChange={passwordChangeHandler}\n                    value={dataSourceDetails.password}\n                  />\n                </div>\n              </div>\n              <div className={classes.horizontalLine} />\n            </div>\n          ) : (\n            <div />\n          )}\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.configuration')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.configurationInfo')}\n          </Typography>\n          <div className={classes.flexDisplay} style={{ width: '80%' }}>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.scrapeInterval')}\n                data-cy=\"inputScrapeInterval\"\n                width=\"13.5rem\"\n                variant={\n                  validateTimeInSeconds(dataSourceDetails.scrapeInterval)\n                    ? 'primary'\n                    : 'error'\n                }\n                onChange={scrapeIntervalChangeHandler}\n                value={dataSourceDetails.scrapeInterval}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.queryTimeOut')}\n                data-cy=\"inputQueryTimeout\"\n                width=\"13.5rem\"\n                variant={\n                  validateTimeInSeconds(dataSourceDetails.queryTimeout)\n                    ? 'primary'\n                    : 'error'\n                }\n                onChange={queryTimeoutChangeHandler}\n                value={dataSourceDetails.queryTimeout}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.httpMethod')}\n                data-cy=\"inputHTTPMethod\"\n                width=\"13.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.httpMethod)\n                    ? 'error'\n                    : 'primary'\n                }\n                disabled\n                value={dataSourceDetails.httpMethod}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConfigurePrometheus;\n"]},"metadata":{},"sourceType":"module"}