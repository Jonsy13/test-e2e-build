{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/MyHub/MyHubExperiment/index.tsx\";\n\nimport { useQuery } from '@apollo/client';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from 'react-router-dom';\nimport DeveloperGuide from '../../../components/DeveloperGuide';\nimport ExperimentHeader from '../ExperimentHeader';\nimport ExperimentInfo from '../../../components/ExperimentInfo';\nimport InstallChaos from '../../../components/InstallChaos';\nimport Loader from '../../../components/Loader';\nimport UsefulLinks from '../../../components/UsefulLinks';\nimport config from '../../../config';\nimport Scaffold from '../../../containers/layouts/Scaffold';\nimport { GET_EXPERIMENT_DATA, GET_HUB_STATUS } from '../../../graphql';\nimport { getProjectID } from '../../../utils/getSearchParams';\nimport useStyles from './styles';\n\nvar MyHub = function MyHub() {\n  var classes = useStyles(); // Get Parameters from URL\n\n  var paramData = useParams();\n  var projectID = getProjectID(); // Get all MyHubs with status\n\n  var _useQuery = useQuery(GET_HUB_STATUS, {\n    variables: {\n      data: projectID\n    },\n    fetchPolicy: 'cache-and-network'\n  }),\n      hubDetails = _useQuery.data; // Filter the selected MyHub\n\n\n  var UserHub = hubDetails === null || hubDetails === void 0 ? void 0 : hubDetails.getHubStatus.filter(function (myHub) {\n    return paramData.hubname === myHub.HubName;\n  })[0]; // Query to get charts of selected MyHub\n\n  var _useQuery2 = useQuery(GET_EXPERIMENT_DATA, {\n    variables: {\n      data: {\n        HubName: paramData.hubname,\n        ProjectID: projectID,\n        ChartName: paramData.chart,\n        ExperimentName: paramData.experiment\n      }\n    },\n    fetchPolicy: 'cache-and-network'\n  }),\n      data = _useQuery2.data,\n      loading = _useQuery2.loading;\n\n  var experimentData = data === null || data === void 0 ? void 0 : data.getHubExperiment; // State for default video URL\n\n  var videoURL = '';\n  var video = data === null || data === void 0 ? void 0 : data.getHubExperiment.Spec.Links.filter(function (l) {\n    return l.Name === 'Video';\n  })[0];\n  videoURL = video ? video.Url : ''; // State for default icon URL\n\n  var experimentDefaultImagePath = \"\".concat(config.grahqlEndpoint, \"/icon\");\n  var imageURL = \"\".concat(experimentDefaultImagePath, \"/\").concat(projectID, \"/\").concat(paramData.hubname, \"/\").concat(paramData.chart, \"/\").concat(paramData.experiment, \".png\");\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  return /*#__PURE__*/React.createElement(Scaffold, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.rootContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.mainDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.headerDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.expMain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ExperimentHeader, {\n    title: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Metadata.Name,\n    description: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Spec.CategoryDescription.split('.')[0],\n    urlToIcon: imageURL,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  })))), paramData.chart.toLowerCase() !== 'predefined' && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.developerDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DeveloperGuide, {\n    expAvailable: true,\n    header: t('myhub.experimentPage.congrats'),\n    description: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.detailDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.expInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.expInfoDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ExperimentInfo, {\n    description: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Spec.CategoryDescription,\n    videoURL: videoURL,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.installExp,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: classes.horizontalLine,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.note,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, \"PRE-REQUISITE:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.linkText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://docs.litmuschaos.io/docs/getstarted/\",\n    target: \"_\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, \"Install Litmus Operator\"), \": a tool for injecting Chaos Experiments\")), /*#__PURE__*/React.createElement(\"hr\", {\n    className: classes.horizontalLine,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.info,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(UsefulLinks, {\n    links: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Spec.Links,\n    maintainers: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Spec.Maintainers,\n    platforms: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Spec.Platforms,\n    maturity: experimentData === null || experimentData === void 0 ? void 0 : experimentData.Spec.Maturity,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }))), paramData.chart.toLowerCase() !== 'predefined' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.installLinks,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InstallChaos, {\n    title: t('myhub.experimentPage.installExp'),\n    description: t('myhub.experimentPage.installExpDesc'),\n    yamlLink: \"\".concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoURL, \"/raw/\").concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoBranch, \"/charts/\").concat(paramData.chart, \"/\").concat(paramData.experiment, \"/experiment.yaml\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(InstallChaos, {\n    title: t('myhub.experimentPage.installRBAC'),\n    description: t('myhub.experimentPage.installRBACDesc'),\n    yamlLink: \"\".concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoURL, \"/raw/\").concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoBranch, \"/charts/\").concat(paramData.chart, \"/\").concat(paramData.experiment, \"/rbac.yaml\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(InstallChaos, {\n    title: t('myhub.experimentPage.installEngine'),\n    description: t('myhub.experimentPage.installEngineDesc'),\n    yamlLink: \"\".concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoURL, \"/raw/\").concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoBranch, \"/charts/\").concat(paramData.chart, \"/\").concat(paramData.experiment, \"/engine.yaml\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InstallChaos, {\n    title: t('myhub.experimentPage.checkPreDefined'),\n    description: t('myhub.experimentPage.checkPreDefinedDesc'),\n    yamlLink: \"\".concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoURL, \"/raw/\").concat(UserHub === null || UserHub === void 0 ? void 0 : UserHub.RepoBranch, \"/workflows/\").concat(paramData.experiment),\n    isPredefined: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default MyHub;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/MyHub/MyHubExperiment/index.tsx"],"names":["useQuery","React","useTranslation","useParams","DeveloperGuide","ExperimentHeader","ExperimentInfo","InstallChaos","Loader","UsefulLinks","config","Scaffold","GET_EXPERIMENT_DATA","GET_HUB_STATUS","getProjectID","useStyles","MyHub","classes","paramData","projectID","variables","data","fetchPolicy","hubDetails","UserHub","getHubStatus","filter","myHub","hubname","HubName","ProjectID","ChartName","chart","ExperimentName","experiment","loading","experimentData","getHubExperiment","videoURL","video","Spec","Links","l","Name","Url","experimentDefaultImagePath","grahqlEndpoint","imageURL","t","rootContainer","mainDiv","headerDiv","expMain","Metadata","CategoryDescription","split","toLowerCase","developerDiv","detailDiv","expInfo","expInfoDiv","installExp","horizontalLine","note","linkText","info","Maintainers","Platforms","Maturity","installLinks","RepoURL","RepoBranch"],"mappings":"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","sourcesContent":["import { useQuery } from '@apollo/client';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from 'react-router-dom';\nimport DeveloperGuide from '../../../components/DeveloperGuide';\nimport ExperimentHeader from '../ExperimentHeader';\nimport ExperimentInfo from '../../../components/ExperimentInfo';\nimport InstallChaos from '../../../components/InstallChaos';\nimport Loader from '../../../components/Loader';\nimport UsefulLinks from '../../../components/UsefulLinks';\nimport config from '../../../config';\nimport Scaffold from '../../../containers/layouts/Scaffold';\nimport { GET_EXPERIMENT_DATA, GET_HUB_STATUS } from '../../../graphql';\nimport { ExperimentDetail, HubStatus, Link } from '../../../models/redux/myhub';\nimport { getProjectID } from '../../../utils/getSearchParams';\nimport useStyles from './styles';\n\ninterface URLParams {\n  chart: string;\n  experiment: string;\n  hubname: string;\n}\n\nconst MyHub = () => {\n  const classes = useStyles();\n  // Get Parameters from URL\n  const paramData: URLParams = useParams();\n  const projectID = getProjectID();\n  // Get all MyHubs with status\n  const { data: hubDetails } = useQuery<HubStatus>(GET_HUB_STATUS, {\n    variables: { data: projectID },\n    fetchPolicy: 'cache-and-network',\n  });\n\n  // Filter the selected MyHub\n  const UserHub = hubDetails?.getHubStatus.filter((myHub) => {\n    return paramData.hubname === myHub.HubName;\n  })[0];\n\n  // Query to get charts of selected MyHub\n  const { data, loading } = useQuery<ExperimentDetail>(GET_EXPERIMENT_DATA, {\n    variables: {\n      data: {\n        HubName: paramData.hubname,\n        ProjectID: projectID,\n        ChartName: paramData.chart,\n        ExperimentName: paramData.experiment,\n      },\n    },\n    fetchPolicy: 'cache-and-network',\n  });\n  const experimentData = data?.getHubExperiment;\n\n  // State for default video URL\n  let videoURL: string = '';\n  const video = data?.getHubExperiment.Spec.Links.filter(\n    (l: Link) => l.Name === 'Video'\n  )[0];\n  videoURL = video ? video.Url : '';\n\n  // State for default icon URL\n  const experimentDefaultImagePath = `${config.grahqlEndpoint}/icon`;\n  const imageURL = `${experimentDefaultImagePath}/${projectID}/${paramData.hubname}/${paramData.chart}/${paramData.experiment}.png`;\n\n  const { t } = useTranslation();\n\n  return (\n    <Scaffold>\n      {loading ? (\n        <Loader />\n      ) : (\n        <div className={classes.rootContainer}>\n          <div className={classes.mainDiv}>\n            <div className={classes.headerDiv}>\n              {/* Exp title + Description */}\n              <div className={classes.expMain}>\n                <ExperimentHeader\n                  title={experimentData?.Metadata.Name}\n                  description={\n                    experimentData?.Spec.CategoryDescription.split('.')[0]\n                  }\n                  urlToIcon={imageURL}\n                />\n              </div>\n            </div>\n          </div>\n          {/* Developer Guide Component */}\n          {paramData.chart.toLowerCase() !== 'predefined' && (\n            <div className={classes.developerDiv}>\n              <DeveloperGuide\n                expAvailable\n                header={t('myhub.experimentPage.congrats')}\n                description=\"\"\n              />\n            </div>\n          )}\n          {/* Experiment Info */}\n          <div className={classes.detailDiv}>\n            <div className={classes.expInfo}>\n              <div className={classes.expInfoDiv}>\n                <ExperimentInfo\n                  description={experimentData?.Spec.CategoryDescription}\n                  videoURL={videoURL}\n                />\n                <div className={classes.installExp}>\n                  <hr className={classes.horizontalLine} />\n                  <div>\n                    <div className={classes.note}>PRE-REQUISITE:</div>\n                    <div className={classes.linkText}>\n                      <a\n                        href=\"https://docs.litmuschaos.io/docs/getstarted/\"\n                        target=\"_\"\n                      >\n                        Install Litmus Operator\n                      </a>\n                      : a tool for injecting Chaos Experiments\n                    </div>\n                  </div>\n                  <hr className={classes.horizontalLine} />\n                </div>\n              </div>\n              {/* Useful Links Section */}\n              <div className={classes.info}>\n                <UsefulLinks\n                  links={experimentData?.Spec.Links}\n                  maintainers={experimentData?.Spec.Maintainers}\n                  platforms={experimentData?.Spec.Platforms}\n                  maturity={experimentData?.Spec.Maturity}\n                />\n              </div>\n            </div>\n            {/* Install Chaos Section */}\n            {paramData.chart.toLowerCase() !== 'predefined' ? (\n              <div className={classes.installLinks}>\n                <InstallChaos\n                  title={t('myhub.experimentPage.installExp')}\n                  description={t('myhub.experimentPage.installExpDesc')}\n                  yamlLink={`${UserHub?.RepoURL}/raw/${UserHub?.RepoBranch}/charts/${paramData.chart}/${paramData.experiment}/experiment.yaml`}\n                />\n                <InstallChaos\n                  title={t('myhub.experimentPage.installRBAC')}\n                  description={t('myhub.experimentPage.installRBACDesc')}\n                  yamlLink={`${UserHub?.RepoURL}/raw/${UserHub?.RepoBranch}/charts/${paramData.chart}/${paramData.experiment}/rbac.yaml`}\n                />\n                <InstallChaos\n                  title={t('myhub.experimentPage.installEngine')}\n                  description={t('myhub.experimentPage.installEngineDesc')}\n                  yamlLink={`${UserHub?.RepoURL}/raw/${UserHub?.RepoBranch}/charts/${paramData.chart}/${paramData.experiment}/engine.yaml`}\n                />\n              </div>\n            ) : (\n              <>\n                <InstallChaos\n                  title={t('myhub.experimentPage.checkPreDefined')}\n                  description={t('myhub.experimentPage.checkPreDefinedDesc')}\n                  yamlLink={`${UserHub?.RepoURL}/raw/${UserHub?.RepoBranch}/workflows/${paramData.experiment}`}\n                  isPredefined\n                />\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </Scaffold>\n  );\n};\n\nexport default MyHub;\n"]},"metadata":{},"sourceType":"module"}