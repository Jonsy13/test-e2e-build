{"ast":null,"code":"import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-param-reassign */ /* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable jsx-a11y/no-static-element-interactions */import{useTheme}from'@material-ui/core';import Fade from'@material-ui/core/Fade';import Tooltip from'@material-ui/core/Tooltip';import ErrorTwoToneIcon from'@material-ui/icons/ErrorTwoTone';import FileCopyTwoToneIcon from'@material-ui/icons/FileCopyTwoTone';import FindInPageTwoToneIcon from'@material-ui/icons/FindInPageTwoTone';import FindReplaceTwoToneIcon from'@material-ui/icons/FindReplaceTwoTone';import FullscreenIcon from'@material-ui/icons/Fullscreen';import GetAppTwoToneIcon from'@material-ui/icons/GetAppTwoTone';import RedoTwoToneIcon from'@material-ui/icons/RedoTwoTone';import SelectAllTwoToneIcon from'@material-ui/icons/SelectAllTwoTone';import UndoTwoToneIcon from'@material-ui/icons/UndoTwoTone';import UnfoldLessTwoToneIcon from'@material-ui/icons/UnfoldLessTwoTone';import UnfoldMoreTwoToneIcon from'@material-ui/icons/UnfoldMoreTwoTone';import React,{useEffect,useState}from'react';import AceEditor from'react-ace';import useStyles from'./styles';import{parseYamlValidations}from'./Validations';import'ace-builds/src-min-noconflict/ext-beautify';import'ace-builds/src-min-noconflict/ext-code_lens';import'ace-builds/src-min-noconflict/ext-elastic_tabstops_lite';import'ace-builds/src-min-noconflict/ext-emmet';import'ace-builds/src-min-noconflict/ext-error_marker';import'ace-builds/src-min-noconflict/ext-keybinding_menu';import'ace-builds/src-min-noconflict/ext-language_tools';import'ace-builds/src-min-noconflict/ext-linking';import'ace-builds/src-min-noconflict/ext-modelist';import'ace-builds/src-min-noconflict/ext-options';import'ace-builds/src-min-noconflict/ext-prompt';import'ace-builds/src-min-noconflict/ext-rtl';import'ace-builds/src-min-noconflict/ext-searchbox';import'ace-builds/src-min-noconflict/ext-spellcheck';import'ace-builds/src-min-noconflict/ext-split';import'ace-builds/src-min-noconflict/ext-static_highlight';import'ace-builds/src-min-noconflict/ext-statusbar';import'ace-builds/src-min-noconflict/ext-textarea';import'ace-builds/src-min-noconflict/ext-themelist';import'ace-builds/src-min-noconflict/ext-whitespace';import'brace/mode/yaml';import'brace/theme/solarized_dark';var YamlEditor=function YamlEditor(_ref){var content=_ref.content,filename=_ref.filename,readOnly=_ref.readOnly,setButtonState=_ref.setButtonState,saveWorkflowChange=_ref.saveWorkflowChange;var classes=useStyles();var _useTheme=useTheme(),palette=_useTheme.palette;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isValid=_useState2[0],setIsValid=_useState2[1];var _useState3=useState({markers:[],annotations:[],content:content}),_useState4=_slicedToArray(_useState3,2),editorState=_useState4[0],setEditorState=_useState4[1];var _useState5=useState(content),_useState6=_slicedToArray(_useState5,2),modifiedYaml=_useState6[0],setModifiedYaml=_useState6[1];var YamlAce=React.createRef();var onEditorChange=function onEditorChange(value){var editorValidations={markers:[],annotations:[]};editorValidations=parseYamlValidations(value,classes);var stateObject={markers:editorValidations.markers,annotations:editorValidations.annotations};if(stateObject.annotations.length>0){setIsValid(false);var nodeStyleError=document.getElementsByClassName('ace_gutter-cell')[stateObject.annotations[0].row-1].style;nodeStyleError.background='red';nodeStyleError.color=palette.secondary.contrastText;}else{setIsValid(true);var nodeStyleErrorList=document.getElementsByClassName('ace_gutter-cell');for(var i=0;i<nodeStyleErrorList.length;i+=1){nodeStyleErrorList[i].style.backgroundColor=palette.common.black;nodeStyleErrorList[i].style.color=palette.secondary.contrastText;}}setModifiedYaml(value);setEditorState(stateObject);if(saveWorkflowChange)saveWorkflowChange(value);};useEffect(function(){if(saveWorkflowChange)saveWorkflowChange(modifiedYaml);},[]);var downloadYamlFile=function downloadYamlFile(){var element=document.createElement('a');var file=new Blob([modifiedYaml],{type:'text/yaml'});element.href=URL.createObjectURL(file);element.download=\"\".concat(filename,\".yaml\");document.body.appendChild(element);element.click();};var copycontent=function copycontent(){if(!navigator.clipboard){console.error('Oops Could not copy text: ');return;}navigator.clipboard.writeText(modifiedYaml).catch(function(err){return console.error('Async: Could not copy text: ',err);});};var startfinder=function startfinder(){YamlAce.current.editor.execCommand('find');};var startreplace=function startreplace(){YamlAce.current.editor.execCommand('replace');};var startundo=function startundo(){YamlAce.current.editor.execCommand('undo');};var startredo=function startredo(){YamlAce.current.editor.execCommand('redo');};var startfoldall=function startfoldall(){YamlAce.current.editor.execCommand('foldall');};var startunfoldall=function startunfoldall(){YamlAce.current.editor.execCommand('unfoldall');};var startselectall=function startselectall(){YamlAce.current.editor.execCommand('selectall');};var startgotonexterror=function startgotonexterror(){YamlAce.current.editor.execCommand('goToNextError');};var fullScreenTrigger=function fullScreenTrigger(){var i=document.getElementById('yaml-editor');YamlAce.current.editor.setOption('maxLines',document.body.clientHeight);if(i.requestFullscreen){i.requestFullscreen();}else if(i.webkitRequestFullscreen){i.webkitRequestFullscreen();}else if(i.mozRequestFullScreen){i.mozRequestFullScreen();}else if(i.msRequestFullscreen){i.msRequestFullscreen();}};useEffect(function(){var editorValidations=parseYamlValidations(content,classes);var stateObject={markers:editorValidations.markers,annotations:editorValidations.annotations};if(stateObject.annotations.length>0){setIsValid(false);}else{setIsValid(true);}setEditorState(stateObject);},[]);useEffect(function(){if(setButtonState)setButtonState(isValid);},[isValid]);return/*#__PURE__*/React.createElement(\"div\",{id:\"editor\",\"data-cy\":\"WorkflowEditor\"},!readOnly&&/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtonGrid},/*#__PURE__*/React.createElement(Tooltip,{title:\"Undo\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startundo},/*#__PURE__*/React.createElement(UndoTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Redo\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startredo},/*#__PURE__*/React.createElement(RedoTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Download\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:downloadYamlFile},/*#__PURE__*/React.createElement(GetAppTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Copy\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:copycontent},/*#__PURE__*/React.createElement(FileCopyTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Goto Error\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startgotonexterror},/*#__PURE__*/React.createElement(ErrorTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Find\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startfinder},/*#__PURE__*/React.createElement(FindInPageTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Replace\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startreplace},/*#__PURE__*/React.createElement(FindReplaceTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Unfold All\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startunfoldall},/*#__PURE__*/React.createElement(UnfoldMoreTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Fold All\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startfoldall},/*#__PURE__*/React.createElement(UnfoldLessTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Select\",placement:\"top\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:startselectall},/*#__PURE__*/React.createElement(SelectAllTwoToneIcon,null))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Full Screen (Press Escape to End)\",placement:\"bottom\",TransitionComponent:Fade,TransitionProps:{timeout:500},arrow:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.editorButtons,onClick:fullScreenTrigger},/*#__PURE__*/React.createElement(FullscreenIcon,null)))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:classes.editor},/*#__PURE__*/React.createElement(\"pre\",{id:\"yaml-editor\"},/*#__PURE__*/React.createElement(AceEditor,{mode:\"yaml\",theme:\"solarized_dark\",name:\"code\",width:\"100%\",height:\"100%\",maxLines:12000,minLines:1,highlightActiveLine:false,readOnly:readOnly,tabSize:2,wrapEnabled:true,ref:YamlAce,showGutter:true,onChange:onEditorChange,showPrintMargin:false,enableBasicAutocompletion:true,enableSnippets:true,enableLiveAutocompletion:true,value:editorState.content,editorProps:{$blockScrolling:Infinity,$useWorker:true},onLoad:function onLoad(editor){editor.setReadOnly(readOnly);editor.setOptions({fontFamily:'monospace',highlightGutterLine:false,autoScrollEditorIntoView:true,tooltipFollowsMouse:true,displayIndentGuides:false});editor.focus();editor.setHighlightSelectedWord(true);editor.session.setFoldStyle('markbeginend');editor.setShowFoldWidgets(true);editor.setAnimatedScroll(true);editor.setShowInvisibles(false);editor.setFontSize('0.98rem');editor.container.style.lineHeight='160%';var nodeStyle=document.getElementsByClassName('ace_gutter')[0].style;nodeStyle.color=palette.secondary.contrastText;nodeStyle.borderRight=0;},onCursorChange:function onCursorChange(selection){YamlAce.current.editor.setOptions({autoScrollEditorIntoView:true,tooltipFollowsMouse:true});var nodeStyleActiveList=document.getElementsByClassName('ace_gutter-cell');for(var i=0;i<nodeStyleActiveList.length;i+=1){nodeStyleActiveList[i].style.backgroundColor='#01313F';nodeStyleActiveList[i].style.color=palette.secondary.contrastText;}if(document.getElementsByClassName('ace_gutter-cell')[selection.cursor.row]){var nodeStyleActive=document.getElementsByClassName('ace_gutter-cell')[selection.cursor.row].style;nodeStyleActive.backgroundColor=palette.primary.main;nodeStyleActive.color=palette.secondary.contrastText;}},annotations:editorState.annotations,markers:editorState.markers}))));};export default YamlEditor;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/components/YamlEditor/Editor.tsx"],"names":["useTheme","Fade","Tooltip","ErrorTwoToneIcon","FileCopyTwoToneIcon","FindInPageTwoToneIcon","FindReplaceTwoToneIcon","FullscreenIcon","GetAppTwoToneIcon","RedoTwoToneIcon","SelectAllTwoToneIcon","UndoTwoToneIcon","UnfoldLessTwoToneIcon","UnfoldMoreTwoToneIcon","React","useEffect","useState","AceEditor","useStyles","parseYamlValidations","YamlEditor","content","filename","readOnly","setButtonState","saveWorkflowChange","classes","palette","isValid","setIsValid","markers","annotations","editorState","setEditorState","modifiedYaml","setModifiedYaml","YamlAce","createRef","onEditorChange","value","editorValidations","stateObject","length","nodeStyleError","document","getElementsByClassName","row","style","background","color","secondary","contrastText","nodeStyleErrorList","i","backgroundColor","common","black","downloadYamlFile","element","createElement","file","Blob","type","href","URL","createObjectURL","download","body","appendChild","click","copycontent","navigator","clipboard","console","error","writeText","catch","err","startfinder","current","editor","execCommand","startreplace","startundo","startredo","startfoldall","startunfoldall","startselectall","startgotonexterror","fullScreenTrigger","getElementById","setOption","clientHeight","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","editorButtonGrid","timeout","editorButtons","$blockScrolling","Infinity","$useWorker","setReadOnly","setOptions","fontFamily","highlightGutterLine","autoScrollEditorIntoView","tooltipFollowsMouse","displayIndentGuides","focus","setHighlightSelectedWord","session","setFoldStyle","setShowFoldWidgets","setAnimatedScroll","setShowInvisibles","setFontSize","container","lineHeight","nodeStyle","borderRight","selection","nodeStyleActiveList","cursor","nodeStyleActive","primary","main"],"mappings":"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","sourcesContent":["/* eslint-disable no-param-reassign */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { useTheme } from '@material-ui/core';\nimport Fade from '@material-ui/core/Fade';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ErrorTwoToneIcon from '@material-ui/icons/ErrorTwoTone';\nimport FileCopyTwoToneIcon from '@material-ui/icons/FileCopyTwoTone';\nimport FindInPageTwoToneIcon from '@material-ui/icons/FindInPageTwoTone';\nimport FindReplaceTwoToneIcon from '@material-ui/icons/FindReplaceTwoTone';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\nimport RedoTwoToneIcon from '@material-ui/icons/RedoTwoTone';\nimport SelectAllTwoToneIcon from '@material-ui/icons/SelectAllTwoTone';\nimport UndoTwoToneIcon from '@material-ui/icons/UndoTwoTone';\nimport UnfoldLessTwoToneIcon from '@material-ui/icons/UnfoldLessTwoTone';\nimport UnfoldMoreTwoToneIcon from '@material-ui/icons/UnfoldMoreTwoTone';\nimport React, { useEffect, useState } from 'react';\nimport AceEditor from 'react-ace';\nimport useStyles from './styles';\nimport { AceValidations, parseYamlValidations } from './Validations';\nimport 'ace-builds/src-min-noconflict/ext-beautify';\nimport 'ace-builds/src-min-noconflict/ext-code_lens';\nimport 'ace-builds/src-min-noconflict/ext-elastic_tabstops_lite';\nimport 'ace-builds/src-min-noconflict/ext-emmet';\nimport 'ace-builds/src-min-noconflict/ext-error_marker';\nimport 'ace-builds/src-min-noconflict/ext-keybinding_menu';\nimport 'ace-builds/src-min-noconflict/ext-language_tools';\nimport 'ace-builds/src-min-noconflict/ext-linking';\nimport 'ace-builds/src-min-noconflict/ext-modelist';\nimport 'ace-builds/src-min-noconflict/ext-options';\nimport 'ace-builds/src-min-noconflict/ext-prompt';\nimport 'ace-builds/src-min-noconflict/ext-rtl';\nimport 'ace-builds/src-min-noconflict/ext-searchbox';\nimport 'ace-builds/src-min-noconflict/ext-spellcheck';\nimport 'ace-builds/src-min-noconflict/ext-split';\nimport 'ace-builds/src-min-noconflict/ext-static_highlight';\nimport 'ace-builds/src-min-noconflict/ext-statusbar';\nimport 'ace-builds/src-min-noconflict/ext-textarea';\nimport 'ace-builds/src-min-noconflict/ext-themelist';\nimport 'ace-builds/src-min-noconflict/ext-whitespace';\nimport 'brace/mode/yaml';\nimport 'brace/theme/solarized_dark';\n\ninterface YamlEditorProps {\n  content: string;\n  filename?: string;\n  readOnly: boolean;\n  setButtonState?: (btnState: boolean) => void;\n  saveWorkflowChange?: (updatedManifest: string) => void;\n}\n\nconst YamlEditor: React.FC<YamlEditorProps> = ({\n  content,\n  filename,\n  readOnly,\n  setButtonState,\n  saveWorkflowChange,\n}) => {\n  const classes = useStyles();\n  const { palette } = useTheme();\n\n  const [isValid, setIsValid] = useState(true);\n\n  const [editorState, setEditorState] = useState({\n    markers: [],\n    annotations: [],\n    content,\n  });\n\n  const [modifiedYaml, setModifiedYaml] = useState(content);\n\n  const YamlAce = React.createRef() as React.RefObject<AceEditor>;\n\n  const onEditorChange = (value: string) => {\n    let editorValidations: AceValidations = {\n      markers: [],\n      annotations: [],\n    };\n    editorValidations = parseYamlValidations(value, classes);\n    const stateObject = {\n      markers: editorValidations.markers,\n      annotations: editorValidations.annotations,\n    };\n    if (stateObject.annotations.length > 0) {\n      setIsValid(false);\n      const nodeStyleError = (\n        document.getElementsByClassName('ace_gutter-cell')[\n          stateObject.annotations[0].row - 1\n        ] as any\n      ).style;\n      nodeStyleError.background = 'red';\n      nodeStyleError.color = palette.secondary.contrastText;\n    } else {\n      setIsValid(true);\n      const nodeStyleErrorList =\n        document.getElementsByClassName('ace_gutter-cell');\n      for (let i = 0; i < nodeStyleErrorList.length; i += 1) {\n        (nodeStyleErrorList[i] as any).style.backgroundColor =\n          palette.common.black;\n        (nodeStyleErrorList[i] as any).style.color =\n          palette.secondary.contrastText;\n      }\n    }\n    setModifiedYaml(value);\n    setEditorState(stateObject as any);\n    if (saveWorkflowChange) saveWorkflowChange(value);\n  };\n\n  useEffect(() => {\n    if (saveWorkflowChange) saveWorkflowChange(modifiedYaml);\n  }, []);\n\n  const downloadYamlFile = () => {\n    const element = document.createElement('a');\n    const file = new Blob([modifiedYaml as any], {\n      type: 'text/yaml',\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = `${filename}.yaml`;\n    document.body.appendChild(element);\n    element.click();\n  };\n\n  const copycontent = () => {\n    if (!navigator.clipboard) {\n      console.error('Oops Could not copy text: ');\n      return;\n    }\n    navigator.clipboard\n      .writeText(modifiedYaml as any)\n      .catch((err) => console.error('Async: Could not copy text: ', err));\n  };\n\n  const startfinder = () => {\n    (YamlAce.current!.editor as any).execCommand('find');\n  };\n\n  const startreplace = () => {\n    (YamlAce.current!.editor as any).execCommand('replace');\n  };\n\n  const startundo = () => {\n    (YamlAce.current!.editor as any).execCommand('undo');\n  };\n\n  const startredo = () => {\n    (YamlAce.current!.editor as any).execCommand('redo');\n  };\n\n  const startfoldall = () => {\n    (YamlAce.current!.editor as any).execCommand('foldall');\n  };\n\n  const startunfoldall = () => {\n    (YamlAce.current!.editor as any).execCommand('unfoldall');\n  };\n\n  const startselectall = () => {\n    (YamlAce.current!.editor as any).execCommand('selectall');\n  };\n\n  const startgotonexterror = () => {\n    (YamlAce.current!.editor as any).execCommand('goToNextError');\n  };\n\n  const fullScreenTrigger = () => {\n    const i: any = document.getElementById('yaml-editor');\n    (YamlAce.current!.editor as any).setOption(\n      'maxLines',\n      document.body.clientHeight\n    );\n    if (i.requestFullscreen) {\n      i.requestFullscreen();\n    } else if (i.webkitRequestFullscreen) {\n      i.webkitRequestFullscreen();\n    } else if (i.mozRequestFullScreen) {\n      i.mozRequestFullScreen();\n    } else if (i.msRequestFullscreen) {\n      i.msRequestFullscreen();\n    }\n  };\n\n  useEffect(() => {\n    const editorValidations: AceValidations = parseYamlValidations(\n      content,\n      classes\n    );\n    const stateObject = {\n      markers: editorValidations.markers,\n      annotations: editorValidations.annotations,\n    };\n    if (stateObject.annotations.length > 0) {\n      setIsValid(false);\n    } else {\n      setIsValid(true);\n    }\n    setEditorState(stateObject as any);\n  }, []);\n\n  useEffect(() => {\n    if (setButtonState) setButtonState(isValid);\n  }, [isValid]);\n\n  return (\n    <div id=\"editor\" data-cy=\"WorkflowEditor\">\n      {!readOnly && (\n        <div className={classes.editorButtonGrid}>\n          <Tooltip\n            title=\"Undo\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startundo}>\n              <UndoTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Redo\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startredo}>\n              <RedoTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Download\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={downloadYamlFile}>\n              <GetAppTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Copy\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={copycontent}>\n              <FileCopyTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Goto Error\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startgotonexterror}>\n              <ErrorTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Find\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startfinder}>\n              <FindInPageTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Replace\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startreplace}>\n              <FindReplaceTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Unfold All\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startunfoldall}>\n              <UnfoldMoreTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Fold All\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startfoldall}>\n              <UnfoldLessTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Select\"\n            placement=\"top\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={startselectall}>\n              <SelectAllTwoToneIcon />\n            </div>\n          </Tooltip>\n\n          <Tooltip\n            title=\"Full Screen (Press Escape to End)\"\n            placement=\"bottom\"\n            TransitionComponent={Fade}\n            TransitionProps={{ timeout: 500 }}\n            arrow\n          >\n            <div className={classes.editorButtons} onClick={fullScreenTrigger}>\n              <FullscreenIcon />\n            </div>\n          </Tooltip>\n        </div>\n      )}\n      <br />\n      <div className={classes.editor}>\n        <pre id=\"yaml-editor\">\n          <AceEditor\n            mode=\"yaml\"\n            theme=\"solarized_dark\"\n            name=\"code\"\n            width=\"100%\"\n            height=\"100%\"\n            maxLines={12000}\n            minLines={1}\n            highlightActiveLine={false}\n            readOnly={readOnly}\n            tabSize={2}\n            wrapEnabled\n            ref={YamlAce}\n            showGutter\n            onChange={onEditorChange}\n            showPrintMargin={false}\n            enableBasicAutocompletion\n            enableSnippets\n            enableLiveAutocompletion\n            value={editorState.content}\n            editorProps={{\n              $blockScrolling: Infinity,\n              $useWorker: true,\n            }}\n            onLoad={(editor) => {\n              editor.setReadOnly(readOnly);\n              editor.setOptions({\n                fontFamily: 'monospace',\n                highlightGutterLine: false,\n                autoScrollEditorIntoView: true,\n                tooltipFollowsMouse: true,\n                displayIndentGuides: false,\n              });\n              editor.focus();\n              editor.setHighlightSelectedWord(true);\n              editor.session.setFoldStyle('markbeginend');\n              editor.setShowFoldWidgets(true);\n              editor.setAnimatedScroll(true);\n              editor.setShowInvisibles(false);\n              editor.setFontSize('0.98rem');\n              editor.container.style.lineHeight = '160%';\n              const nodeStyle = (\n                document.getElementsByClassName('ace_gutter')[0] as any\n              ).style;\n              nodeStyle.color = palette.secondary.contrastText;\n              nodeStyle.borderRight = 0;\n            }}\n            onCursorChange={(selection) => {\n              (YamlAce.current!.editor as any).setOptions({\n                autoScrollEditorIntoView: true,\n                tooltipFollowsMouse: true,\n              });\n\n              const nodeStyleActiveList =\n                document.getElementsByClassName('ace_gutter-cell');\n              for (let i = 0; i < nodeStyleActiveList.length; i += 1) {\n                (nodeStyleActiveList[i] as any).style.backgroundColor =\n                  '#01313F';\n                (nodeStyleActiveList[i] as any).style.color =\n                  palette.secondary.contrastText;\n              }\n\n              if (\n                document.getElementsByClassName('ace_gutter-cell')[\n                  selection.cursor.row\n                ] as any\n              ) {\n                const nodeStyleActive = (\n                  document.getElementsByClassName('ace_gutter-cell')[\n                    selection.cursor.row\n                  ] as any\n                ).style;\n                nodeStyleActive.backgroundColor = palette.primary.main;\n                nodeStyleActive.color = palette.secondary.contrastText;\n              }\n            }}\n            annotations={editorState.annotations}\n            markers={editorState.markers}\n          />\n        </pre>\n      </div>\n    </div>\n  );\n};\n\nexport default YamlEditor;\n"]},"metadata":{},"sourceType":"module"}