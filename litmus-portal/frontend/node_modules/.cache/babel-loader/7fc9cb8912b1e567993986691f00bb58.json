{"ast":null,"code":"import _objectSpread from \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/UserManagementTab/UserManagement/index.tsx\";\n\nimport { createStyles, FormControl, IconButton, InputAdornment, InputLabel, Menu, MenuItem, Paper, Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow, TextField, Toolbar, Typography, withStyles } from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { ButtonFilled, LightPills } from 'litmus-ui';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport config from '../../../../config';\nimport { UserRole } from '../../../../models/graphql/user';\nimport { getToken } from '../../../../utils/auth';\nimport CreateUser from '../CreateUser';\nimport EditUser from '../EditUser';\nimport useStyles from './styles'; // StyledTableCell used to create custom table cell\n\nvar StyledTableCell = withStyles(function (theme) {\n  return createStyles({\n    head: {\n      backgroundColor: theme.palette.cards.background,\n      color: theme.palette.text.primary\n    },\n    body: {\n      fontSize: '0.875rem'\n    }\n  });\n})(TableCell);\n\n// UserManagement displays users table\nvar UserManagement = function UserManagement() {\n  var _rows$filter, _currRow$email, _currRow$name, _currRow$username, _filteredData$length;\n\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showDiv = _React$useState2[0],\n      setShowDiv = _React$useState2[1]; // for response data\n\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      rows = _useState2[0],\n      setRows = _useState2[1]; // States for filters\n\n\n  var _useState3 = useState({\n    search: '',\n    status: 'all'\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filters = _useState4[0],\n      setFilters = _useState4[1]; // State for pagination\n\n\n  var _useState5 = useState({\n    pageNo: 0,\n    rowsPerPage: 5\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      paginationData = _useState6[0],\n      setPaginationData = _useState6[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      editDiv = _React$useState4[0],\n      setEditDiv = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      anchorEl = _React$useState6[0],\n      setAnchorEl = _React$useState6[1];\n\n  useEffect(function () {\n    fetch(\"\".concat(config.auth.url, \"/users\"), {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: \"Bearer \".concat(getToken())\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setRows(res);\n    }).catch(function (err) {\n      console.error(err);\n    });\n  }, [showDiv]);\n  var filteredData = rows === null || rows === void 0 ? void 0 : (_rows$filter = rows.filter(function (dataRow) {\n    return dataRow.username !== UserRole.admin;\n  })) === null || _rows$filter === void 0 ? void 0 : _rows$filter.filter(function (dataRow) {\n    return dataRow.username.toLowerCase().includes(filters.search.toLowerCase());\n  }).filter(function (datarow) {\n    if (filters.status === 'all') return true;\n    if (filters.status === 'signedin') return datarow.logged_in === true;\n    return datarow.logged_in === false;\n  });\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var _React$useState7 = React.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      currRow = _React$useState8[0],\n      setCurrRow = _React$useState8[1];\n\n  var formatDate = function formatDate(date) {\n    var day = moment(date).format('Do MMM, YYYY LT');\n    return day;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, showDiv ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CreateUser, {\n    handleDiv: function handleDiv() {\n      return setShowDiv(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, editDiv ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EditUser, {\n    handleDiv: function handleDiv() {\n      return setEditDiv(false);\n    },\n    email: (_currRow$email = currRow === null || currRow === void 0 ? void 0 : currRow.email) !== null && _currRow$email !== void 0 ? _currRow$email : '',\n    fullName: (_currRow$name = currRow === null || currRow === void 0 ? void 0 : currRow.name) !== null && _currRow$name !== void 0 ? _currRow$name : '',\n    userName: (_currRow$username = currRow === null || currRow === void 0 ? void 0 : currRow.username) !== null && _currRow$username !== void 0 ? _currRow$username : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  })) :\n  /*#__PURE__*/\n  // for displaying user table\n  React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.UMDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.members,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./icons/user.svg\",\n    alt: \"members\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.memTypo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, t('settings.userManagementTab.header'), \" (\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, rows ? rows.length : 0), \")\")), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.descText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, t('settings.userManagementTab.info')), /*#__PURE__*/React.createElement(Toolbar, {\n    \"data-cy\": \"toolBarComponent\",\n    className: classes.toolbar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarFirstCol,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    \"data-cy\": \"searchField\",\n    id: \"input-with-icon-adornment\",\n    placeholder: t('settings.userManagementTab.label.search'),\n    value: filters.search,\n    onChange: function onChange(e) {\n      setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n        search: e.target.value\n      }));\n      setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: 0\n      }));\n    },\n    InputProps: {\n      style: {\n        maxWidth: '15.75rem'\n      },\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 29\n        }\n      }))\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarSecondCol,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.filter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    color: \"primary\",\n    focused: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    className: classes.selectText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, t('settings.userManagementTab.label.userStatus')), /*#__PURE__*/React.createElement(Select, {\n    label: \"User Status\",\n    value: filters.status,\n    onChange: function onChange(event) {\n      setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n        status: event.target.value\n      }));\n      setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: 0\n      }));\n    },\n    className: classes.selectText,\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"all\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.label.options.all')), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"signedout\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.label.options.notSignedIn')), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"signedin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.label.options.signedIn'))))), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-cy\": \"createUser\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ButtonFilled, {\n    onClick: function onClick() {\n      setShowDiv(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 25\n    }\n  }, t('settings.userManagementTab.button.create')))))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    className: classes.table,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    stickyHeader: true,\n    \"aria-label\": \"sticky table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    className: classes.TR,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableCell, {\n    className: classes.styledTC,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.status')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.username')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.email')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.userCreated')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 23\n    }\n  }, filteredData && filteredData.length ? filteredData.slice(paginationData.pageNo * paginationData.rowsPerPage, paginationData.pageNo * paginationData.rowsPerPage + paginationData.rowsPerPage).map(function (row, index) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      \"data-cy\": \"userTableRow\",\n      key: row.name,\n      className: classes.TR,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.firstTC,\n      component: \"th\",\n      scope: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.firstCol,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 35\n      }\n    }, row.logged_in ? /*#__PURE__*/React.createElement(LightPills, {\n      variant: \"success\",\n      label: t('settings.userManagementTab.label.options.signedIn'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(LightPills, {\n      variant: \"danger\",\n      label: t('settings.userManagementTab.label.options.notSignedIn'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 39\n      }\n    }), row.name)), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.otherTC,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 33\n      }\n    }, row.username), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.otherTC,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 33\n      }\n    }, row.email), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.otherTC,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.dateDiv,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: classes.calIcon,\n      src: \"./icons/calendarIcon.svg\",\n      alt: \"calendar\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 37\n      }\n    }), formatDate(row.created_at))), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.lastTC,\n      key: row.username,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"data-cy\": \"editUser\",\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: function onClick(event) {\n        setCurrRow(row);\n        setAnchorEl(event.currentTarget);\n      },\n      className: classes.optionBtn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Menu, {\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      id: \"long-menu\",\n      anchorEl: anchorEl,\n      onClose: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-cy\": \"editProfile\",\n      value: index,\n      onClick: function onClick() {\n        setEditDiv(true);\n        setAnchorEl(null);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"delete\",\n      src: \"./icons/Edit.svg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 41\n      }\n    })), t('settings.userManagementTab.editProfile')))));\n  }) : /*#__PURE__*/React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: 5,\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 31\n    }\n  }, t('settings.userManagementTab.noUsers'))))))), /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 25],\n    component: \"div\",\n    count: (_filteredData$length = filteredData === null || filteredData === void 0 ? void 0 : filteredData.length) !== null && _filteredData$length !== void 0 ? _filteredData$length : 0,\n    rowsPerPage: paginationData.rowsPerPage,\n    page: paginationData.pageNo,\n    onChangePage: function onChangePage(_, page) {\n      return setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: page\n      }));\n    },\n    onChangeRowsPerPage: function onChangeRowsPerPage(event) {\n      return setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: 0,\n        rowsPerPage: parseInt(event.target.value, 10)\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 19\n    }\n  }))))));\n};\n\nexport default UserManagement;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/UserManagementTab/UserManagement/index.tsx"],"names":["createStyles","FormControl","IconButton","InputAdornment","InputLabel","Menu","MenuItem","Paper","Select","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TextField","Toolbar","Typography","withStyles","MoreVertIcon","SearchIcon","ButtonFilled","LightPills","moment","React","useEffect","useState","useTranslation","config","UserRole","getToken","CreateUser","EditUser","useStyles","StyledTableCell","theme","head","backgroundColor","palette","cards","background","color","text","primary","body","fontSize","UserManagement","classes","t","showDiv","setShowDiv","rows","setRows","search","status","filters","setFilters","pageNo","rowsPerPage","paginationData","setPaginationData","editDiv","setEditDiv","anchorEl","setAnchorEl","fetch","auth","url","headers","Authorization","then","response","json","res","catch","err","console","error","filteredData","filter","dataRow","username","admin","toLowerCase","includes","datarow","logged_in","handleClose","currRow","setCurrRow","formatDate","date","day","format","email","name","UMDiv","members","memTypo","length","descText","toolbar","toolbarFirstCol","e","target","value","style","maxWidth","startAdornment","toolbarSecondCol","formControl","selectText","event","root","table","TR","styledTC","slice","map","row","index","firstTC","firstCol","otherTC","dateDiv","calIcon","created_at","lastTC","currentTarget","optionBtn","Boolean","_","page","parseInt"],"mappings":"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","sourcesContent":["import {\n  createStyles,\n  FormControl,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  Menu,\n  MenuItem,\n  Paper,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TextField,\n  Theme,\n  Toolbar,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { ButtonFilled, LightPills } from 'litmus-ui';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport config from '../../../../config';\nimport { UserRole } from '../../../../models/graphql/user';\nimport { getToken } from '../../../../utils/auth';\nimport CreateUser from '../CreateUser';\nimport EditUser from '../EditUser';\nimport useStyles from './styles';\n\n// StyledTableCell used to create custom table cell\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.cards.background,\n      color: theme.palette.text.primary,\n    },\n    body: {\n      fontSize: '0.875rem',\n    },\n  })\n)(TableCell);\n\ninterface UserData {\n  _id: string;\n  username: string;\n  email: string;\n  name: string;\n  logged_in: boolean;\n  created_at: string;\n  updated_at: string;\n  removed_at: string;\n  state: string;\n}\n\ninterface FilterOptions {\n  search: string;\n  status: string;\n}\n\ninterface PaginationData {\n  pageNo: number;\n  rowsPerPage: number;\n}\n// UserManagement displays users table\nconst UserManagement: React.FC = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const [showDiv, setShowDiv] = React.useState<boolean>(false);\n  // for response data\n  const [rows, setRows] = useState<UserData[]>([]);\n  // States for filters\n  const [filters, setFilters] = useState<FilterOptions>({\n    search: '',\n    status: 'all',\n  });\n  // State for pagination\n  const [paginationData, setPaginationData] = useState<PaginationData>({\n    pageNo: 0,\n    rowsPerPage: 5,\n  });\n  const [editDiv, setEditDiv] = React.useState<boolean>(false);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  useEffect(() => {\n    fetch(`${config.auth.url}/users`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getToken()}`,\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((res) => {\n        setRows(res);\n      })\n\n      .catch((err) => {\n        console.error(err);\n      });\n  }, [showDiv]);\n\n  const filteredData = rows\n    ?.filter((dataRow) => dataRow.username !== UserRole.admin)\n    ?.filter((dataRow) =>\n      dataRow.username.toLowerCase().includes(filters.search.toLowerCase())\n    )\n    .filter((datarow) => {\n      if (filters.status === 'all') return true;\n      if (filters.status === 'signedin') return datarow.logged_in === true;\n      return datarow.logged_in === false;\n    });\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [currRow, setCurrRow] = React.useState<UserData>();\n\n  const formatDate = (date: string) => {\n    const day = moment(date).format('Do MMM, YYYY LT');\n    return day;\n  };\n\n  return (\n    <div>\n      {showDiv ? (\n        <div>\n          {/* for create new user div */}\n          <CreateUser handleDiv={() => setShowDiv(false)} />\n        </div>\n      ) : (\n        <div>\n          {editDiv ? (\n            <div>\n              <EditUser\n                handleDiv={() => setEditDiv(false)}\n                email={currRow?.email ?? ''}\n                fullName={currRow?.name ?? ''}\n                userName={currRow?.username ?? ''}\n              />\n            </div>\n          ) : (\n            // for displaying user table\n            <div>\n              <div className={classes.UMDiv}>\n                <div className={classes.members}>\n                  <img src=\"./icons/user.svg\" alt=\"members\" />\n                  <Typography className={classes.memTypo}>\n                    {t('settings.userManagementTab.header')} (\n                    <span>{rows ? rows.length : 0}</span>)\n                  </Typography>\n                </div>\n                <Typography className={classes.descText}>\n                  {t('settings.userManagementTab.info')}\n                </Typography>\n\n                <Toolbar data-cy=\"toolBarComponent\" className={classes.toolbar}>\n                  {/* Search user */}\n                  <div className={classes.toolbarFirstCol}>\n                    <TextField\n                      data-cy=\"searchField\"\n                      id=\"input-with-icon-adornment\"\n                      placeholder={t('settings.userManagementTab.label.search')}\n                      value={filters.search}\n                      onChange={(e) => {\n                        setFilters({\n                          ...filters,\n                          search: e.target.value,\n                        });\n                        setPaginationData({ ...paginationData, pageNo: 0 });\n                      }}\n                      InputProps={{\n                        style: {\n                          maxWidth: '15.75rem',\n                        },\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <SearchIcon />\n                          </InputAdornment>\n                        ),\n                      }}\n                    />\n                  </div>\n\n                  {/* filter menu */}\n                  <div className={classes.toolbarSecondCol}>\n                    <div className={classes.filter}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        color=\"primary\"\n                        focused\n                      >\n                        <InputLabel className={classes.selectText}>\n                          {t('settings.userManagementTab.label.userStatus')}\n                        </InputLabel>\n                        <Select\n                          label=\"User Status\"\n                          value={filters.status}\n                          onChange={(event) => {\n                            setFilters({\n                              ...filters,\n                              status: event.target.value as string,\n                            });\n                            setPaginationData({ ...paginationData, pageNo: 0 });\n                          }}\n                          className={classes.selectText}\n                          color=\"primary\"\n                        >\n                          <MenuItem value=\"all\">\n                            {t('settings.userManagementTab.label.options.all')}\n                          </MenuItem>\n                          <MenuItem value=\"signedout\">\n                            {t(\n                              'settings.userManagementTab.label.options.notSignedIn'\n                            )}\n                          </MenuItem>\n                          <MenuItem value=\"signedin\">\n                            {t(\n                              'settings.userManagementTab.label.options.signedIn'\n                            )}\n                          </MenuItem>\n                        </Select>\n                      </FormControl>\n                    </div>\n                    <div data-cy=\"createUser\">\n                      <ButtonFilled\n                        onClick={() => {\n                          setShowDiv(true);\n                        }}\n                      >\n                        <div>\n                          {t('settings.userManagementTab.button.create')}\n                        </div>\n                      </ButtonFilled>\n                    </div>\n                  </div>\n                </Toolbar>\n                {/* user table */}\n                <Paper className={classes.root}>\n                  <TableContainer className={classes.table}>\n                    <Table stickyHeader aria-label=\"sticky table\">\n                      <TableHead>\n                        <TableRow className={classes.TR}>\n                          <StyledTableCell className={classes.styledTC}>\n                            {t('settings.userManagementTab.tableCell.status')}\n                          </StyledTableCell>\n                          <StyledTableCell>\n                            {t('settings.userManagementTab.tableCell.username')}\n                          </StyledTableCell>\n                          <StyledTableCell>\n                            {t('settings.userManagementTab.tableCell.email')}\n                          </StyledTableCell>\n                          <StyledTableCell>\n                            {t(\n                              'settings.userManagementTab.tableCell.userCreated'\n                            )}\n                          </StyledTableCell>\n                          <StyledTableCell />\n                          <TableHead />\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        {filteredData && filteredData.length ? (\n                          filteredData\n                            .slice(\n                              paginationData.pageNo *\n                                paginationData.rowsPerPage,\n                              paginationData.pageNo *\n                                paginationData.rowsPerPage +\n                                paginationData.rowsPerPage\n                            )\n                            .map((row, index) => (\n                              <TableRow\n                                data-cy=\"userTableRow\"\n                                key={row.name}\n                                className={classes.TR}\n                              >\n                                <TableCell\n                                  className={classes.firstTC}\n                                  component=\"th\"\n                                  scope=\"row\"\n                                >\n                                  <div className={classes.firstCol}>\n                                    {row.logged_in ? (\n                                      <LightPills\n                                        variant=\"success\"\n                                        label={t(\n                                          'settings.userManagementTab.label.options.signedIn'\n                                        )}\n                                      />\n                                    ) : (\n                                      <LightPills\n                                        variant=\"danger\"\n                                        label={t(\n                                          'settings.userManagementTab.label.options.notSignedIn'\n                                        )}\n                                      />\n                                    )}\n                                    {row.name}\n                                  </div>\n                                </TableCell>\n\n                                <TableCell className={classes.otherTC}>\n                                  {row.username}\n                                </TableCell>\n                                <TableCell className={classes.otherTC}>\n                                  {row.email}\n                                </TableCell>\n                                <TableCell className={classes.otherTC}>\n                                  <div className={classes.dateDiv}>\n                                    <img\n                                      className={classes.calIcon}\n                                      src=\"./icons/calendarIcon.svg\"\n                                      alt=\"calendar\"\n                                    />\n                                    {formatDate(row.created_at)}\n                                  </div>\n                                </TableCell>\n                                <TableCell\n                                  className={classes.lastTC}\n                                  key={row.username}\n                                >\n                                  <IconButton\n                                    data-cy=\"editUser\"\n                                    aria-label=\"more\"\n                                    aria-controls=\"long-menu\"\n                                    aria-haspopup=\"true\"\n                                    onClick={(event) => {\n                                      setCurrRow(row);\n                                      setAnchorEl(event.currentTarget);\n                                    }}\n                                    className={classes.optionBtn}\n                                  >\n                                    <MoreVertIcon />\n                                  </IconButton>\n                                  <Menu\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    id=\"long-menu\"\n                                    anchorEl={anchorEl}\n                                    onClose={handleClose}\n                                  >\n                                    <MenuItem\n                                      data-cy=\"editProfile\"\n                                      value={index}\n                                      onClick={() => {\n                                        setEditDiv(true);\n                                        setAnchorEl(null);\n                                      }}\n                                    >\n                                      <IconButton disabled>\n                                        <img\n                                          alt=\"delete\"\n                                          src=\"./icons/Edit.svg\"\n                                        />\n                                      </IconButton>\n                                      {t(\n                                        'settings.userManagementTab.editProfile'\n                                      )}\n                                    </MenuItem>\n                                    {/* \n                                    <MenuItem\n                                      value=\"delete\"\n                                      disabled\n                                      onClick={() => {}}\n                                    >\n                                      <IconButton disabled>\n                                        <img\n                                          alt=\"delete\"\n                                          src=\"./icons/bin.svg\"\n                                        />\n                                      </IconButton>\n                                      <Typography>Delete User</Typography>\n                                    </MenuItem> */}\n                                  </Menu>\n                                </TableCell>\n                              </TableRow>\n                            ))\n                        ) : (\n                          <TableRow>\n                            <TableCell colSpan={5} align=\"center\">\n                              <Typography>\n                                {t('settings.userManagementTab.noUsers')}\n                              </Typography>\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                  <TablePagination\n                    rowsPerPageOptions={[5, 10, 25]}\n                    component=\"div\"\n                    count={filteredData?.length ?? 0}\n                    rowsPerPage={paginationData.rowsPerPage}\n                    page={paginationData.pageNo}\n                    onChangePage={(_, page) =>\n                      setPaginationData({\n                        ...paginationData,\n                        pageNo: page,\n                      })\n                    }\n                    onChangeRowsPerPage={(event) =>\n                      setPaginationData({\n                        ...paginationData,\n                        pageNo: 0,\n                        rowsPerPage: parseInt(event.target.value, 10),\n                      })\n                    }\n                  />\n                </Paper>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default UserManagement;\n"]},"metadata":{},"sourceType":"module"}