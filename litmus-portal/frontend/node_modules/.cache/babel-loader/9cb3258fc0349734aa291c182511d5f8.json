{"ast":null,"code":"import _objectSpread from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"value\",\"index\"];import{useMutation,useQuery}from'@apollo/client';import{Box,FormControl,InputLabel,MenuItem,Paper,Select,Tab,Tabs,Toolbar,Typography,useTheme}from'@material-ui/core';import{EditableText,Search}from'litmus-ui';import React,{useEffect,useState}from'react';import{useTranslation}from'react-i18next';import Center from'../../../../containers/layouts/Center';import{ALL_USERS,GET_PROJECT,LIST_PROJECTS,UPDATE_PROJECT_NAME}from'../../../../graphql';import{getUserId}from'../../../../utils/auth';import{getProjectID}from'../../../../utils/getSearchParams';import Invitation from'../Invitation';import InviteNew from'../InviteNew';import InvitedTable from'./invitedTable';import MembersTable from'./membersTable';import useStyles from'./styles';// TabPanel ise used to implement the functioning of tabs\nvar TabPanel=function TabPanel(_ref){var children=_ref.children,value=_ref.value,index=_ref.index,other=_objectWithoutProperties(_ref,_excluded);return/*#__PURE__*/React.createElement(\"div\",Object.assign({role:\"tabpanel\",hidden:value!==index,id:\"simple-tabpanel-\".concat(index),\"aria-labelledby\":\"simple-tab-\".concat(index)},other),value===index&&/*#__PURE__*/React.createElement(Box,{p:3},children));};// tabProps returns 'id' and 'aria-control' props of Tab\nfunction tabProps(index){return{id:\"simple-tab-\".concat(index),'aria-controls':\"simple-tabpanel-\".concat(index)};}// TeamingTab displays team member table\nvar TeamingTab=function TeamingTab(){var classes=useStyles();var _useTranslation=useTranslation(),t=_useTranslation.t;var theme=useTheme();var projectID=getProjectID();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var userID=getUserId();// for response data\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),accepted=_useState4[0],setAccepted=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),notAccepted=_useState6[0],setNotAccepted=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),allUsers=_useState8[0],setAllUsers=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),activeTab=_useState10[0],setActiveTab=_useState10[1];var handleChange=function handleChange(event,actTab){setActiveTab(actTab);};var _useQuery=useQuery(GET_PROJECT,{variables:{projectID:projectID},fetchPolicy:'cache-and-network'}),dataB=_useQuery.data,refetchGetProject=_useQuery.refetch;var _useQuery2=useQuery(ALL_USERS,{skip:!dataB,onCompleted:function onCompleted(data){var _dataB$getProject$mem;setAllUsers(_toConsumableArray(data.users));setLoading(false);var memberList=(_dataB$getProject$mem=dataB===null||dataB===void 0?void 0:dataB.getProject.members)!==null&&_dataB$getProject$mem!==void 0?_dataB$getProject$mem:[];var acceptedUsers=[];var notAcceptedUsers=[];memberList.forEach(function(member){if(member.invitation==='Accepted'){acceptedUsers.push(member);}else if(member.user_id!==userID&&member.invitation!=='Accepted'){notAcceptedUsers.push(member);}});setAccepted([].concat(acceptedUsers));setNotAccepted([].concat(notAcceptedUsers));},fetchPolicy:'cache-and-network'}),refetchAllUsers=_useQuery2.refetch;// State for pagination\nvar _useState11=useState({pageNo:0,rowsPerPage:5}),_useState12=_slicedToArray(_useState11,2),paginationData=_useState12[0],setPaginationData=_useState12[1];// States for filters\nvar _useState13=useState({search:'',role:'all'}),_useState14=_slicedToArray(_useState13,2),filters=_useState14[0],setFilters=_useState14[1];// for data filtering based on user role\nvar acceptedFilteredData=!loading?accepted&&accepted.filter(function(dataRow){return allUsers.filter(function(data){return dataRow.user_id===data.id;})[0].username.toLowerCase().includes(filters.search.toLowerCase());}).filter(function(dataRow){if(filters.role==='all')return true;if(filters.role==='Editor')return dataRow.role==='Editor';if(filters.role==='Viewer')return dataRow.role==='Viewer';return dataRow.role==='Owner';}):[];var notAcceptedFilteredData=!loading?notAccepted&&notAccepted.filter(function(dataRow){return allUsers.filter(function(data){return dataRow.user_id===data.id;})[0].username.toLowerCase().includes(filters.search.toLowerCase());}).filter(function(dataRow){if(filters.role==='all')return true;if(filters.role==='Editor')return dataRow.role==='Editor';if(filters.role==='Viewer')return dataRow.role==='Viewer';return dataRow.role==='Owner';}):[];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),inviteNewOpen=_React$useState2[0],setInviteNewOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),deleteMemberOpen=_React$useState4[0],setDeleteMemberOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),cancelInviteOpen=_React$useState6[0],setCancelInviteOpen=_React$useState6[1];function _showModal(){refetchGetProject();refetchAllUsers();}var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),projectOwnerCount=_useState16[0],setProjectOwnerCount=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),projectOtherCount=_useState18[0],setProjectOtherCount=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),invitationsCount=_useState20[0],setInvitationCount=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),projects=_useState22[0],setProjects=_useState22[1];var _useQuery3=useQuery(LIST_PROJECTS,{onCompleted:function onCompleted(){if(dataProject===null||dataProject===void 0?void 0:dataProject.listProjects){setProjects(dataProject===null||dataProject===void 0?void 0:dataProject.listProjects);}},fetchPolicy:'cache-and-network'}),dataProject=_useQuery3.data;useEffect(function(){var projectOwner=0;var projectInvitation=0;var projectOther=0;projects.forEach(function(project){project.members.forEach(function(member){if(member.user_id===userID&&member.role==='Owner'){projectOwner++;}else if(member.user_id===userID&&member.invitation==='Pending'){projectInvitation++;}else if(member.user_id===userID&&member.role!=='Owner'&&member.invitation==='Accepted'){projectOther++;}});});setProjectOwnerCount(projectOwner);setInvitationCount(projectInvitation);setProjectOtherCount(projectOther);},[projects,dataProject,deleteMemberOpen,inviteNewOpen,activeTab]);var _useMutation=useMutation(UPDATE_PROJECT_NAME,{refetchQueries:[{query:GET_PROJECT,variables:{projectID:projectID}}]}),_useMutation2=_slicedToArray(_useMutation,1),updateProjectName=_useMutation2[0];return/*#__PURE__*/React.createElement(\"div\",null,!loading?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:classes.row1},/*#__PURE__*/React.createElement(Paper,{className:classes.projectInfo,elevation:0},/*#__PURE__*/React.createElement(\"div\",{className:classes.projectInfoProjectStats},/*#__PURE__*/React.createElement(Typography,null,projectOtherCount+projectOwnerCount),projectOtherCount+projectOwnerCount!==1?/*#__PURE__*/React.createElement(Typography,null,t('settings.teamingTab.projects')):/*#__PURE__*/React.createElement(Typography,null,t('settings.teamingTab.project'))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.displayFlex},/*#__PURE__*/React.createElement(Typography,{className:classes.projectInfoBoldText},projectOwnerCount),/*#__PURE__*/React.createElement(Typography,null,t('settings.teamingTab.yourProject'))),/*#__PURE__*/React.createElement(\"div\",{className:classes.displayFlex},/*#__PURE__*/React.createElement(Typography,{className:classes.projectInfoBoldText},projectOtherCount),/*#__PURE__*/React.createElement(Typography,null,t('settings.teamingTab.projectInvite'))))),/*#__PURE__*/React.createElement(Paper,{className:classes.teamInfo,elevation:0},/*#__PURE__*/React.createElement(\"div\",{className:classes.invitationButton},/*#__PURE__*/React.createElement(\"div\",{className:classes.invitationButtonFlex},t('settings.teamingTab.invitations'),/*#__PURE__*/React.createElement(Typography,null,invitationsCount))),/*#__PURE__*/React.createElement(Typography,null,t('settings.teamingTab.manageTeam')))),/*#__PURE__*/React.createElement(\"div\",{className:classes.UMDiv},/*#__PURE__*/React.createElement(Center,null,/*#__PURE__*/React.createElement(Typography,{className:classes.myProjectText},\"My Project\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Paper,{className:classes.myProject,elevation:0},/*#__PURE__*/React.createElement(Center,null,/*#__PURE__*/React.createElement(\"div\",{className:classes.project},/*#__PURE__*/React.createElement(EditableText,{label:t('settings.teamingTab.editProjectLabel'),defaultValue:dataB?dataB.getProject.name:'',onSave:function onSave(value){updateProjectName({variables:{projectID:projectID,projectName:value}});}}))),/*#__PURE__*/React.createElement(Toolbar,{\"data-cy\":\"toolBarComponent\",className:classes.toolbar},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbarFirstCol,\"data-cy\":\"teamingSearch\"},/*#__PURE__*/React.createElement(Search,{id:\"input-with-icon-textfield\",placeholder:t('settings.teamingTab.label.search'),value:filters.search,onChange:function onChange(e){setFilters(_objectSpread(_objectSpread({},filters),{},{search:e.target.value}));setPaginationData(_objectSpread(_objectSpread({},paginationData),{},{pageNo:0}));}})),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttonDiv},/*#__PURE__*/React.createElement(\"div\",{className:classes.filter},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",className:classes.formControl,focused:true},/*#__PURE__*/React.createElement(InputLabel,{className:classes.selectText},t('settings.teamingTab.tableCell.role')),/*#__PURE__*/React.createElement(Select,{label:t('settings.teamingTab.label.role'),value:filters.role,onChange:function onChange(event){setFilters(_objectSpread(_objectSpread({},filters),{},{role:event.target.value}));setPaginationData(_objectSpread(_objectSpread({},paginationData),{},{pageNo:0}));},className:classes.selectText},/*#__PURE__*/React.createElement(MenuItem,{value:\"all\"},t('settings.teamingTab.label.options.all')),/*#__PURE__*/React.createElement(MenuItem,{value:\"Editor\"},t('settings.teamingTab.label.options.editor')),/*#__PURE__*/React.createElement(MenuItem,{value:\"Viewer\"},t('settings.teamingTab.label.options.viewer')),/*#__PURE__*/React.createElement(MenuItem,{value:\"Owner\"},t('settings.teamingTab.label.options.owner'))))),/*#__PURE__*/React.createElement(InviteNew,{showModal:function showModal(){_showModal();setInviteNewOpen(false);},handleOpen:function handleOpen(){return setInviteNewOpen(true);},open:inviteNewOpen}))),/*#__PURE__*/React.createElement(Tabs,{value:activeTab,onChange:handleChange,TabIndicatorProps:{style:{backgroundColor:theme.palette.primary.main}}},/*#__PURE__*/React.createElement(Tab,Object.assign({\"data-cy\":\"membersTab\",label:/*#__PURE__*/React.createElement(\"span\",{className:activeTab===0?classes.active:classes.inActive},/*#__PURE__*/React.createElement(\"span\",{className:classes.invitationCount},accepted.length),' ',accepted.length>1?'Members':'Member')},tabProps(0))),/*#__PURE__*/React.createElement(Tab,Object.assign({\"data-cy\":\"invitedTab\",label:/*#__PURE__*/React.createElement(\"span\",{className:activeTab===1?classes.active:classes.inActive},/*#__PURE__*/React.createElement(\"span\",{className:classes.invitationCount},notAccepted.length),' ',\"Invited\")},tabProps(1))))),/*#__PURE__*/React.createElement(TabPanel,{value:activeTab,index:0},/*#__PURE__*/React.createElement(MembersTable,{acceptedFilteredData:acceptedFilteredData,showModal:function showModal(){_showModal();setDeleteMemberOpen(false);},handleOpen:function handleOpen(){return setDeleteMemberOpen(true);},open:deleteMemberOpen})),/*#__PURE__*/React.createElement(TabPanel,{value:activeTab,index:1},/*#__PURE__*/React.createElement(InvitedTable,{notAcceptedFilteredData:notAcceptedFilteredData,showModal:function showModal(){_showModal();setCancelInviteOpen(false);},handleOpen:function handleOpen(){return setCancelInviteOpen(true);},open:cancelInviteOpen})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Paper,{className:classes.invitations},/*#__PURE__*/React.createElement(Typography,{className:classes.inviteHeading},t('settings.teamingTab.invitedProject')),/*#__PURE__*/React.createElement(Typography,{className:classes.inviteText},t('settings.teamingTab.invitation.receivedInvitation.receivedHeading')),/*#__PURE__*/React.createElement(Invitation,null)))):'');};export default TeamingTab;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/TeamingTab/Team/index.tsx"],"names":["useMutation","useQuery","Box","FormControl","InputLabel","MenuItem","Paper","Select","Tab","Tabs","Toolbar","Typography","useTheme","EditableText","Search","React","useEffect","useState","useTranslation","Center","ALL_USERS","GET_PROJECT","LIST_PROJECTS","UPDATE_PROJECT_NAME","getUserId","getProjectID","Invitation","InviteNew","InvitedTable","MembersTable","useStyles","TabPanel","children","value","index","other","tabProps","id","TeamingTab","classes","t","theme","projectID","loading","setLoading","userID","accepted","setAccepted","notAccepted","setNotAccepted","allUsers","setAllUsers","activeTab","setActiveTab","handleChange","event","actTab","variables","fetchPolicy","dataB","data","refetchGetProject","refetch","skip","onCompleted","users","memberList","getProject","members","acceptedUsers","notAcceptedUsers","forEach","member","invitation","push","user_id","refetchAllUsers","pageNo","rowsPerPage","paginationData","setPaginationData","search","role","filters","setFilters","acceptedFilteredData","filter","dataRow","username","toLowerCase","includes","notAcceptedFilteredData","inviteNewOpen","setInviteNewOpen","deleteMemberOpen","setDeleteMemberOpen","cancelInviteOpen","setCancelInviteOpen","showModal","projectOwnerCount","setProjectOwnerCount","projectOtherCount","setProjectOtherCount","invitationsCount","setInvitationCount","projects","setProjects","dataProject","listProjects","projectOwner","projectInvitation","projectOther","project","refetchQueries","query","updateProjectName","row1","projectInfo","projectInfoProjectStats","displayFlex","projectInfoBoldText","teamInfo","invitationButton","invitationButtonFlex","UMDiv","myProjectText","myProject","name","projectName","toolbar","toolbarFirstCol","e","target","buttonDiv","formControl","selectText","style","backgroundColor","palette","primary","main","active","inActive","invitationCount","length","invitations","inviteHeading","inviteText"],"mappings":"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","sourcesContent":["import { useMutation, useQuery } from '@apollo/client';\nimport {\n  Box,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  Tabs,\n  Toolbar,\n  Typography,\n  useTheme,\n} from '@material-ui/core';\nimport { EditableText, Search } from 'litmus-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Center from '../../../../containers/layouts/Center';\nimport {\n  ALL_USERS,\n  GET_PROJECT,\n  LIST_PROJECTS,\n  UPDATE_PROJECT_NAME,\n} from '../../../../graphql';\nimport { UserInvite } from '../../../../models/graphql/invite';\nimport {\n  Member,\n  Project,\n  ProjectDetail,\n  ProjectDetailVars,\n  Projects,\n} from '../../../../models/graphql/user';\nimport { getUserId } from '../../../../utils/auth';\nimport { getProjectID } from '../../../../utils/getSearchParams';\nimport Invitation from '../Invitation';\nimport InviteNew from '../InviteNew';\nimport InvitedTable from './invitedTable';\nimport MembersTable from './membersTable';\nimport useStyles from './styles';\n\ninterface FilterOptions {\n  search: string;\n  role: string;\n}\n\ninterface PaginationData {\n  pageNo: number;\n  rowsPerPage: number;\n}\n\ninterface TabPanelProps {\n  index: any;\n  value: any;\n}\n// TabPanel ise used to implement the functioning of tabs\nconst TabPanel: React.FC<TabPanelProps> = ({\n  children,\n  value,\n  index,\n  ...other\n}) => {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n};\n// tabProps returns 'id' and 'aria-control' props of Tab\nfunction tabProps(index: any) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n// TeamingTab displays team member table\nconst TeamingTab: React.FC = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const projectID = getProjectID();\n\n  const [loading, setLoading] = useState(true);\n\n  const userID = getUserId();\n\n  // for response data\n  const [accepted, setAccepted] = useState<Member[]>([]);\n  const [notAccepted, setNotAccepted] = useState<Member[]>([]);\n\n  const [allUsers, setAllUsers] = useState<UserInvite[]>([]);\n\n  const [activeTab, setActiveTab] = useState<number>(0);\n\n  const handleChange = (event: React.ChangeEvent<{}>, actTab: number) => {\n    setActiveTab(actTab);\n  };\n\n  const { data: dataB, refetch: refetchGetProject } = useQuery<\n    ProjectDetail,\n    ProjectDetailVars\n  >(GET_PROJECT, {\n    variables: { projectID },\n    fetchPolicy: 'cache-and-network',\n  });\n\n  const { refetch: refetchAllUsers } = useQuery(ALL_USERS, {\n    skip: !dataB,\n    onCompleted: (data) => {\n      setAllUsers([...data.users]);\n      setLoading(false);\n      const memberList = dataB?.getProject.members ?? [];\n      const acceptedUsers: Member[] = [];\n      const notAcceptedUsers: Member[] = [];\n\n      memberList.forEach((member) => {\n        if (member.invitation === 'Accepted') {\n          acceptedUsers.push(member);\n        } else if (\n          member.user_id !== userID &&\n          member.invitation !== 'Accepted'\n        ) {\n          notAcceptedUsers.push(member);\n        }\n      });\n      setAccepted([...acceptedUsers]);\n      setNotAccepted([...notAcceptedUsers]);\n    },\n    fetchPolicy: 'cache-and-network',\n  });\n\n  // State for pagination\n  const [paginationData, setPaginationData] = useState<PaginationData>({\n    pageNo: 0,\n    rowsPerPage: 5,\n  });\n\n  // States for filters\n  const [filters, setFilters] = useState<FilterOptions>({\n    search: '',\n    role: 'all',\n  });\n\n  // for data filtering based on user role\n  const acceptedFilteredData = !loading\n    ? accepted &&\n      accepted\n        .filter((dataRow: Member) => {\n          return allUsers\n            .filter((data) => {\n              return dataRow.user_id === data.id;\n            })[0]\n            .username.toLowerCase()\n            .includes(filters.search.toLowerCase());\n        })\n        .filter((dataRow: Member) => {\n          if (filters.role === 'all') return true;\n          if (filters.role === 'Editor') return dataRow.role === 'Editor';\n          if (filters.role === 'Viewer') return dataRow.role === 'Viewer';\n          return dataRow.role === 'Owner';\n        })\n    : [];\n\n  const notAcceptedFilteredData = !loading\n    ? notAccepted &&\n      notAccepted\n        .filter((dataRow: Member) => {\n          return allUsers\n            .filter((data) => {\n              return dataRow.user_id === data.id;\n            })[0]\n            .username.toLowerCase()\n            .includes(filters.search.toLowerCase());\n        })\n        .filter((dataRow: Member) => {\n          if (filters.role === 'all') return true;\n          if (filters.role === 'Editor') return dataRow.role === 'Editor';\n          if (filters.role === 'Viewer') return dataRow.role === 'Viewer';\n          return dataRow.role === 'Owner';\n        })\n    : [];\n\n  const [inviteNewOpen, setInviteNewOpen] = React.useState(false);\n  const [deleteMemberOpen, setDeleteMemberOpen] = React.useState(false);\n  const [cancelInviteOpen, setCancelInviteOpen] = React.useState(false);\n\n  function showModal() {\n    refetchGetProject();\n    refetchAllUsers();\n  }\n\n  const [projectOwnerCount, setProjectOwnerCount] = useState<number>(0);\n  const [projectOtherCount, setProjectOtherCount] = useState<number>(0);\n  const [invitationsCount, setInvitationCount] = useState<number>(0);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const { data: dataProject } = useQuery<Projects>(LIST_PROJECTS, {\n    onCompleted: () => {\n      if (dataProject?.listProjects) {\n        setProjects(dataProject?.listProjects);\n      }\n    },\n    fetchPolicy: 'cache-and-network',\n  });\n  useEffect(() => {\n    let projectOwner = 0;\n    let projectInvitation = 0;\n    let projectOther = 0;\n    projects.forEach((project) => {\n      project.members.forEach((member: Member) => {\n        if (member.user_id === userID && member.role === 'Owner') {\n          projectOwner++;\n        } else if (\n          member.user_id === userID &&\n          member.invitation === 'Pending'\n        ) {\n          projectInvitation++;\n        } else if (\n          member.user_id === userID &&\n          member.role !== 'Owner' &&\n          member.invitation === 'Accepted'\n        ) {\n          projectOther++;\n        }\n      });\n    });\n    setProjectOwnerCount(projectOwner);\n    setInvitationCount(projectInvitation);\n    setProjectOtherCount(projectOther);\n  }, [projects, dataProject, deleteMemberOpen, inviteNewOpen, activeTab]);\n\n  const [updateProjectName] = useMutation(UPDATE_PROJECT_NAME, {\n    refetchQueries: [\n      {\n        query: GET_PROJECT,\n        variables: { projectID },\n      },\n    ],\n  });\n  return (\n    <div>\n      {!loading ? (\n        <>\n          <div className={classes.row1}>\n            <Paper className={classes.projectInfo} elevation={0}>\n              <div className={classes.projectInfoProjectStats}>\n                <Typography>{projectOtherCount + projectOwnerCount}</Typography>\n                {projectOtherCount + projectOwnerCount !== 1 ? (\n                  <Typography>{t('settings.teamingTab.projects')}</Typography>\n                ) : (\n                  <Typography>{t('settings.teamingTab.project')}</Typography>\n                )}\n              </div>\n              <div>\n                <div className={classes.displayFlex}>\n                  <Typography className={classes.projectInfoBoldText}>\n                    {projectOwnerCount}\n                  </Typography>\n                  <Typography>\n                    {t('settings.teamingTab.yourProject')}\n                  </Typography>\n                </div>\n                <div className={classes.displayFlex}>\n                  <Typography className={classes.projectInfoBoldText}>\n                    {projectOtherCount}\n                  </Typography>\n                  <Typography>\n                    {t('settings.teamingTab.projectInvite')}\n                  </Typography>\n                </div>\n              </div>\n            </Paper>\n            <Paper className={classes.teamInfo} elevation={0}>\n              <div className={classes.invitationButton}>\n                <div className={classes.invitationButtonFlex}>\n                  {t('settings.teamingTab.invitations')}\n                  <Typography>{invitationsCount}</Typography>\n                </div>\n              </div>\n              <Typography>{t('settings.teamingTab.manageTeam')}</Typography>\n            </Paper>\n          </div>\n          <div className={classes.UMDiv}>\n            <Center>\n              <Typography className={classes.myProjectText}>\n                My Project\n              </Typography>\n            </Center>\n            <div>\n              <Paper className={classes.myProject} elevation={0}>\n                <Center>\n                  <div className={classes.project}>\n                    <EditableText\n                      label={t('settings.teamingTab.editProjectLabel')}\n                      defaultValue={dataB ? dataB.getProject.name : ''}\n                      onSave={(value) => {\n                        updateProjectName({\n                          variables: {\n                            projectID,\n                            projectName: value,\n                          },\n                        });\n                      }}\n                    />\n                  </div>\n                </Center>\n                <Toolbar data-cy=\"toolBarComponent\" className={classes.toolbar}>\n                  {/* Search user */}\n                  <div\n                    className={classes.toolbarFirstCol}\n                    data-cy=\"teamingSearch\"\n                  >\n                    <Search\n                      id=\"input-with-icon-textfield\"\n                      placeholder={t('settings.teamingTab.label.search')}\n                      value={filters.search}\n                      onChange={(e) => {\n                        setFilters({\n                          ...filters,\n                          search: e.target.value,\n                        });\n                        setPaginationData({ ...paginationData, pageNo: 0 });\n                      }}\n                    />\n                    {/* filter menu */}\n                  </div>\n\n                  <div className={classes.buttonDiv}>\n                    <div className={classes.filter}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        focused\n                      >\n                        <InputLabel className={classes.selectText}>\n                          {t('settings.teamingTab.tableCell.role')}\n                        </InputLabel>\n                        <Select\n                          label={t('settings.teamingTab.label.role')}\n                          value={filters.role}\n                          onChange={(event) => {\n                            setFilters({\n                              ...filters,\n                              role: event.target.value as string,\n                            });\n                            setPaginationData({\n                              ...paginationData,\n                              pageNo: 0,\n                            });\n                          }}\n                          className={classes.selectText}\n                        >\n                          <MenuItem value=\"all\">\n                            {t('settings.teamingTab.label.options.all')}\n                          </MenuItem>\n                          <MenuItem value=\"Editor\">\n                            {t('settings.teamingTab.label.options.editor')}\n                          </MenuItem>\n                          <MenuItem value=\"Viewer\">\n                            {t('settings.teamingTab.label.options.viewer')}\n                          </MenuItem>\n                          <MenuItem value=\"Owner\">\n                            {t('settings.teamingTab.label.options.owner')}\n                          </MenuItem>\n                        </Select>\n                      </FormControl>\n                    </div>\n                    <InviteNew\n                      showModal={() => {\n                        showModal();\n\n                        setInviteNewOpen(false);\n                      }}\n                      handleOpen={() => setInviteNewOpen(true)}\n                      open={inviteNewOpen}\n                    />\n                  </div>\n                </Toolbar>\n                <Tabs\n                  value={activeTab}\n                  onChange={handleChange}\n                  TabIndicatorProps={{\n                    style: {\n                      backgroundColor: theme.palette.primary.main,\n                    },\n                  }}\n                >\n                  <Tab\n                    data-cy=\"membersTab\"\n                    label={\n                      <span\n                        className={\n                          activeTab === 0 ? classes.active : classes.inActive\n                        }\n                      >\n                        <span className={classes.invitationCount}>\n                          {accepted.length}\n                        </span>{' '}\n                        {accepted.length > 1 ? 'Members' : 'Member'}\n                      </span>\n                    }\n                    {...tabProps(0)}\n                  />\n                  <Tab\n                    data-cy=\"invitedTab\"\n                    label={\n                      <span\n                        className={\n                          activeTab === 1 ? classes.active : classes.inActive\n                        }\n                      >\n                        <span className={classes.invitationCount}>\n                          {notAccepted.length}\n                        </span>{' '}\n                        Invited\n                      </span>\n                    }\n                    {...tabProps(1)}\n                  />\n                </Tabs>\n              </Paper>\n              <TabPanel value={activeTab} index={0}>\n                <MembersTable\n                  acceptedFilteredData={acceptedFilteredData}\n                  showModal={() => {\n                    showModal();\n                    setDeleteMemberOpen(false);\n                  }}\n                  handleOpen={() => setDeleteMemberOpen(true)}\n                  open={deleteMemberOpen}\n                />\n              </TabPanel>\n              <TabPanel value={activeTab} index={1}>\n                <InvitedTable\n                  notAcceptedFilteredData={notAcceptedFilteredData}\n                  showModal={() => {\n                    showModal();\n                    setCancelInviteOpen(false);\n                  }}\n                  handleOpen={() => setCancelInviteOpen(true)}\n                  open={cancelInviteOpen}\n                />\n              </TabPanel>\n              {/* user table */}\n            </div>\n          </div>\n          <div>\n            <Paper className={classes.invitations}>\n              <Typography className={classes.inviteHeading}>\n                {t('settings.teamingTab.invitedProject')}\n              </Typography>\n              <Typography className={classes.inviteText}>\n                {t(\n                  'settings.teamingTab.invitation.receivedInvitation.receivedHeading'\n                )}\n              </Typography>\n              <Invitation />\n            </Paper>\n          </div>\n        </>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\nexport default TeamingTab;\n"]},"metadata":{},"sourceType":"module"}