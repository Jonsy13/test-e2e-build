{"ast":null,"code":"import _slicedToArray from \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/TeamingTab/Team/removeMemberModal.tsx\";\n\nimport { useMutation } from '@apollo/client';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { ButtonFilled, ButtonOutlined, Modal } from 'litmus-ui';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Loader from '../../../../components/Loader';\nimport { GET_PROJECT, REMOVE_INVITATION } from '../../../../graphql';\nimport { getProjectID } from '../../../../utils/getSearchParams';\nimport useStyles from './styles';\n\nvar RemoveMemberModal = function RemoveMemberModal(_ref) {\n  var row = _ref.row,\n      showModal = _ref.showModal,\n      handleClose = _ref.handleClose,\n      open = _ref.open,\n      isRemove = _ref.isRemove;\n  var classes = useStyles();\n  var projectID = getProjectID();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t; // mutation to remove member\n\n\n  var _useMutation = useMutation(REMOVE_INVITATION, {\n    onCompleted: function onCompleted() {\n      showModal();\n      handleClose();\n    },\n    refetchQueries: [{\n      query: GET_PROJECT,\n      variables: {\n        projectID: projectID\n      }\n    }]\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      removeMember = _useMutation2[0],\n      loading = _useMutation2[1].loading;\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    \"data-cy\": \"modal\",\n    open: open,\n    width: \"50%\",\n    height: \"70%\",\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    onClose: function onClose() {\n      showModal();\n      handleClose();\n    },\n    modalActions: /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.closeModal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        showModal();\n        handleClose();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./icons/closeBtn.svg\",\n      alt: \"close\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.body,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./icons/userDel.svg\",\n    alt: \"lock\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.typo,\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, isRemove ? t('settings.teamingTab.deleteUser.header') : t('settings.teamingTab.deleteModal.header'), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \" \", row.user_name, \"?\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.textSecond,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, isRemove && /*#__PURE__*/React.createElement(Typography, {\n    className: classes.typoSub,\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, t('settings.teamingTab.deleteUser.body'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttonGroup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ButtonOutlined, {\n    onClick: function onClick() {\n      showModal();\n      handleClose();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, t('settings.teamingTab.deleteUser.noButton')), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.yesButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonFilled, {\n    disabled: loading,\n    onClick: function onClick() {\n      removeMember({\n        variables: {\n          data: {\n            project_id: projectID,\n            user_id: row.user_id,\n            role: row.role\n          }\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, t('settings.teamingTab.deleteUser.yesButton'))))))));\n};\n\nexport default RemoveMemberModal;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/TeamingTab/Team/removeMemberModal.tsx"],"names":["useMutation","IconButton","Typography","ButtonFilled","ButtonOutlined","Modal","React","useTranslation","Loader","GET_PROJECT","REMOVE_INVITATION","getProjectID","useStyles","RemoveMemberModal","row","showModal","handleClose","open","isRemove","classes","projectID","t","onCompleted","refetchQueries","query","variables","removeMember","loading","closeModal","body","text","typo","user_name","textSecond","typoSub","buttonGroup","yesButton","data","project_id","user_id","role"],"mappings":"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","sourcesContent":["import { useMutation } from '@apollo/client';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { ButtonFilled, ButtonOutlined, Modal } from 'litmus-ui';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Loader from '../../../../components/Loader';\nimport { GET_PROJECT, REMOVE_INVITATION } from '../../../../graphql';\nimport { MemberInvitation } from '../../../../models/graphql/invite';\nimport { Member } from '../../../../models/graphql/user';\nimport { getProjectID } from '../../../../utils/getSearchParams';\nimport useStyles from './styles';\n\ninterface RemoveMemberModalProps {\n  row: Member;\n  showModal: () => void;\n  handleClose: () => void;\n  open: boolean;\n  isRemove: boolean;\n}\nconst RemoveMemberModal: React.FC<RemoveMemberModalProps> = ({\n  row,\n  showModal,\n  handleClose,\n  open,\n  isRemove,\n}) => {\n  const classes = useStyles();\n  const projectID = getProjectID();\n\n  const { t } = useTranslation();\n\n  // mutation to remove member\n  const [removeMember, { loading }] = useMutation<MemberInvitation>(\n    REMOVE_INVITATION,\n    {\n      onCompleted: () => {\n        showModal();\n        handleClose();\n      },\n      refetchQueries: [\n        {\n          query: GET_PROJECT,\n          variables: { projectID },\n        },\n      ],\n    }\n  );\n\n  return (\n    <Modal\n      data-cy=\"modal\"\n      open={open}\n      width=\"50%\"\n      height=\"70%\"\n      disableBackdropClick\n      disableEscapeKeyDown\n      onClose={() => {\n        showModal();\n        handleClose();\n      }}\n      modalActions={\n        <div className={classes.closeModal}>\n          <IconButton\n            onClick={() => {\n              showModal();\n              handleClose();\n            }}\n          >\n            <img src=\"./icons/closeBtn.svg\" alt=\"close\" />\n          </IconButton>\n        </div>\n      }\n    >\n      <div className={classes.body}>\n        <img src=\"./icons/userDel.svg\" alt=\"lock\" />\n        <div className={classes.text}>\n          <Typography className={classes.typo} align=\"center\">\n            {isRemove\n              ? t('settings.teamingTab.deleteUser.header')\n              : t('settings.teamingTab.deleteModal.header')}\n            <strong> {row.user_name}?</strong>\n          </Typography>\n        </div>\n        <div className={classes.textSecond}>\n          {isRemove && (\n            <Typography className={classes.typoSub} align=\"center\">\n              {t('settings.teamingTab.deleteUser.body')}\n            </Typography>\n          )}\n        </div>\n        <div className={classes.buttonGroup}>\n          <ButtonOutlined\n            onClick={() => {\n              showModal();\n              handleClose();\n            }}\n          >\n            {t('settings.teamingTab.deleteUser.noButton')}\n          </ButtonOutlined>\n\n          <div className={classes.yesButton}>\n            <ButtonFilled\n              disabled={loading}\n              onClick={() => {\n                removeMember({\n                  variables: {\n                    data: {\n                      project_id: projectID,\n                      user_id: row.user_id,\n                      role: row.role,\n                    },\n                  },\n                });\n              }}\n            >\n              <>\n                {loading ? (\n                  <div>\n                    <Loader size={20} />\n                  </div>\n                ) : (\n                  <>{t('settings.teamingTab.deleteUser.yesButton')}</>\n                )}\n              </>\n            </ButtonFilled>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\nexport default RemoveMemberModal;\n"]},"metadata":{},"sourceType":"module"}