{"ast":null,"code":"import _slicedToArray from \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Home/AgentConfiguredHome/index.tsx\";\n\nimport { useQuery } from '@apollo/client';\nimport { Typography } from '@material-ui/core';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport { ButtonFilled, ButtonOutlined, Modal, TextButton } from 'litmus-ui';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AgentDeployModal } from '../../../components/AgentDeployModal';\nimport Loader from '../../../components/Loader';\nimport { MainInfoContainer } from '../../../components/MainInfoContainer';\nimport { OverviewContainer } from '../../../components/OverviewContainer';\nimport { RecentOverviewContainer } from '../../../components/RecentOverviewContainer';\nimport Center from '../../../containers/layouts/Center';\nimport { WORKFLOW_DETAILS } from '../../../graphql';\nimport { Role } from '../../../models/graphql/user';\nimport useActions from '../../../redux/actions';\nimport * as TabActions from '../../../redux/actions/tabs';\nimport { history } from '../../../redux/configureStore';\nimport { getProjectID, getProjectRole } from '../../../utils/getSearchParams';\nimport { ProjectInfoContainer } from '../ProjectInfoContainer';\nimport useStyles from './styles';\nimport { WorkflowRunCard } from './WorkflowRunCard';\n\nvar AgentConfiguredHome = function AgentConfiguredHome(_ref) {\n  var _data$getWorkflowRuns;\n\n  var agentCount = _ref.agentCount;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var projectID = getProjectID();\n  var projectRole = getProjectRole();\n  var tabs = useActions(TabActions);\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalOpen = _useState2[0],\n      setModalOpen = _useState2[1];\n\n  var handleClose = function handleClose() {\n    setModalOpen(false);\n  };\n\n  var handleOpen = function handleOpen() {\n    setModalOpen(true);\n  };\n\n  var _useQuery = useQuery(WORKFLOW_DETAILS, {\n    variables: {\n      workflowRunsInput: {\n        project_id: projectID,\n        pagination: {\n          page: 0,\n          limit: 3\n        }\n      }\n    },\n    fetchPolicy: 'cache-and-network'\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  var workflowRunCount = (_data$getWorkflowRuns = data === null || data === void 0 ? void 0 : data.getWorkflowRuns.total_no_of_workflow_runs) !== null && _data$getWorkflowRuns !== void 0 ? _data$getWorkflowRuns : 0;\n\n  if (error) {\n    console.error('Error fetching Workflow Data');\n    return /*#__PURE__*/React.createElement(Center, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, t('homeViews.agentConfiguredHome.error')));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Center, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })) : workflowRunCount > 0 ? /*#__PURE__*/React.createElement(RecentOverviewContainer, {\n    heading: t('homeViews.agentConfiguredHome.recentWorkflowRuns.heading'),\n    link: /*#__PURE__*/React.createElement(TextButton, {\n      className: classes.textButton,\n      variant: \"highlight\",\n      onClick: function onClick() {\n        tabs.changeWorkflowsTabs(0);\n        history.push({\n          pathname: '/workflows',\n          search: \"?projectID=\".concat(projectID, \"&projectRole=\").concat(projectRole)\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, t('homeViews.agentConfiguredHome.recentWorkflowRuns.viewAll'))),\n    buttonLink: \"/create-workflow\",\n    buttonImgSrc: \"./icons/calendarBlank.svg\",\n    buttonImgAlt: \"calendar\",\n    buttonText: t('homeViews.agentConfiguredHome.recentWorkflowRuns.schedule'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, data === null || data === void 0 ? void 0 : data.getWorkflowRuns.workflow_runs.map(function (workflow) {\n    return /*#__PURE__*/React.createElement(WorkflowRunCard, {\n      key: workflow.workflow_id,\n      data: workflow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    });\n  })) : /*#__PURE__*/React.createElement(MainInfoContainer, {\n    src: \"./icons/workflowScheduleHome.svg\",\n    alt: \"Schedule a workflow\",\n    heading: t('homeViews.agentConfiguredHome.noWorkflow.heading'),\n    description: t('homeViews.agentConfiguredHome.noWorkflow.description'),\n    button: /*#__PURE__*/React.createElement(ButtonFilled, {\n      onClick: function onClick() {\n        history.push({\n          pathname: '/create-workflow',\n          search: \"?projectID=\".concat(projectID, \"&projectRole=\").concat(projectRole)\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, t('homeViews.agentConfiguredHome.noWorkflow.schedule'))),\n    link: /*#__PURE__*/React.createElement(TextButton, {\n      variant: \"highlight\",\n      onClick: function onClick() {\n        history.push({\n          pathname: '/myhub/Chaos%20Hub',\n          search: \"?projectID=\".concat(projectID, \"&projectRole=\").concat(projectRole)\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, t('homeViews.agentConfiguredHome.noWorkflow.explore'))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(OverviewContainer, {\n    count: agentCount,\n    countUnit: t('homeViews.agentConfiguredHome.agentInfoContainer.agent'),\n    description: t('homeViews.agentConfiguredHome.agentInfoContainer.description'),\n    maxWidth: \"25.5625rem\",\n    button: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonOutlined, {\n      onClick: handleOpen,\n      className: classes.infoContainerButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ArrowUpwardIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }), t('homeViews.agentConfiguredHome.agentInfoContainer.deploy'))), /*#__PURE__*/React.createElement(Modal, {\n      height: \"50%\",\n      width: \"50%\",\n      open: modalOpen,\n      onClose: handleClose,\n      modalActions: /*#__PURE__*/React.createElement(ButtonOutlined, {\n        onClick: handleClose,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      }, \"\\u2715\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AgentDeployModal, {\n      handleClose: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }), projectRole === Role.owner && /*#__PURE__*/React.createElement(ProjectInfoContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 38\n    }\n  }));\n};\n\nexport { AgentConfiguredHome };","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Home/AgentConfiguredHome/index.tsx"],"names":["useQuery","Typography","ArrowUpwardIcon","ButtonFilled","ButtonOutlined","Modal","TextButton","React","useState","useTranslation","AgentDeployModal","Loader","MainInfoContainer","OverviewContainer","RecentOverviewContainer","Center","WORKFLOW_DETAILS","Role","useActions","TabActions","history","getProjectID","getProjectRole","ProjectInfoContainer","useStyles","WorkflowRunCard","AgentConfiguredHome","agentCount","t","projectID","projectRole","tabs","classes","modalOpen","setModalOpen","handleClose","handleOpen","variables","workflowRunsInput","project_id","pagination","page","limit","fetchPolicy","data","loading","error","workflowRunCount","getWorkflowRuns","total_no_of_workflow_runs","console","textButton","changeWorkflowsTabs","push","pathname","search","workflow_runs","map","workflow","workflow_id","infoContainerButton","owner"],"mappings":"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","sourcesContent":["import { useQuery } from '@apollo/client';\nimport { Typography } from '@material-ui/core';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport { ButtonFilled, ButtonOutlined, Modal, TextButton } from 'litmus-ui';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AgentDeployModal } from '../../../components/AgentDeployModal';\nimport Loader from '../../../components/Loader';\nimport { MainInfoContainer } from '../../../components/MainInfoContainer';\nimport { OverviewContainer } from '../../../components/OverviewContainer';\nimport { RecentOverviewContainer } from '../../../components/RecentOverviewContainer';\nimport Center from '../../../containers/layouts/Center';\nimport { WORKFLOW_DETAILS } from '../../../graphql';\nimport { Role } from '../../../models/graphql/user';\nimport {\n  Workflow,\n  WorkflowDataVars,\n} from '../../../models/graphql/workflowData';\nimport useActions from '../../../redux/actions';\nimport * as TabActions from '../../../redux/actions/tabs';\nimport { history } from '../../../redux/configureStore';\nimport { getProjectID, getProjectRole } from '../../../utils/getSearchParams';\nimport { ProjectInfoContainer } from '../ProjectInfoContainer';\nimport useStyles from './styles';\nimport { WorkflowRunCard } from './WorkflowRunCard';\n\ninterface AgentConfiguredHomeProps {\n  agentCount: number;\n}\n\nconst AgentConfiguredHome: React.FC<AgentConfiguredHomeProps> = ({\n  agentCount,\n}) => {\n  const { t } = useTranslation();\n  const projectID = getProjectID();\n  const projectRole = getProjectRole();\n  const tabs = useActions(TabActions);\n  const classes = useStyles();\n\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n\n  const handleClose = () => {\n    setModalOpen(false);\n  };\n\n  const handleOpen = () => {\n    setModalOpen(true);\n  };\n\n  const { data, loading, error } = useQuery<Workflow, WorkflowDataVars>(\n    WORKFLOW_DETAILS,\n    {\n      variables: {\n        workflowRunsInput: {\n          project_id: projectID,\n          pagination: {\n            page: 0,\n            limit: 3,\n          },\n        },\n      },\n      fetchPolicy: 'cache-and-network',\n    }\n  );\n\n  const workflowRunCount = data?.getWorkflowRuns.total_no_of_workflow_runs ?? 0;\n\n  if (error) {\n    console.error('Error fetching Workflow Data');\n    return (\n      <Center>\n        <Typography>{t('homeViews.agentConfiguredHome.error')}</Typography>\n      </Center>\n    );\n  }\n\n  return (\n    <div>\n      {loading ? (\n        <Center>\n          <Loader />\n        </Center>\n      ) : workflowRunCount > 0 ? (\n        <RecentOverviewContainer\n          heading={t(\n            'homeViews.agentConfiguredHome.recentWorkflowRuns.heading'\n          )}\n          link={\n            <TextButton\n              className={classes.textButton}\n              variant=\"highlight\"\n              onClick={() => {\n                tabs.changeWorkflowsTabs(0);\n                history.push({\n                  pathname: '/workflows',\n                  search: `?projectID=${projectID}&projectRole=${projectRole}`,\n                });\n              }}\n            >\n              <Typography>\n                {t('homeViews.agentConfiguredHome.recentWorkflowRuns.viewAll')}\n              </Typography>\n            </TextButton>\n          }\n          buttonLink=\"/create-workflow\"\n          buttonImgSrc=\"./icons/calendarBlank.svg\"\n          buttonImgAlt=\"calendar\"\n          buttonText={t(\n            'homeViews.agentConfiguredHome.recentWorkflowRuns.schedule'\n          )}\n        >\n          {data?.getWorkflowRuns.workflow_runs.map((workflow) => {\n            return (\n              <WorkflowRunCard key={workflow.workflow_id} data={workflow} />\n            );\n          })}\n        </RecentOverviewContainer>\n      ) : (\n        <MainInfoContainer\n          src=\"./icons/workflowScheduleHome.svg\"\n          alt=\"Schedule a workflow\"\n          heading={t('homeViews.agentConfiguredHome.noWorkflow.heading')}\n          description={t(\n            'homeViews.agentConfiguredHome.noWorkflow.description'\n          )}\n          button={\n            <ButtonFilled\n              onClick={() => {\n                history.push({\n                  pathname: '/create-workflow',\n                  search: `?projectID=${projectID}&projectRole=${projectRole}`,\n                });\n              }}\n            >\n              <Typography>\n                {t('homeViews.agentConfiguredHome.noWorkflow.schedule')}\n              </Typography>\n            </ButtonFilled>\n          }\n          link={\n            <TextButton\n              variant=\"highlight\"\n              onClick={() => {\n                history.push({\n                  pathname: '/myhub/Chaos%20Hub',\n                  search: `?projectID=${projectID}&projectRole=${projectRole}`,\n                });\n              }}\n            >\n              <Typography>\n                {t('homeViews.agentConfiguredHome.noWorkflow.explore')}\n              </Typography>\n            </TextButton>\n          }\n        />\n      )}\n\n      {/* Agent info container */}\n      <OverviewContainer\n        count={agentCount}\n        countUnit={t('homeViews.agentConfiguredHome.agentInfoContainer.agent')}\n        description={t(\n          'homeViews.agentConfiguredHome.agentInfoContainer.description'\n        )}\n        maxWidth=\"25.5625rem\"\n        button={\n          <>\n            <ButtonOutlined\n              onClick={handleOpen}\n              className={classes.infoContainerButton}\n            >\n              <Typography>\n                <ArrowUpwardIcon />\n                {t('homeViews.agentConfiguredHome.agentInfoContainer.deploy')}\n              </Typography>\n            </ButtonOutlined>\n\n            <Modal\n              height=\"50%\"\n              width=\"50%\"\n              open={modalOpen}\n              onClose={handleClose}\n              modalActions={\n                <ButtonOutlined onClick={handleClose}>&#x2715;</ButtonOutlined>\n              }\n            >\n              <AgentDeployModal handleClose={handleClose} />\n            </Modal>\n          </>\n        }\n      />\n\n      {/* Project Level info container */}\n      {projectRole === Role.owner && <ProjectInfoContainer />}\n    </div>\n  );\n};\n\nexport { AgentConfiguredHome };\n"]},"metadata":{},"sourceType":"module"}