{"ast":null,"code":"import _toConsumableArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Typography}from'@material-ui/core';import localforage from'localforage';import React,{forwardRef,useEffect,useImperativeHandle,useState}from'react';import{useTranslation}from'react-i18next';import WeightSlider from'../WeightSlider';import useStyles from'./styles';var ReliablityScore=forwardRef(function(_,ref){var classes=useStyles();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState([{experimentName:'',weight:0}]),_useState2=_slicedToArray(_useState,2),weights=_useState2[0],setWeights=_useState2[1];function _handleChange(_ref){var newValue=_ref.newValue,index=_ref.index;weights[index].weight=newValue;setWeights(_toConsumableArray(weights));}useEffect(function(){localforage.getItem('weights').then(function(value){return value!==null?setWeights(value):setWeights([]);});},[]);function onNext(){localforage.setItem('weights',weights);return true;}useImperativeHandle(ref,function(){return{onNext:onNext};});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.innerContainer},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{className:classes.headerText},/*#__PURE__*/React.createElement(\"strong\",null,t('createWorkflow.reliabilityScore.header'))),/*#__PURE__*/React.createElement(Typography,{className:classes.description},t('createWorkflow.reliabilityScore.info'),\" \",weights.length,' ',t('createWorkflow.reliabilityScore.infoNext'),' ',/*#__PURE__*/React.createElement(\"strong\",null,t('createWorkflow.reliabilityScore.infoNextStrong')))),/*#__PURE__*/React.createElement(\"hr\",{className:classes.horizontalLine}),weights.map(function(Data,index){return/*#__PURE__*/React.createElement(WeightSlider,{key:Data.experimentName+index.toString(),index:index,testName:Data.experimentName,weight:Data.weight,handleChange:function handleChange(newValue,index){return _handleChange({newValue:newValue,index:index});}});}))));});export default ReliablityScore;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/CreateWorkflow/ReliabilityScore/index.tsx"],"names":["Typography","localforage","React","forwardRef","useEffect","useImperativeHandle","useState","useTranslation","WeightSlider","useStyles","ReliablityScore","_","ref","classes","t","experimentName","weight","weights","setWeights","handleChange","newValue","index","getItem","then","value","onNext","setItem","root","innerContainer","headerText","description","length","horizontalLine","map","Data","toString"],"mappings":"8WAAA,OAASA,UAAT,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,aAAxB,CACA,MAAOC,CAAAA,KAAP,EACEC,UADF,CAEEC,SAFF,CAGEC,mBAHF,CAIEC,QAJF,KAKO,OALP,CAMA,OAASC,cAAT,KAA+B,eAA/B,CAEA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,UAAtB,CAEA,GAAMC,CAAAA,eAAe,CAAGP,UAAU,CAAC,SAACQ,CAAD,CAAIC,GAAJ,CAAY,CAC7C,GAAMC,CAAAA,OAAO,CAAGJ,SAAS,EAAzB,CACA,oBAAcF,cAAc,EAA5B,CAAQO,CAAR,iBAAQA,CAAR,CAEA,cAA8BR,QAAQ,CAAkB,CACtD,CACES,cAAc,CAAE,EADlB,CAEEC,MAAM,CAAE,CAFV,CADsD,CAAlB,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eAOA,QAASC,CAAAA,aAAT,MAMG,IALDC,CAAAA,QAKC,MALDA,QAKC,CAJDC,KAIC,MAJDA,KAIC,CACDJ,OAAO,CAACI,KAAD,CAAP,CAAeL,MAAf,CAAwBI,QAAxB,CACAF,UAAU,oBAAKD,OAAL,EAAV,CACD,CAEDb,SAAS,CAAC,UAAM,CACdH,WAAW,CACRqB,OADH,CACW,SADX,EAEGC,IAFH,CAEQ,SAACC,KAAD,QACJA,CAAAA,KAAK,GAAK,IAAV,CAAiBN,UAAU,CAACM,KAAD,CAA3B,CAAwDN,UAAU,CAAC,EAAD,CAD9D,EAFR,EAKD,CANQ,CAMN,EANM,CAAT,CAQA,QAASO,CAAAA,MAAT,EAAkB,CAChBxB,WAAW,CAACyB,OAAZ,CAAoB,SAApB,CAA+BT,OAA/B,EACA,MAAO,KAAP,CACD,CAEDZ,mBAAmB,CAACO,GAAD,CAAM,iBAAO,CAC9Ba,MAAM,CAANA,MAD8B,CAAP,EAAN,CAAnB,CAIA,mBACE,4CACE,4BAAM,SAAS,CAAEZ,OAAO,CAACc,IAAzB,eACE,2BAAK,SAAS,CAAEd,OAAO,CAACe,cAAxB,eACE,4CACE,oBAAC,UAAD,EAAY,SAAS,CAAEf,OAAO,CAACgB,UAA/B,eACE,kCAASf,CAAC,CAAC,wCAAD,CAAV,CADF,CADF,cAIE,oBAAC,UAAD,EAAY,SAAS,CAAED,OAAO,CAACiB,WAA/B,EACGhB,CAAC,CAAC,sCAAD,CADJ,KAC+CG,OAAO,CAACc,MADvD,CAC+D,GAD/D,CAEGjB,CAAC,CAAC,0CAAD,CAFJ,CAEkD,GAFlD,cAGE,kCACGA,CAAC,CAAC,gDAAD,CADJ,CAHF,CAJF,CADF,cAaE,0BAAI,SAAS,CAAED,OAAO,CAACmB,cAAvB,EAbF,CAcGf,OAAO,CAACgB,GAAR,CAAY,SAACC,IAAD,CAAsBb,KAAtB,qBACX,oBAAC,YAAD,EACE,GAAG,CAAEa,IAAI,CAACnB,cAAL,CAAsBM,KAAK,CAACc,QAAN,EAD7B,CAEE,KAAK,CAAEd,KAFT,CAGE,QAAQ,CAAEa,IAAI,CAACnB,cAHjB,CAIE,MAAM,CAAEmB,IAAI,CAAClB,MAJf,CAKE,YAAY,CAAE,sBAACI,QAAD,CAAWC,KAAX,QACZF,CAAAA,aAAY,CAAC,CAAEC,QAAQ,CAARA,QAAF,CAAYC,KAAK,CAALA,KAAZ,CAAD,CADA,EALhB,EADW,EAAZ,CAdH,CADF,CADF,CADF,CAgCD,CAvEiC,CAAlC,CAyEA,cAAeX,CAAAA,eAAf","sourcesContent":["import { Typography } from '@material-ui/core';\nimport localforage from 'localforage';\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { experimentMap } from '../../../models/redux/workflow';\nimport WeightSlider from '../WeightSlider';\nimport useStyles from './styles';\n\nconst ReliablityScore = forwardRef((_, ref) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const [weights, setWeights] = useState<experimentMap[]>([\n    {\n      experimentName: '',\n      weight: 0,\n    },\n  ]);\n\n  function handleChange({\n    newValue,\n    index,\n  }: {\n    newValue: number;\n    index: number;\n  }) {\n    weights[index].weight = newValue;\n    setWeights([...weights]);\n  }\n\n  useEffect(() => {\n    localforage\n      .getItem('weights')\n      .then((value) =>\n        value !== null ? setWeights(value as experimentMap[]) : setWeights([])\n      );\n  }, []);\n\n  function onNext() {\n    localforage.setItem('weights', weights);\n    return true;\n  }\n\n  useImperativeHandle(ref, () => ({\n    onNext,\n  }));\n\n  return (\n    <div>\n      <form className={classes.root}>\n        <div className={classes.innerContainer}>\n          <div>\n            <Typography className={classes.headerText}>\n              <strong>{t('createWorkflow.reliabilityScore.header')}</strong>\n            </Typography>\n            <Typography className={classes.description}>\n              {t('createWorkflow.reliabilityScore.info')} {weights.length}{' '}\n              {t('createWorkflow.reliabilityScore.infoNext')}{' '}\n              <strong>\n                {t('createWorkflow.reliabilityScore.infoNextStrong')}\n              </strong>\n            </Typography>\n          </div>\n          <hr className={classes.horizontalLine} />\n          {weights.map((Data: experimentMap, index: number) => (\n            <WeightSlider\n              key={Data.experimentName + index.toString()}\n              index={index}\n              testName={Data.experimentName}\n              weight={Data.weight}\n              handleChange={(newValue, index) =>\n                handleChange({ newValue, index })\n              }\n            />\n          ))}\n        </div>\n      </form>\n    </div>\n  );\n});\n\nexport default ReliablityScore;\n"]},"metadata":{},"sourceType":"module"}