{"ast":null,"code":"import _slicedToArray from\"/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useMutation}from'@apollo/client';import{IconButton,Typography}from'@material-ui/core';import{ButtonFilled,ButtonOutlined,Modal}from'litmus-ui';import React from'react';import{useTranslation}from'react-i18next';import Loader from'../../../../components/Loader';import{GET_PROJECT,REMOVE_INVITATION}from'../../../../graphql';import{getProjectID}from'../../../../utils/getSearchParams';import useStyles from'./styles';var RemoveMemberModal=function RemoveMemberModal(_ref){var row=_ref.row,showModal=_ref.showModal,handleClose=_ref.handleClose,open=_ref.open,isRemove=_ref.isRemove;var classes=useStyles();var projectID=getProjectID();var _useTranslation=useTranslation(),t=_useTranslation.t;// mutation to remove member\nvar _useMutation=useMutation(REMOVE_INVITATION,{onCompleted:function onCompleted(){showModal();handleClose();},refetchQueries:[{query:GET_PROJECT,variables:{projectID:projectID}}]}),_useMutation2=_slicedToArray(_useMutation,2),removeMember=_useMutation2[0],loading=_useMutation2[1].loading;return/*#__PURE__*/React.createElement(Modal,{\"data-cy\":\"modal\",open:open,width:\"50%\",height:\"70%\",disableBackdropClick:true,disableEscapeKeyDown:true,onClose:function onClose(){showModal();handleClose();},modalActions:/*#__PURE__*/React.createElement(\"div\",{className:classes.closeModal},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){showModal();handleClose();}},/*#__PURE__*/React.createElement(\"img\",{src:\"./icons/closeBtn.svg\",alt:\"close\"})))},/*#__PURE__*/React.createElement(\"div\",{className:classes.body},/*#__PURE__*/React.createElement(\"img\",{src:\"./icons/userDel.svg\",alt:\"lock\"}),/*#__PURE__*/React.createElement(\"div\",{className:classes.text},/*#__PURE__*/React.createElement(Typography,{className:classes.typo,align:\"center\"},isRemove?t('settings.teamingTab.deleteUser.header'):t('settings.teamingTab.deleteModal.header'),/*#__PURE__*/React.createElement(\"strong\",null,\" \",row.user_name,\"?\"))),/*#__PURE__*/React.createElement(\"div\",{className:classes.textSecond},isRemove&&/*#__PURE__*/React.createElement(Typography,{className:classes.typoSub,align:\"center\"},t('settings.teamingTab.deleteUser.body'))),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttonGroup},/*#__PURE__*/React.createElement(ButtonOutlined,{onClick:function onClick(){showModal();handleClose();}},t('settings.teamingTab.deleteUser.noButton')),/*#__PURE__*/React.createElement(\"div\",{className:classes.yesButton},/*#__PURE__*/React.createElement(ButtonFilled,{disabled:loading,onClick:function onClick(){removeMember({variables:{data:{project_id:projectID,user_id:row.user_id,role:row.role}}});}},/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Loader,{size:20})):/*#__PURE__*/React.createElement(React.Fragment,null,t('settings.teamingTab.deleteUser.yesButton'))))))));};export default RemoveMemberModal;","map":{"version":3,"sources":["/home/vedant/go/src/github.com/litmus/litmus-portal/frontend/src/views/Settings/TeamingTab/Team/removeMemberModal.tsx"],"names":["useMutation","IconButton","Typography","ButtonFilled","ButtonOutlined","Modal","React","useTranslation","Loader","GET_PROJECT","REMOVE_INVITATION","getProjectID","useStyles","RemoveMemberModal","row","showModal","handleClose","open","isRemove","classes","projectID","t","onCompleted","refetchQueries","query","variables","removeMember","loading","closeModal","body","text","typo","user_name","textSecond","typoSub","buttonGroup","yesButton","data","project_id","user_id","role"],"mappings":"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","sourcesContent":["import { useMutation } from '@apollo/client';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { ButtonFilled, ButtonOutlined, Modal } from 'litmus-ui';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Loader from '../../../../components/Loader';\nimport { GET_PROJECT, REMOVE_INVITATION } from '../../../../graphql';\nimport { MemberInvitation } from '../../../../models/graphql/invite';\nimport { Member } from '../../../../models/graphql/user';\nimport { getProjectID } from '../../../../utils/getSearchParams';\nimport useStyles from './styles';\n\ninterface RemoveMemberModalProps {\n  row: Member;\n  showModal: () => void;\n  handleClose: () => void;\n  open: boolean;\n  isRemove: boolean;\n}\nconst RemoveMemberModal: React.FC<RemoveMemberModalProps> = ({\n  row,\n  showModal,\n  handleClose,\n  open,\n  isRemove,\n}) => {\n  const classes = useStyles();\n  const projectID = getProjectID();\n\n  const { t } = useTranslation();\n\n  // mutation to remove member\n  const [removeMember, { loading }] = useMutation<MemberInvitation>(\n    REMOVE_INVITATION,\n    {\n      onCompleted: () => {\n        showModal();\n        handleClose();\n      },\n      refetchQueries: [\n        {\n          query: GET_PROJECT,\n          variables: { projectID },\n        },\n      ],\n    }\n  );\n\n  return (\n    <Modal\n      data-cy=\"modal\"\n      open={open}\n      width=\"50%\"\n      height=\"70%\"\n      disableBackdropClick\n      disableEscapeKeyDown\n      onClose={() => {\n        showModal();\n        handleClose();\n      }}\n      modalActions={\n        <div className={classes.closeModal}>\n          <IconButton\n            onClick={() => {\n              showModal();\n              handleClose();\n            }}\n          >\n            <img src=\"./icons/closeBtn.svg\" alt=\"close\" />\n          </IconButton>\n        </div>\n      }\n    >\n      <div className={classes.body}>\n        <img src=\"./icons/userDel.svg\" alt=\"lock\" />\n        <div className={classes.text}>\n          <Typography className={classes.typo} align=\"center\">\n            {isRemove\n              ? t('settings.teamingTab.deleteUser.header')\n              : t('settings.teamingTab.deleteModal.header')}\n            <strong> {row.user_name}?</strong>\n          </Typography>\n        </div>\n        <div className={classes.textSecond}>\n          {isRemove && (\n            <Typography className={classes.typoSub} align=\"center\">\n              {t('settings.teamingTab.deleteUser.body')}\n            </Typography>\n          )}\n        </div>\n        <div className={classes.buttonGroup}>\n          <ButtonOutlined\n            onClick={() => {\n              showModal();\n              handleClose();\n            }}\n          >\n            {t('settings.teamingTab.deleteUser.noButton')}\n          </ButtonOutlined>\n\n          <div className={classes.yesButton}>\n            <ButtonFilled\n              disabled={loading}\n              onClick={() => {\n                removeMember({\n                  variables: {\n                    data: {\n                      project_id: projectID,\n                      user_id: row.user_id,\n                      role: row.role,\n                    },\n                  },\n                });\n              }}\n            >\n              <>\n                {loading ? (\n                  <div>\n                    <Loader size={20} />\n                  </div>\n                ) : (\n                  <>{t('settings.teamingTab.deleteUser.yesButton')}</>\n                )}\n              </>\n            </ButtonFilled>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\nexport default RemoveMemberModal;\n"]},"metadata":{},"sourceType":"module"}