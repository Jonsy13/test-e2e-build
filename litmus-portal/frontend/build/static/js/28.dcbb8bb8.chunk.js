(this["webpackJsonplitmus-portal"]=this["webpackJsonplitmus-portal"]||[]).push([[28],{1208:function(e,n,t){"use strict";n.a=function(e){return function(e,n){var t=e-n;return t<2e4?"Just now":t<6e4?"less than 1 min ago":t<36e5?"".concat(Math.round(t/6e4)," mins ago"):t<864e5?"".concat(Math.round(t/36e5)," hours ago"):t<2592e6?"".concat(Math.round(t/864e5)," days ago"):t<31536e6?"".concat(Math.round(t/2592e6)," months ago"):"".concat(Math.round(t/31536e6)," years ago")}((new Date).getTime(),1e3*e)}},1384:function(e,n,t){"use strict";t.r(n),t.d(n,"selectNode",(function(){return o}));var a=t(484);function o(e){return{type:a.a.SELECT_NODE,payload:e}}},1589:function(e,n,t){"use strict";var a=t(362),o=t(363);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t(0)),i=(0,a(t(364)).default)(r.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");n.default=i},1608:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var a=t(41),o=t(449),r=t(1206),i=t.n(r),c=t(453),l=t(0),s=t.n(l),m=t(3088),u=t(678),d=Object(u.a)((function(e){return{modalContainer:{height:"100%",padding:e.spacing(6.5,6),textAlign:"left"},heading:{display:"flex","& img":{marginRight:e.spacing(1.875)},"& p":{fontSize:"1.5rem",fontWeight:500}},instructionSection:{marginTop:e.spacing(4.25),"& p":{marginBottom:e.spacing(4.25),color:e.palette.text.hint,fontSize:"1rem"},"& a":{textDecoration:"none",color:e.palette.primary.main,marginLeft:e.spacing(.5)}},copyCommandSection:{display:"flex"},commandRect:{border:"1px solid ".concat(e.palette.border.main),backgroundColor:e.palette.background.default,padding:e.spacing(1.75,2.125),flexGrow:1},copyButton:{marginLeft:e.spacing(3.125),"& img":{marginRight:e.spacing(1.375)}},doneButton:{marginTop:e.spacing(5),display:"flex",flexDirection:"row-reverse"}}})),g=function(e){var n=e.handleClose,t=d(),r=Object(m.a)().t,u=Object(l.useState)(!1),g=Object(a.a)(u,2),p=g[0],f=g[1];function h(e){navigator.clipboard?(f(!0),navigator.clipboard.writeText(e).catch((function(e){return console.error("Async: Could not copy text: ",e)})),setTimeout((function(){return f(!1)}),3e3)):function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}(e)}return s.a.createElement("div",{className:t.modalContainer},s.a.createElement("div",{className:t.heading},s.a.createElement("img",{src:"./icons/agentDeployModal.svg",alt:"Target Connect"}),s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.heading"))),s.a.createElement("div",{className:t.instructionSection},s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.firstStep")),s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.secondStep"),s.a.createElement("a",{href:"https://github.com/litmuschaos/litmusctl",target:"_blank",rel:"noreferrer noopener"},r("homeViews.landingHome.agentDeployModal.litmusctl"))),s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.thirdStep"))),s.a.createElement("div",{className:t.copyCommandSection},s.a.createElement("div",{className:t.commandRect},s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.agentRegister"))),s.a.createElement(c.c,{className:t.copyButton,onClick:function(){return h("litmusctl agent connect")}},p?s.a.createElement(i.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"./icons/copy.svg",alt:"copy"}),s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.copy"))))),s.a.createElement("div",{className:t.doneButton},s.a.createElement(c.b,{onClick:n},s.a.createElement(o.a,null,r("homeViews.landingHome.agentDeployModal.done")))))}},1975:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var a=t(968),o=t(449),r=t(0),i=t.n(r),c=t(26),l=t(678),s=Object(l.a)((function(e){return{mainContainer:Object(c.a)({marginTop:e.spacing(3.125),padding:e.spacing(6.5,11.875),display:"flex","& img":{padding:e.spacing(2),marginTop:e.spacing(2)}},e.breakpoints.down("sm"),{padding:e.spacing(2)}),containerDesc:Object(c.a)({marginLeft:e.spacing(12.5),"& #Heading":{marginBottom:e.spacing(3.5),fontSize:"1.5rem",fontWeight:500},"& #desc":{maxWidth:"37.375rem"}},e.breakpoints.down("sm"),{marginLeft:e.spacing(3)}),buttonGroup:{marginTop:e.spacing(5.25),display:"flex","& svg":{marginRight:e.spacing(1.5)},"& a":{textDecoration:"none",marginLeft:e.spacing(1.875),display:"flex",alignItems:"center",cursor:"pointer","& p":{fontWeight:500,fontSize:"1rem"}}}}})),m=function(e){var n=e.src,t=e.alt,r=e.heading,c=e.description,l=e.button,m=e.link,u=s();return i.a.createElement("div",null,i.a.createElement(a.a,{className:u.mainContainer},i.a.createElement("img",{src:n,alt:t}),i.a.createElement("div",{className:u.containerDesc},i.a.createElement(o.a,{id:"Heading"},r),i.a.createElement(o.a,{id:"desc"},c),i.a.createElement("div",{className:u.buttonGroup},l,m))))}},2181:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"e",(function(){return o})),t.d(n,"d",(function(){return r})),t.d(n,"g",(function(){return i})),t.d(n,"c",(function(){return c})),t.d(n,"f",(function(){return l})),t.d(n,"a",(function(){return s}));var a="Failed",o="Running",r="Pending",i="Succeeded",c="Omitted",l="Skipped",s="Error"},2182:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var a=t(41),o=t(449),r=t(1589),i=t.n(r),c=t(453),l=t(0),s=t.n(l),m=t(3088),u=t(1608),d=t(1975),g=function(){var e=Object(m.a)().t,n=Object(l.useState)(!1),t=Object(a.a)(n,2),r=t[0],g=t[1],p=function(){g(!1)};return s.a.createElement("div",null,s.a.createElement(d.a,{src:"./icons/agentDeploy.svg",alt:"Deploy Agent",heading:e("homeViews.landingHome.heading"),description:e("homeViews.landingHome.description"),button:s.a.createElement(c.b,{onClick:function(){g(!0)}},s.a.createElement(i.a,null),s.a.createElement(o.a,null,e("homeViews.landingHome.deploy")))}),s.a.createElement(c.j,{height:"50%",width:"50%",open:r,onClose:p,modalActions:s.a.createElement(c.c,{onClick:p},"\u2715")},s.a.createElement(u.a,{handleClose:p})))}},3002:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t(968),o=t(449),r=t(0),i=t.n(r),c=t(678),l=Object(c.a)((function(e){return{agentInfoContainer:{marginTop:e.spacing(3.25),padding:e.spacing(3.125,6.5),display:"flex",alignItems:"center"},agentInfoBlock:{flexGrow:1},agentInfoData:{display:"flex",padding:e.spacing(1),height:"100%",justifyContent:"space-between",alignItems:"center","& div":{display:"flex",alignItems:"baseline","& p:nth-child(2)":{fontSize:"1.125rem",fontWeight:500,marginLeft:e.spacing(1),minWidth:"fit-content"}}},count:{color:e.palette.primary.light,fontSize:"3.875rem"},desicription:{color:e.palette.text.hint,marginLeft:e.spacing(10.625)},infoContainerButton:{"& svg":{margin:e.spacing(0,1,-.625,0)},"& p":{fontWeight:500}}}})),s=function(e){var n=e.count,t=e.countUnit,r=e.description,c=e.maxWidth,s=e.button,m=l();return i.a.createElement("div",null,i.a.createElement(a.a,{className:m.agentInfoContainer},i.a.createElement("div",{className:m.agentInfoBlock},i.a.createElement("div",{style:{maxWidth:"".concat(c)},className:m.agentInfoData},i.a.createElement("div",null,i.a.createElement(o.a,{className:m.count},n),1===n?i.a.createElement(o.a,null,t):i.a.createElement(o.a,null,t,"s")),i.a.createElement("div",null,i.a.createElement(o.a,{className:m.desicription},r)))),s))}},3003:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(968),o=t(449),r=t(453),i=t(0),c=t.n(i),l=t(130),s=t(228),m=t(678),u=Object(m.a)((function(e){return{workflowRunContainer:{marginTop:e.spacing(3.125),padding:e.spacing(4.75,6.25)},containerHeading:{display:"flex",alignItems:"center","& a":{textDecoration:"none",color:e.palette.primary.main,marginRight:e.spacing(4.5)}},heading:{flexGrow:1,fontSize:"1.5rem",fontWeight:500},buttonText:{marginLeft:e.spacing(1)}}})),d=function(e){var n=e.heading,t=e.link,i=e.buttonLink,m=e.buttonImgSrc,d=e.buttonImgAlt,g=e.buttonText,p=e.children,f=u(),h=Object(s.a)(),w=Object(s.b)();return c.a.createElement(a.a,{className:f.workflowRunContainer},c.a.createElement("div",{className:f.containerHeading},c.a.createElement(o.a,{className:f.heading},n),t,c.a.createElement(r.b,{onClick:function(){l.b.push({pathname:"".concat(i),search:"?projectID=".concat(h,"&projectRole=").concat(w)})}},c.a.createElement("img",{src:m,alt:d}),c.a.createElement(o.a,{className:f.buttonText},g))),p)}},3033:function(e,n,t){"use strict";var a=t(2),o=t(4),r=t(0),i=(t(1),t(5)),c=t(14),l=t(9),s=t(267),m=t(29),u=t(449),d=r.forwardRef((function(e,n){var t=e.classes,l=e.className,d=e.color,g=void 0===d?"primary":d,p=e.component,f=void 0===p?"a":p,h=e.onBlur,w=e.onFocus,b=e.TypographyClasses,E=e.underline,v=void 0===E?"hover":E,j=e.variant,C=void 0===j?"inherit":j,k=Object(o.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),y=Object(s.a)(),O=y.isFocusVisible,x=y.onBlurVisible,N=y.ref,S=r.useState(!1),I=S[0],D=S[1],V=Object(m.a)(n,N);return r.createElement(u.a,Object(a.a)({className:Object(i.default)(t.root,t["underline".concat(Object(c.a)(v))],l,I&&t.focusVisible,"button"===f&&t.button),classes:b,color:g,component:f,onBlur:function(e){I&&(x(),D(!1)),h&&h(e)},onFocus:function(e){O(e)&&D(!0),w&&w(e)},ref:V,variant:C},k))}));n.a=Object(l.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},3467:function(e,n,t){"use strict";t.r(n);var a=t(7),o=t(449),r=t(0),i=t.n(r),c=t(3088),l=t(229),s=t(1106),m=t(366),u=t(149),d=t(228),g=t(41),p=t(3033),f=t(1589),h=t.n(f),w=t(453),b=t(1608),E=t(1975),v=t(3002),j=t(3003),C=t(464),k=t(457),y=t(454),O=t(1099),x=t(130),N=t(968),S=t(678),I=Object(S.a)((function(e){return{projectInfoContainer:{marginTop:e.spacing(3.25),padding:e.spacing(3.125,6.5),display:"flex",alignItems:"center"},projectInfoBlock:{flexGrow:1},projectInfoData:{display:"flex",padding:e.spacing(1),maxWidth:"20.5625rem",height:"100%",justifyContent:"space-between",alignItems:"center","& div":{display:"flex",alignItems:"baseline","& p:first-child":{fontSize:"3.875rem"},"& #projectCount":{color:e.palette.highlight},"& #invitationCount":{color:e.palette.primary.light},"& p:last-child":{fontSize:"1.125rem",fontWeight:500,marginLeft:e.spacing(1)}}},viewProjectButton:{"& img":{margin:e.spacing(0,1,-.25,0)},"& p":{fontWeight:500}}}})),D=function(){var e=I(),n=Object(c.a)().t,t=Object(y.a)(O),l=Object(u.d)(),s=Object(d.a)(),p=Object(d.b)(),f=Object(r.useState)(0),h=Object(g.a)(f,2),b=h[0],E=h[1],v=Object(r.useState)(0),j=Object(g.a)(v,2),C=j[0],S=j[1],D=Object(r.useState)(0),V=Object(g.a)(D,2),R=V[0],W=V[1],H=Object(r.useState)([]),T=Object(g.a)(H,2),_=T[0],B=T[1],P=Object(a.useQuery)(m.K,{onCompleted:function(){(null===P||void 0===P?void 0:P.listProjects)&&B(null===P||void 0===P?void 0:P.listProjects)},fetchPolicy:"cache-and-network"}).data;Object(r.useEffect)((function(){var e=0,n=0,t=0;_.forEach((function(a){a.members.forEach((function(a){a.user_id===l&&a.role===k.c.owner?e++:a.user_id===l&&a.invitation===k.a.PENDING?n++:a.user_id===l&&a.role!==k.c.owner&&a.invitation===k.a.ACCEPTED&&t++}))})),E(e),W(n),S(t)}),[_,P]);var M=b+C;return i.a.createElement("div",null,i.a.createElement(N.a,{className:e.projectInfoContainer},i.a.createElement("div",{className:e.projectInfoBlock},i.a.createElement("div",{className:e.projectInfoData},i.a.createElement("div",null,i.a.createElement(o.a,{id:"projectCount"},M),1===M?i.a.createElement(o.a,null,n("homeViews.projectInfoContainer.project")):i.a.createElement(o.a,null,n("homeViews.projectInfoContainer.projects"))),i.a.createElement("div",null,i.a.createElement(o.a,{id:"invitationCount"},R),1===R?i.a.createElement(o.a,null,n("homeViews.projectInfoContainer.invitation")):i.a.createElement(o.a,null,n("homeViews.projectInfoContainer.invitations"))))),p===k.c.owner&&i.a.createElement(w.c,{onClick:function(){t.changeSettingsTabs(1),x.b.push({pathname:"/settings",search:"?projectID=".concat(s,"&projectRole=").concat(p)})},className:e.viewProjectButton},i.a.createElement(o.a,null,i.a.createElement("img",{src:"./icons/viewProjects.svg",alt:"View projects"}),n("homeViews.projectInfoContainer.viewProjects")))))},V=Object(S.a)((function(e){return{linkPointer:{cursor:"pointer"},infoContainerButton:{"& svg":{margin:e.spacing(0,1,-.625,0)},"& p":{fontWeight:500}}}})),R=t(1384),W=t(1208),H=t(2181),T=Object(S.a)((function(e){return{animatedContainer:{marginTop:e.spacing(3.125),padding:e.spacing(2.5,0),willChange:"transform",transition:"transform 250ms",cursor:"pointer","&:hover":{transform:"translateY(-10px)",boxShadow:"0px 1.2px 3.6px rgba(0, 0, 0, 0.1), 0px 6.4px 14.4px rgba(0, 0, 0, 0.13)",borderRadius:"0.1875rem"}},workflowDataContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"75%","& svg":{width:"3.75rem"},"& circle":{r:"1",cx:"5",cy:"5"}},statusDiv:{display:"flex"},testName:{fontWeight:500,fontSize:"1.125rem",width:"15rem",overflow:"hidden",textOverflow:"ellipsis"},hint:{fontSize:"1rem",color:e.palette.text.hint},lastRunTime:{width:"4.8125rem"},listContainer:{"& img":{width:"1rem",marginLeft:e.spacing(2.25)},"& span":{marginRight:e.spacing(1.25)}},listItem:{"&:hover":{background:e.palette.cards.highlight}},noWrapProvider:{whiteSpace:"nowrap"},succeeded:{fill:e.palette.success.main},running:{fill:e.palette.primary.main},failed:{fill:e.palette.error.main},pending:{fill:e.palette.primary.main},lowScore:{color:e.palette.error.main},mediumScore:{color:e.palette.warning.main},highScore:{color:e.palette.success.main}}})),_=function(e){var n,t,a=e.data,r=Object(c.a)().t,l=T(),s=Object(d.a)(),m=Object(d.b)(),u=Object(y.a)(R);return i.a.createElement(p.a,{underline:"none",color:"initial",onClick:function(){u.selectNode({pod_name:""}),x.b.push({pathname:"/workflows/".concat(a.workflow_run_id),search:"?projectID=".concat(s,"&projectRole=").concat(m)})},title:r("homeViews.agentConfiguredHome.recentWorkflowRuns.workflowRunCard.cardTitle")},i.a.createElement("div",{className:l.animatedContainer},i.a.createElement("div",{className:l.workflowDataContainer},i.a.createElement("div",null,i.a.createElement("div",{className:l.statusDiv},i.a.createElement("svg",{viewBox:"0 0 10 10"},i.a.createElement("circle",{className:function(e){switch(e){case H.g:return l.succeeded;case H.e:return l.running;case H.b:return l.failed;case H.d:default:return l.pending}}(a.phase)})),i.a.createElement("div",null,i.a.createElement(o.a,{className:"".concat(l.testName," ").concat(l.noWrapProvider)},a.workflow_name),i.a.createElement(o.a,{className:l.hint},a.cluster_name)))),i.a.createElement("div",null,i.a.createElement(o.a,{className:l.hint},r("homeViews.agentConfiguredHome.recentWorkflowRuns.workflowRunCard.resilienceRate")),i.a.createElement(o.a,{className:(t=null!==(n=a.resiliency_score)&&void 0!==n?n:0,t<=40?l.lowScore:t>40&&t<79?l.mediumScore:l.highScore)},void 0===a.resiliency_score||null===a.resiliency_score?"NA":"".concat(a.resiliency_score,"%"))),i.a.createElement("div",null,i.a.createElement(o.a,{className:l.hint},r("homeViews.agentConfiguredHome.recentWorkflowRuns.workflowRunCard.lastRun")),i.a.createElement(o.a,{className:"".concat(l.noWrapProvider," ").concat(l.lastRunTime)},Object(W.a)(a.last_updated))))))},B=function(e){var n,t=e.agentCount,s=Object(c.a)().t,u=Object(d.a)(),f=Object(d.b)(),N=Object(y.a)(O),S=V(),I=Object(r.useState)(!1),R=Object(g.a)(I,2),W=R[0],H=R[1],T=function(){H(!1)},B=Object(a.useQuery)(m.X,{variables:{workflowRunsInput:{project_id:u,pagination:{page:0,limit:3}}},fetchPolicy:"cache-and-network"}),P=B.data,M=B.loading,L=B.error,z=null!==(n=null===P||void 0===P?void 0:P.getWorkflowRuns.total_no_of_workflow_runs)&&void 0!==n?n:0;return L?(console.error("Error fetching Workflow Data"),i.a.createElement(C.a,null,i.a.createElement(o.a,null,s("homeViews.agentConfiguredHome.error")))):i.a.createElement("div",null,M?i.a.createElement(C.a,null,i.a.createElement(l.a,null)):z>0?i.a.createElement(j.a,{heading:s("homeViews.agentConfiguredHome.recentWorkflowRuns.heading"),link:i.a.createElement(p.a,{underline:"none",color:"primary",onClick:function(){N.changeWorkflowsTabs(0),x.b.push({pathname:"/workflows",search:"?projectID=".concat(u,"&projectRole=").concat(f)})}},i.a.createElement(o.a,{className:S.linkPointer},s("homeViews.agentConfiguredHome.recentWorkflowRuns.viewAll"))),buttonLink:"/create-workflow",buttonImgSrc:"./icons/calendarBlank.svg",buttonImgAlt:"calendar",buttonText:s("homeViews.agentConfiguredHome.recentWorkflowRuns.schedule")},null===P||void 0===P?void 0:P.getWorkflowRuns.workflow_runs.map((function(e){return i.a.createElement(_,{key:e.workflow_id,data:e})}))):i.a.createElement(E.a,{src:"./icons/workflowScheduleHome.svg",alt:"Schedule a workflow",heading:s("homeViews.agentConfiguredHome.noWorkflow.heading"),description:s("homeViews.agentConfiguredHome.noWorkflow.description"),button:i.a.createElement(w.b,{onClick:function(){x.b.push({pathname:"/create-workflow",search:"?projectID=".concat(u,"&projectRole=").concat(f)})}},i.a.createElement(o.a,null,s("homeViews.agentConfiguredHome.noWorkflow.schedule"))),link:i.a.createElement(p.a,{underline:"none",color:"primary",onClick:function(){N.changeWorkflowsTabs(2),x.b.push({pathname:"/workflows",search:"?projectID=".concat(u,"&projectRole=").concat(f)})}},i.a.createElement(o.a,null,s("homeViews.agentConfiguredHome.noWorkflow.explore")))}),i.a.createElement(v.a,{count:t,countUnit:s("homeViews.agentConfiguredHome.agentInfoContainer.agent"),description:s("homeViews.agentConfiguredHome.agentInfoContainer.description"),maxWidth:"25.5625rem",button:i.a.createElement(i.a.Fragment,null,i.a.createElement(w.c,{onClick:function(){H(!0)},className:S.infoContainerButton},i.a.createElement(o.a,null,i.a.createElement(h.a,null),s("homeViews.agentConfiguredHome.agentInfoContainer.deploy"))),i.a.createElement(w.j,{height:"50%",width:"50%",open:W,onClose:T,modalActions:i.a.createElement(w.c,{onClick:T},"\u2715")},i.a.createElement(b.a,{handleClose:T})))}),f===k.c.owner&&i.a.createElement(D,null))},P=t(2182),M=function(){var e=Object(d.b)();return i.a.createElement("div",null,i.a.createElement(P.a,null),e===k.c.owner&&i.a.createElement(D,null))},L=Object(S.a)((function(e){return{userName:{fontSize:"2.5rem",marginTop:e.spacing(1.25)}}}));n.default=function(){var e=L(),n=Object(c.a)().t,t=Object(a.useQuery)(m.q,{variables:{project_id:Object(d.a)()},fetchPolicy:"network-only"}),r=t.data,g=t.loading,p=0;return void 0!==r&&(p=r.getCluster.length),i.a.createElement(s.a,null,i.a.createElement(o.a,{variant:"h3",className:e.userName},n("home.heading")," ",Object(u.f)()),g?i.a.createElement("div",{style:{height:"100vh"}},i.a.createElement(l.a,null)):r&&p>0?i.a.createElement(B,{agentCount:p}):i.a.createElement(M,null))}}}]);
//# sourceMappingURL=28.dcbb8bb8.chunk.js.map