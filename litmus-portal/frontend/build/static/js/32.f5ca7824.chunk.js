(this["webpackJsonplitmus-portal"]=this["webpackJsonplitmus-portal"]||[]).push([[32],{1164:function(e,a,t){"use strict";var n=t(970),r=t(449),o=t(0),c=t.n(o),i=t(3088),l=t(130),s=t(678),m=Object(s.a)((function(e){return{btn:{display:"flex",textTransform:"none","&:hover":{background:"none"}},text:{fontSize:"1rem",margin:e.spacing(0,1),color:e.palette.text.hint}}}));a.a=function(e){var a=e.onClick,t=m(),o=Object(i.a)().t;return c.a.createElement(n.a,{size:"medium",className:t.btn,onClick:null!==a&&void 0!==a?a:function(){return l.b.goBack()}},c.a.createElement("img",{src:"/icons/back.svg",alt:"back"}),c.a.createElement(r.a,{className:t.text},o("button.backButton")))}},1207:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"a",(function(){return s}));var n=t(9),r=t(1978),o=t(3451),c=t(0),i=t.n(c),l=function(e){var a=e.children,t=e.value,n=e.index,r=e.style;return i.a.createElement("div",{role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),style:null!==r&&void 0!==r?r:{}},t===n&&a)},s=Object(n.a)((function(e){return Object(r.a)({root:{textTransform:"none",color:e.palette.text.hint,fontSize:"0.95rem",paddingTop:e.spacing(1.875),paddingBottom:e.spacing(1.875),borderBottom:"1px solid ".concat(e.palette.border.main),"&:focus":{opacity:1}},selected:{color:e.palette.highlight},wrapper:{flexDirection:"row-reverse"},labelContainer:{width:"auto",padding:0}})}))((function(e){return i.a.createElement(o.a,e)}))},1215:function(e,a,t){"use strict";var n=t(362),r=t(363);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=r(t(0)),c=(0,n(t(364)).default)(o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");a.default=c},3033:function(e,a,t){"use strict";var n=t(2),r=t(4),o=t(0),c=(t(1),t(5)),i=t(14),l=t(9),s=t(267),m=t(29),u=t(449),d=o.forwardRef((function(e,a){var t=e.classes,l=e.className,d=e.color,p=void 0===d?"primary":d,h=e.component,b=void 0===h?"a":h,f=e.onBlur,g=e.onFocus,v=e.TypographyClasses,E=e.underline,x=void 0===E?"hover":E,y=e.variant,N=void 0===y?"inherit":y,j=Object(r.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),C=Object(s.a)(),w=C.isFocusVisible,O=C.onBlurVisible,k=C.ref,S=o.useState(!1),D=S[0],B=S[1],T=Object(m.a)(a,k);return o.createElement(u.a,Object(n.a)({className:Object(c.default)(t.root,t["underline".concat(Object(i.a)(x))],l,D&&t.focusVisible,"button"===b&&t.button),classes:v,color:p,component:b,onBlur:function(e){D&&(O(),B(!1)),f&&f(e)},onFocus:function(e){w(e)&&B(!0),g&&g(e)},ref:T,variant:N},j))}));a.a=Object(l.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},3035:function(e,a,t){"use strict";var n=t(2),r=t(4),o=t(0),c=(t(1),t(5)),i=t(9),l=o.forwardRef((function(e,a){var t=e.classes,i=e.className,l=e.component,s=void 0===l?"div":l,m=Object(r.a)(e,["classes","className","component"]);return o.createElement(s,Object(n.a)({className:Object(c.default)(t.root,i),ref:a},m))}));a.a=Object(i.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(l)},3159:function(e,a,t){"use strict";var n=t(2),r=t(4),o=t(0),c=(t(1),t(5)),i=t(968),l=t(9),s=o.forwardRef((function(e,a){var t=e.classes,l=e.className,s=e.raised,m=void 0!==s&&s,u=Object(r.a)(e,["classes","className","raised"]);return o.createElement(i.a,Object(n.a)({className:Object(c.default)(t.root,l),elevation:m?8:1,ref:a},u))}));a.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},3474:function(e,a,t){"use strict";t.r(a);var n=t(41),r=t(7),o=t(3449),c=t(449),i=t(3447),l=t(3471),s=t(1096),m=t.n(s),u=t(0),d=t.n(u),p=t(3088),h=t(982),b=t(1385),f=t.n(b),g=t(1207),v=t(229),E=t(464),x=t(1106),y=t(366),N=t(228),j=t(3159),C=t(3035),w=t(3033),O=t(232),k=t(130),S=t(678),D=Object(S.a)((function(e){return{mainDiv:{display:"flex",flexDirection:"column",width:"95%",marginLeft:e.spacing(1.25),marginTop:e.spacing(3)},header:{width:"100%",color:e.palette.text.primary,margin:e.spacing(4.5,1.5,2.5,1.5)},backdrop:{background:e.palette.disabledBackground,display:"flex",flexDirection:"column"},noGithubAccount:{margin:"auto",height:"100%",width:"25rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},headerSection:{width:"100%",height:"5.625rem",display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.common.white},search:{fontSize:"1rem",marginRight:"auto",borderBottom:"1px solid ".concat(e.palette.border.main),marginLeft:e.spacing(6.25)},noGitHubText:{textAlign:"center",paddingTop:e.spacing(2.5),paddingBottom:e.spacing(2.5)},githubConfirmed:{display:"flex",flexDirection:"column"},chartsGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:e.spacing(3),paddingTop:e.spacing(2),justifyContent:"center",alignItems:"center",backgroundColor:e.palette.common.white},cardDiv:{width:"12.5rem",height:"12.5rem",border:"1px solid rgba(0, 0, 0, 0.2)","&:hover":{border:"1.8px solid ".concat(e.palette.primary.light),cursor:"pointer"},borderRadius:e.spacing(.5),margin:e.spacing(2)},cardContent:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:e.palette.common.white},cardImage:{marginTop:e.spacing(1.5),width:"5rem",height:"5rem"},categoryName:{marginTop:e.spacing(2),fontSize:"1rem",color:e.palette.primary.dark},expName:{fontSize:"0.875rem"},lastSyncText:{marginTop:e.spacing(1.875),fontSize:"0.875rem"},MuiAccordionroot:{"&.MuiAccordion-root:before":{backgroundColor:e.palette.common.white}},noExp:{margin:e.spacing(6)},chartAccordion:{marginTop:e.spacing(2.5)},appBar:{background:"transparent",boxShadow:"none",marginBottom:e.spacing(1)},noExpImage:{width:"5rem",height:"5rem"}}})),B=function(e){var a=e.expName,t=e.UserHub,r=e.setSearch,o=e.projectID,i=e.userRole,l=e.isPredefined,s=D(),m="".concat(O.a.grahqlEndpoint,"/icon"),p=Object(u.useState)("".concat(m,"/").concat(o,"/").concat(null===t||void 0===t?void 0:t.HubName,"/").concat(a.ChaosName,"/").concat(a.ExperimentName,".png")),h=Object(n.a)(p,2),b=h[0],f=h[1];return d.a.createElement("div",null,d.a.createElement(j.a,{key:a.ExperimentName,elevation:3,className:s.cardDiv,onClick:function(){k.b.push({pathname:"".concat(null===t||void 0===t?void 0:t.HubName,"/").concat(a.ChaosName,"/").concat(a.ExperimentName),search:"?projectID=".concat(o,"&projectRole=").concat(i)})}},d.a.createElement(C.a,{className:s.cardContent},d.a.createElement("img",{src:b,onError:function(){return f("/icons/default-experiment.svg")},alt:a.ExperimentName,className:s.cardImage}),d.a.createElement(w.a,{href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(a.ChaosName)},className:s.categoryName},!l&&"".concat(a.ChaosName,"/")),d.a.createElement(c.a,{className:s.expName,variant:"h6",align:"center"},a.ExperimentName))))},T=t(684),I=t(1034),R=t(1215),H=t.n(R),L=function(e){var a=e.searchValue,t=e.changeSearch,n=D();return d.a.createElement("div",null,d.a.createElement("div",{className:n.headerSection},d.a.createElement(T.a,{id:"input-with-icon-adornment",placeholder:"Search",className:n.search,value:a,onChange:t,startAdornment:d.a.createElement(I.a,{position:"start"},d.a.createElement(H.a,null))})))},P=t(1164);a.default=function(){var e=Object(h.h)(),a=Object(N.a)(),t=Object(r.useQuery)(y.u,{variables:{data:a},fetchPolicy:"cache-and-network"}).data,s=f()(),b=Object(u.useState)(1),j=Object(n.a)(b,2),C=j[0],w=j[1],O=null===t||void 0===t?void 0:t.getHubStatus.filter((function(a){return e.hubname===a.HubName}))[0],k=D(),S=Object(p.a)().t,T=Object(r.useQuery)(y.o,{variables:{HubName:e.hubname,projectID:a},fetchPolicy:"network-only"}),I=T.data,R=T.loading,H=Object(r.useQuery)(y.w,{variables:{hubname:e.hubname,projectid:a},fetchPolicy:"network-only"}),z=H.data,M=H.loading,A=Object(u.useState)(""),V=Object(n.a)(A,2),G=V[0],F=V[1],W=Object(u.useState)(""),U=Object(n.a)(W,2),Y=U[0],Q=U[1],J=Object(u.useState)([]),_=Object(n.a)(J,2),q=_[0],$=_[1],K=[];Object(u.useEffect)((function(){void 0!==I&&(I.getCharts.forEach((function(e){e.Spec.Experiments.forEach((function(a){K.push({ChaosName:e.Metadata.Name,ExperimentName:a})}))})),$(K))}),[I]);var X=(null===z||void 0===z?void 0:z.GetPredefinedWorkflowList)&&(null===z||void 0===z?void 0:z.GetPredefinedWorkflowList.filter((function(e){return e.toLowerCase().includes(Y.trim())}))),Z=q&&q.filter((function(e){return e.ChaosName.toLowerCase().includes(G.trim())||e.ExperimentName.toLowerCase().includes(G.trim())}));return R||M?d.a.createElement(o.a,{open:!0,className:k.backdrop},d.a.createElement(v.a,null),d.a.createElement(E.a,null,d.a.createElement(c.a,{variant:"h4",align:"center"},S("myhub.myhubChart.syncingRepo")))):d.a.createElement(x.a,null,d.a.createElement(P.a,null),d.a.createElement("div",{className:k.header},d.a.createElement(c.a,{variant:"h3",gutterBottom:!0},null===O||void 0===O?void 0:O.HubName),d.a.createElement(c.a,{variant:"h5",gutterBottom:!0},S("myhub.myhubChart.repoLink"),d.a.createElement("strong",null,null===O||void 0===O?void 0:O.RepoURL)),d.a.createElement(c.a,{variant:"h5"},S("myhub.myhubChart.repoBranch"),d.a.createElement("strong",null,null===O||void 0===O?void 0:O.RepoBranch)),d.a.createElement(c.a,{className:k.lastSyncText},S("myhub.myhubChart.lastSynced")," ",function(e){var a=new Date(1e3*parseInt(e,10)).toString(),t=m()(a).format("DD MMM YYYY hh:mm:ss A");return e?t:"Date not available"}(O?O.LastSyncedAt:""))),d.a.createElement(i.a,{position:"static",color:"default",className:k.appBar},d.a.createElement(l.a,{value:C,onChange:function(e,a){w(a)},TabIndicatorProps:{style:{backgroundColor:s.palette.highlight}},variant:"fullWidth"},d.a.createElement(g.a,{label:"".concat(S("myhub.myhubChart.preDefined")),"data-cy":"browseWorkflow"}),d.a.createElement(g.a,{label:"".concat(S("myhub.myhubChart.chaosCharts")),"data-cy":"browseSchedule"}))),d.a.createElement(g.b,{value:C,index:0},d.a.createElement("div",{className:k.mainDiv},d.a.createElement(L,{searchValue:Y,changeSearch:function(e){Q(e.target.value)}}),d.a.createElement("div",{className:k.chartsGroup},(null===X||void 0===X?void 0:X.length)>0?X.map((function(e){return d.a.createElement(B,{key:e,expName:{ChaosName:"predefined",ExperimentName:e},UserHub:O,setSearch:Q,projectID:a,userRole:Object(N.b)(),isPredefined:!0})})):d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{src:"/icons/no-experiment-found.svg",alt:"no experiment",className:k.noExpImage}),d.a.createElement(c.a,{variant:"h5",className:k.noExp},S("myhub.myhubChart.noPredefinedExp")))))),d.a.createElement(g.b,{value:C,index:1},d.a.createElement("div",{className:k.mainDiv},d.a.createElement(L,{searchValue:G,changeSearch:function(e){F(e.target.value)}}),d.a.createElement("div",{className:k.chartsGroup},(null===Z||void 0===Z?void 0:Z.length)>0?Z.map((function(e){return d.a.createElement(B,{key:"".concat(e.ChaosName,"-").concat(e.ExperimentName),expName:e,UserHub:O,setSearch:F,projectID:a,userRole:Object(N.b)(),isPredefined:!1})})):d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{src:"/icons/no-experiment-found.svg",alt:"no experiment",className:k.noExpImage}),d.a.createElement(c.a,{variant:"h5",className:k.noExp},S("myhub.myhubChart.noExp")))))))}}}]);
//# sourceMappingURL=32.f5ca7824.chunk.js.map