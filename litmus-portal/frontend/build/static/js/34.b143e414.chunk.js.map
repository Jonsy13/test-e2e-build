{"version":3,"sources":["utils/validate.ts","components/Button/BackButton/styles.ts","components/Button/BackButton/index.tsx","svg/crossmark.svg","../node_modules/@material-ui/core/esm/FormGroup/FormGroup.js","../node_modules/@material-ui/core/esm/Icon/Icon.js","views/Analytics/DataSources/Forms/styles.ts","views/Analytics/DataSources/Forms/prometheus.tsx","pages/ConfigureDataSources/styles.ts","pages/ConfigureDataSources/index.tsx"],"names":["validateTextEmpty","value","trim","validateStartEmptySpacing","charAt","validateEmail","length","match","validateSubject","validateWorkflowName","validateProbeName","allProbe","probeName","filter","probe","name","toLowerCase","validateConfirmPassword","password","confirmPassword","isValidWebUrl","validateTimeInSeconds","useStyles","makeStyles","theme","btn","display","textTransform","background","text","fontSize","margin","spacing","color","palette","hint","BackButton","onClick","classes","t","useTranslation","IconButton","size","className","history","goBack","src","alt","Typography","_path","_path2","_path3","_excluded","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCrossmark","_ref","svgRef","title","props","createElement","width","height","viewBox","fill","ref","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","forwardRef","FormGroup","React","_props$row","row","other","clsx","root","withStyles","flexDirection","flexWrap","Icon","_props$color","_props$component","component","Component","_props$fontSize","concat","capitalize","muiName","userSelect","typography","pxToRem","overflow","flexShrink","colorPrimary","primary","main","colorSecondary","secondary","colorAction","action","active","colorError","error","colorDisabled","disabled","fontSizeInherit","fontSizeSmall","fontSizeLarge","paper","border","borderRadius","boxShadow","padding","flexDisplay","alignItems","alignContent","justifyContent","paddingRight","heading","fontWeight","lineHeight","letterSpacing","subHeading","horizontalLine","inputDiv","paddingLeft","inputDivRadioButton","basicAuth","marginLeft","withCredentials","withCACert","inlineIcon","linkIcon","iconWithTextDiv","infoValue","highlight","ConfigurePrometheus","configure","dataSourceID","page","CallbackToSetVars","projectID","getProjectID","useState","id","dataSourceType","url","access","username","noAuth","tlsClientAuth","scrapeInterval","queryTimeout","httpMethod","dataSourceDetails","setDataSourceDetails","update","setUpdate","data","useQuery","LIST_DATASOURCE","variables","fetchPolicy","handleAuthChange","event","checked","useEffect","ListDataSource","forEach","dataSourceDetail","ds_id","ds_name","ds_type","ds_url","access_type","auth_type","basic_auth_username","basic_auth_password","scrape_interval","toString","query_timeout","http_method","style","label","data-cy","variant","onChange","window","open","FormControlLabel","control","type","rootConfigure","paddingBottom","icon","backButton","marginBottom","modal","modalHeading","modalBody","closeButton","borderColor","buttons","saveButton","stepText","flexButtons","DataSourceConfigurePage","useSelector","state","selectDataSource","selectedDataSourceID","selectedDataSourceName","projectRole","getProjectRole","setOpen","setDisabled","setPage","dataSourceVars","setDataSourceVars","mutate","setMutate","success","setSuccess","useMutation","CREATE_DATASOURCE","onCompleted","onError","createDataSource","UPDATE_DATASOURCE","updateDataSource","authType","dataSourceInput","slice","parseInt","split","project_id","DSInput","handleCreateMutation","handleUpdateMutation","Scaffold","vars","onClose","modalActions","align","push","pathname","search"],"mappings":"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","file":"static/js/34.b143e414.chunk.js","sourcesContent":["/* eslint-disable no-useless-escape */\n\nexport const validateTextEmpty = (value: string) => {\n  if (value.trim() === '') return true;\n  return false;\n};\n\nexport const validateStartEmptySpacing = (value: string) => {\n  if (value?.charAt(0) === ' ') return true;\n  return false;\n};\n\nexport const validateEmail = (value: string) => {\n  const emailValid =\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (value?.length > 0) {\n    if (value.match(emailValid)) return false;\n    return true;\n  }\n  return false;\n};\n\nexport const validateSubject = (value: string) => {\n  const subjectValid = /(^[a-z0-9A-Z-._]{0,63}$)/;\n  if (value?.length > 0) {\n    if (value.match(subjectValid)) return false;\n    return true;\n  }\n  return false;\n};\n\nexport const validateWorkflowName = (value: string) => {\n  /**\n   * Workflow name is 54 chars max + generated timestamp is 10 chars\n   * => Total 54 + 10 = 64 chars maximum\n   * */\n  const workflowValid = /(^[a-z0-9-]{0,54}$)/;\n  if (value.length > 0) {\n    if (value.match(workflowValid)) return false;\n    return true;\n  }\n  return false;\n};\n\nexport const validateProbeName = (allProbe: any, probeName: string) => {\n  if (allProbe.length) {\n    const filteredProbes = allProbe.filter(\n      (probe: any) => probe.name.toLowerCase() === probeName\n    );\n    if (filteredProbes.length) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const validatePassword = (value: string) => {\n  const passValid = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;\n  if (value.length > 0) {\n    if (value.match(passValid)) return false;\n    return true;\n  }\n  return false;\n};\n\nexport const validateConfirmPassword = (\n  password: string,\n  confirmPassword: string\n) => {\n  if (password.length > 0 && confirmPassword.length > 0) {\n    if (confirmPassword === password) return false;\n    return true;\n  }\n  return false;\n};\n\nexport const validateOnlyAlphabet = (value: string) => {\n  const onlyAplhaValid = /^[a-zA-Z]+$/;\n  if (value.match(onlyAplhaValid)) return false;\n  return true;\n};\n\nexport const validateLength = (value: string) => {\n  if (value.length > 0) return false;\n  return true;\n};\n\nexport const isValidWebUrl = (value: string) => {\n  const regEx =\n    /^(http|https):\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)$/gm;\n  const regExLocal = /^http:\\/\\/localhost:([0-9]){1,4}$/g;\n  const regExIpv4 =\n    /^http:\\/\\/(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]):([0-9]){1,4}$/g;\n  const regExIpv6 =\n    /^http:\\/\\/((([0-9a-fA-F]){1,4})\\\\:){7}([0-9a-fA-F]){1,4}:([0-9]){1,4}$/g;\n  const sshRegEx =\n    /^([A-Za-z0-9]+@|http(|s)\\:\\/\\/)([-a-zA-Z0-9@:%._\\+~#=]+(:\\d+)?)(?::|\\/)([\\d\\/\\w.-]+?)(\\.git)?$/i;\n  if (\n    value.match(regEx) ||\n    value.match(regExLocal) ||\n    value.match(regExIpv4) ||\n    value.match(regExIpv6) ||\n    value.match(sshRegEx)\n  )\n    return true;\n  return false;\n};\n\nexport const validateTimeInSeconds = (value: string) => {\n  const timeInSecondsValid = /^[0-9]+s$/g;\n  if (value.length > 1) {\n    if (value.match(timeInSecondsValid)) return true;\n    return false;\n  }\n  return false;\n};\n\nexport const validateWorkflowParameter = (value: string) => {\n  const workflowParameterValid = /^{[a-zA-Z0-9]+}$/g;\n  if (value.length > 0) {\n    if (value.match(workflowParameterValid)) return false;\n    return true;\n  }\n  return false;\n};\n","import { makeStyles, Theme } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  btn: {\n    display: 'flex',\n    textTransform: 'none',\n    '&:hover': {\n      background: 'none',\n    },\n  },\n  text: {\n    fontSize: '1rem',\n    margin: theme.spacing(0, 1),\n    color: theme.palette.text.hint,\n  },\n}));\n\nexport default useStyles;\n","import { IconButton, IconButtonProps, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { history } from '../../../redux/configureStore';\nimport useStyles from './styles';\n\nconst BackButton: React.FC<IconButtonProps> = ({ onClick }) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <IconButton\n      size=\"medium\"\n      className={classes.btn}\n      onClick={onClick ?? (() => history.goBack())}\n    >\n      <img src=\"/icons/back.svg\" alt=\"back\" />\n      <Typography className={classes.text}>{t('button.backButton')}</Typography>\n    </IconButton>\n  );\n};\n\nexport default BackButton;\n","var _path, _path2, _path3;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgCrossmark = function SvgCrossmark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 87,\n    height: 87,\n    viewBox: \"0 0 87 87\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M43.5 83.502C65.8675 83.502 84 65.3695 84 43.002C84 20.6344 65.8675 2.50195 43.5 2.50195C21.1325 2.50195 3 20.6344 3 43.002C3 65.3695 21.1325 83.502 43.5 83.502Z\",\n    stroke: \"#CA2C2C\",\n    strokeWidth: 5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M55.6501 30.8516L31.3501 55.1516\",\n    stroke: \"#CA2C2C\",\n    strokeWidth: 5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.3501 30.8516L55.6501 55.1516\",\n    stroke: \"#CA2C2C\",\n    strokeWidth: 5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrossmark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crossmark.10a63684.svg\";\nexport { ForwardRef as ReactComponent };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap'\n  },\n\n  /* Styles applied to the root element if `row={true}`. */\n  row: {\n    flexDirection: 'row'\n  }\n};\n/**\n * `FormGroup` wraps controls such as `Checkbox` and `Switch`.\n * It provides compact row layout.\n * For the `Radio`, you should be using the `RadioGroup` component instead of this one.\n */\n\nvar FormGroup = /*#__PURE__*/React.forwardRef(function FormGroup(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$row = props.row,\n      row = _props$row === void 0 ? false : _props$row,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"row\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, row && classes.row),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormGroup.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Display group of elements in a compact row.\n   */\n  row: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormGroup'\n})(FormGroup);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      fontSize: theme.typography.pxToRem(24),\n      width: '1em',\n      height: '1em',\n      // Chrome fix for https://bugs.chromium.org/p/chromium/issues/detail?id=820541\n      // To remove at some point.\n      overflow: 'hidden',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n\n    /* Styles applied to the root element if `fontSize=\"inherit\"`. */\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(36)\n    }\n  };\n};\nvar Icon = /*#__PURE__*/React.forwardRef(function Icon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'inherit' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 'default' : _props$fontSize,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"fontSize\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx('material-icons', classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    \"aria-hidden\": true,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Icon.propTypes = {\n  /**\n   * The name of the icon font ligature.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'action', 'error', 'disabled']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'default', 'small', 'large'])\n} : void 0;\nIcon.muiName = 'Icon';\nexport default withStyles(styles, {\n  name: 'MuiIcon'\n})(Icon);","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: theme.palette.background.paper,\n    height: '100%',\n    width: '100%',\n    border: '1px',\n    borderRadius: '3px',\n    boxShadow:\n      '0px 0.3px 0.9px rgba(0, 0, 0, 0.1), 0px 1.6px 3.6px rgba(0, 0, 0, 0.13)',\n    padding: theme.spacing(4, 3.125, 6),\n  },\n\n  flexDisplay: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignContent: 'center',\n    justifyContent: 'space-between',\n    paddingRight: theme.spacing(2),\n  },\n\n  heading: {\n    fontSize: '1.125rem',\n    margin: theme.spacing(0, 0, 1, 2),\n    fontWeight: 500,\n    lineHeight: '1.375rem',\n    letterSpacing: '0.1142px',\n  },\n\n  subHeading: {\n    fontSize: '0.875rem',\n    lineHeight: '150%',\n    color: theme.palette.text.hint,\n    margin: theme.spacing(0, 0, 2, 2),\n  },\n\n  horizontalLine: {\n    margin: theme.spacing(6, 0),\n  },\n\n  inputDiv: {\n    margin: theme.spacing(2, 0, 1),\n    paddingLeft: theme.spacing(2),\n  },\n\n  inputDivRadioButton: {\n    margin: theme.spacing(1, 0, 0, 3.5),\n    width: '100%',\n  },\n\n  basicAuth: {\n    marginLeft: theme.spacing(8),\n  },\n\n  withCredentials: {\n    marginLeft: theme.spacing(4),\n  },\n\n  withCACert: {\n    marginLeft: theme.spacing(2),\n  },\n\n  inlineIcon: {\n    margin: theme.spacing(0.5, 1, 0, 0),\n    width: '1rem',\n    height: '1rem',\n  },\n\n  linkIcon: {\n    margin: theme.spacing(0, 0, 0.45, 0.75),\n    width: '1rem',\n    height: '1rem',\n  },\n\n  iconWithTextDiv: {\n    display: 'flex',\n    margin: theme.spacing(1.5, 0, 0, 2),\n  },\n\n  infoValue: {\n    fontSize: '1rem',\n    lineHeight: '150%',\n    letterSpacing: '0.1176px',\n    color: theme.palette.highlight,\n  },\n}));\n\nexport default useStyles;\n","/* eslint-disable no-unused-expressions */\nimport { useQuery } from '@apollo/client';\nimport {\n  FormControlLabel,\n  FormGroup,\n  Icon,\n  Typography,\n} from '@material-ui/core';\nimport { InputField, RadioButton } from 'litmus-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LIST_DATASOURCE } from '../../../../graphql';\nimport { DataSourceDetails } from '../../../../models/dataSourceData';\nimport {\n  DataSourceList,\n  ListDataSourceResponse,\n  ListDataSourceVars,\n} from '../../../../models/graphql/dataSourceDetails';\nimport { getProjectID } from '../../../../utils/getSearchParams';\nimport {\n  isValidWebUrl,\n  validateTextEmpty,\n  validateTimeInSeconds,\n} from '../../../../utils/validate';\nimport useStyles from './styles';\n\ninterface ConfigurePrometheusProps {\n  configure: boolean;\n  dataSourceID?: string;\n  page: number;\n  CallbackToSetVars: (vars: DataSourceDetails) => void;\n}\n\nconst ConfigurePrometheus: React.FC<ConfigurePrometheusProps> = ({\n  configure,\n  dataSourceID,\n  page,\n  CallbackToSetVars,\n}) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const projectID = getProjectID();\n  const [dataSourceDetails, setDataSourceDetails] = useState<DataSourceDetails>(\n    {\n      id: '',\n      name: '',\n      dataSourceType: 'Prometheus',\n      url: 'http://localhost:9090',\n      access: 'Server (Default)',\n      basicAuth: false,\n      username: '',\n      password: '',\n      noAuth: true,\n      withCredentials: false,\n      tlsClientAuth: false,\n      withCACert: false,\n      scrapeInterval: '15s',\n      queryTimeout: '30s',\n      httpMethod: 'POST',\n    }\n  );\n  const [update, setUpdate] = useState(false);\n\n  // Apollo query to get the datasource data\n  const { data } = useQuery<DataSourceList, ListDataSourceVars>(\n    LIST_DATASOURCE,\n    {\n      variables: { projectID },\n      fetchPolicy: 'cache-and-network',\n    }\n  );\n\n  const nameChangeHandler = (event: React.ChangeEvent<{ value: string }>) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      name: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const urlChangeHandler = (event: React.ChangeEvent<{ value: string }>) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      url: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const usernameChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      username: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const passwordChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      password: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const scrapeIntervalChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      scrapeInterval: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const queryTimeoutChangeHandler = (\n    event: React.ChangeEvent<{ value: string }>\n  ) => {\n    setDataSourceDetails({\n      ...dataSourceDetails,\n      queryTimeout: (event.target as HTMLInputElement).value,\n    });\n    setUpdate(true);\n  };\n\n  const handleAuthChange = (\n    event: React.ChangeEvent<{ name: string; checked: boolean }>\n  ) => {\n    if (event.target.checked) {\n      setDataSourceDetails({\n        ...dataSourceDetails,\n        basicAuth: false,\n        noAuth: false,\n        withCredentials: false,\n        tlsClientAuth: false,\n        withCACert: false,\n        [event.target.name]: event.target.checked,\n      });\n    } else if (dataSourceDetails.noAuth === false) {\n      setDataSourceDetails({\n        ...dataSourceDetails,\n        noAuth: true,\n        [event.target.name]: event.target.checked,\n      });\n    }\n    setUpdate(true);\n  };\n\n  useEffect(() => {\n    if (configure === true) {\n      data?.ListDataSource.forEach(\n        (dataSourceDetail: ListDataSourceResponse) => {\n          if (dataSourceDetail.ds_id === dataSourceID) {\n            setDataSourceDetails({\n              ...dataSourceDetails,\n              id: dataSourceDetail.ds_id,\n              name: dataSourceDetail.ds_name,\n              dataSourceType: dataSourceDetail.ds_type,\n              url: dataSourceDetail.ds_url,\n              access: dataSourceDetail.access_type,\n              basicAuth: dataSourceDetail.auth_type === 'basic auth',\n              username: dataSourceDetail.basic_auth_username,\n              password: dataSourceDetail.basic_auth_password,\n              noAuth: dataSourceDetail.auth_type === 'no auth',\n              withCredentials: false,\n              tlsClientAuth: false,\n              withCACert: false,\n              scrapeInterval: `${dataSourceDetail.scrape_interval.toString()}s`,\n              queryTimeout: `${dataSourceDetail.query_timeout.toString()}s`,\n              httpMethod: dataSourceDetail.http_method,\n            });\n            setUpdate(true);\n          }\n        }\n      );\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (update === true) {\n      CallbackToSetVars(dataSourceDetails);\n      setUpdate(false);\n    }\n  }, [update]);\n\n  return (\n    <div className={classes.root}>\n      {page === 1 ? (\n        <div>\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.general')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.generalInfo')}\n          </Typography>\n          <div className={classes.flexDisplay} style={{ width: '80%' }}>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.name')}\n                data-cy=\"inputDataSourceName\"\n                width=\"22.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.name)\n                    ? 'error'\n                    : 'primary'\n                }\n                onChange={nameChangeHandler}\n                value={dataSourceDetails.name}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.dataSourceType')}\n                data-cy=\"inputDataSourceType\"\n                width=\"22.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.dataSourceType)\n                    ? 'error'\n                    : 'primary'\n                }\n                disabled\n                value={dataSourceDetails.dataSourceType}\n              />\n            </div>\n          </div>\n          <div className={classes.iconWithTextDiv}>\n            <img\n              src=\"/icons/docs.svg\"\n              alt=\"Docs icon\"\n              className={classes.inlineIcon}\n            />\n            <Typography className={classes.infoValue}>\n              {t('analyticsDashboard.dataSourceForm.docsAndSetup')}\n            </Typography>\n            <Icon\n              onClick={() => {\n                window.open(\n                  'https://github.com/litmuschaos/litmus/tree/master/monitoring#model-1-optional-prometheus-scrape-config-model'\n                );\n              }}\n            >\n              <img\n                src=\"/icons/externalLink.svg\"\n                alt=\"external link\"\n                className={classes.linkIcon}\n              />\n            </Icon>\n          </div>\n          <div className={classes.horizontalLine} />\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.endPoint')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.endPointInfo')}\n          </Typography>\n          <div className={classes.flexDisplay} style={{ width: '80%' }}>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.url')}\n                data-cy=\"inputDataSourceURL\"\n                width=\"22.5rem\"\n                variant={\n                  isValidWebUrl(dataSourceDetails.url) ? 'primary' : 'error'\n                }\n                onChange={urlChangeHandler}\n                value={dataSourceDetails.url}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.Access')}\n                data-cy=\"inputDataSourceAccess\"\n                width=\"22.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.access)\n                    ? 'error'\n                    : 'primary'\n                }\n                disabled\n                value={dataSourceDetails.access}\n              />\n            </div>\n          </div>\n          <div className={classes.horizontalLine} />\n        </div>\n      ) : (\n        <div>\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.authentication')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.authenticationInfo')}\n          </Typography>\n          <FormGroup>\n            <div className={classes.inputDivRadioButton}>\n              <FormControlLabel\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    checked={dataSourceDetails.noAuth}\n                    onChange={handleAuthChange}\n                    name=\"noAuth\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.noAuth')}\n              />\n              <FormControlLabel\n                className={classes.basicAuth}\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    checked={dataSourceDetails.basicAuth}\n                    onChange={handleAuthChange}\n                    name=\"basicAuth\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.basicAuth')}\n              />\n              <FormControlLabel\n                className={classes.withCredentials}\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    disabled\n                    checked={dataSourceDetails.withCredentials}\n                    onChange={handleAuthChange}\n                    name=\"withCredentials\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.withCredentials')}\n              />\n            </div>\n            <div className={classes.inputDivRadioButton}>\n              <FormControlLabel\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    disabled\n                    checked={dataSourceDetails.tlsClientAuth}\n                    onChange={handleAuthChange}\n                    name=\"tlsClientAuth\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.tlsClientAuth')}\n              />\n              <FormControlLabel\n                className={classes.withCACert}\n                control={\n                  <RadioButton\n                    color=\"primary\"\n                    disabled\n                    checked={dataSourceDetails.withCACert}\n                    onChange={handleAuthChange}\n                    name=\"withCACert\"\n                  />\n                }\n                label={t('analyticsDashboard.dataSourceForm.withCACert')}\n              />\n            </div>\n          </FormGroup>\n          <div className={classes.horizontalLine} />\n          {dataSourceDetails.basicAuth ? (\n            <div>\n              <div className={classes.flexDisplay} style={{ width: '55%' }}>\n                <div className={classes.inputDiv}>\n                  <InputField\n                    label={t('analyticsDashboard.dataSourceForm.username')}\n                    data-cy=\"inputPrometheusUsername\"\n                    width=\"14rem\"\n                    variant={\n                      validateTextEmpty(dataSourceDetails.username)\n                        ? 'error'\n                        : 'primary'\n                    }\n                    onChange={usernameChangeHandler}\n                    value={dataSourceDetails.username}\n                  />\n                </div>\n                <div className={classes.inputDiv}>\n                  <InputField\n                    label={t('analyticsDashboard.dataSourceForm.password')}\n                    type=\"password\"\n                    data-cy=\"inputPrometheusPassword\"\n                    width=\"14rem\"\n                    variant={\n                      validateTextEmpty(dataSourceDetails.password)\n                        ? 'error'\n                        : 'primary'\n                    }\n                    onChange={passwordChangeHandler}\n                    value={dataSourceDetails.password}\n                  />\n                </div>\n              </div>\n              <div className={classes.horizontalLine} />\n            </div>\n          ) : (\n            <div />\n          )}\n          <Typography className={classes.heading}>\n            {t('analyticsDashboard.dataSourceForm.configuration')}\n          </Typography>\n          <Typography className={classes.subHeading}>\n            {t('analyticsDashboard.dataSourceForm.configurationInfo')}\n          </Typography>\n          <div className={classes.flexDisplay} style={{ width: '80%' }}>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.scrapeInterval')}\n                data-cy=\"inputScrapeInterval\"\n                width=\"13.5rem\"\n                variant={\n                  validateTimeInSeconds(dataSourceDetails.scrapeInterval)\n                    ? 'primary'\n                    : 'error'\n                }\n                onChange={scrapeIntervalChangeHandler}\n                value={dataSourceDetails.scrapeInterval}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.queryTimeOut')}\n                data-cy=\"inputQueryTimeout\"\n                width=\"13.5rem\"\n                variant={\n                  validateTimeInSeconds(dataSourceDetails.queryTimeout)\n                    ? 'primary'\n                    : 'error'\n                }\n                onChange={queryTimeoutChangeHandler}\n                value={dataSourceDetails.queryTimeout}\n              />\n            </div>\n            <div className={classes.inputDiv}>\n              <InputField\n                label={t('analyticsDashboard.dataSourceForm.httpMethod')}\n                data-cy=\"inputHTTPMethod\"\n                width=\"13.5rem\"\n                variant={\n                  validateTextEmpty(dataSourceDetails.httpMethod)\n                    ? 'error'\n                    : 'primary'\n                }\n                disabled\n                value={dataSourceDetails.httpMethod}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConfigurePrometheus;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  rootConfigure: {\n    height: '100%',\n    width: '100%',\n    margin: '0 auto',\n    border: 1,\n    borderRadius: 3,\n    paddingBottom: theme.spacing(5),\n  },\n\n  icon: {\n    width: '6rem',\n    height: '6rem',\n  },\n\n  backButton: {\n    marginLeft: theme.spacing(-1),\n  },\n\n  heading: {\n    fontSize: '2rem',\n    lineHeight: '2.4375rem',\n    marginBottom: theme.spacing(4),\n  },\n\n  modal: {\n    padding: theme.spacing(15, 0),\n  },\n\n  modalHeading: {\n    fontSize: '2.25rem',\n    margin: theme.spacing(3, 0, 4.5),\n  },\n\n  modalBody: {\n    marginBottom: theme.spacing(4.5),\n  },\n\n  closeButton: {\n    borderColor: theme.palette.border.main,\n  },\n\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: theme.spacing(3, 0, 5),\n    paddingBottom: theme.spacing(7.5),\n  },\n\n  saveButton: {\n    display: 'flex',\n  },\n\n  stepText: {\n    fontSize: '0.8rem',\n    lineHeight: '140%',\n    paddingRight: theme.spacing(2.5),\n    margin: 'auto auto',\n  },\n\n  flexButtons: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n  },\n}));\n\nexport default useStyles;\n","import { useMutation } from '@apollo/client';\nimport { Typography } from '@material-ui/core';\nimport { ButtonFilled, ButtonOutlined, Modal } from 'litmus-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport BackButton from '../../components/Button/BackButton';\nimport Scaffold from '../../containers/layouts/Scaffold';\nimport { CREATE_DATASOURCE, UPDATE_DATASOURCE } from '../../graphql/mutations';\nimport { DataSourceDetails } from '../../models/dataSourceData';\nimport {\n  CreateDataSourceInput,\n  ListDataSourceResponse,\n} from '../../models/graphql/dataSourceDetails';\nimport { history } from '../../redux/configureStore';\nimport { RootState } from '../../redux/reducers';\nimport { ReactComponent as CrossMarkIcon } from '../../svg/crossmark.svg';\nimport { getProjectID, getProjectRole } from '../../utils/getSearchParams';\nimport { isValidWebUrl, validateTimeInSeconds } from '../../utils/validate';\nimport ConfigurePrometheus from '../../views/Analytics/DataSources/Forms/prometheus';\nimport useStyles from './styles';\n\ninterface DataSourceConfigurePageProps {\n  configure: boolean;\n}\n\nconst DataSourceConfigurePage: React.FC<DataSourceConfigurePageProps> = ({\n  configure,\n}) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const dataSourceID = useSelector(\n    (state: RootState) => state.selectDataSource.selectedDataSourceID\n  );\n  const selectedDataSourceName = useSelector(\n    (state: RootState) => state.selectDataSource.selectedDataSourceName\n  );\n  const projectID = getProjectID();\n  const projectRole = getProjectRole();\n  const [open, setOpen] = React.useState(false);\n  const [disabled, setDisabled] = React.useState(true);\n  const [page, setPage] = React.useState<number>(1);\n  const [dataSourceVars, setDataSourceVars] = useState<DataSourceDetails>({\n    id: '',\n    name: '',\n    dataSourceType: 'Prometheus',\n    url: 'http://localhost:9090',\n    access: 'Server (Default)',\n    basicAuth: false,\n    username: '',\n    password: '',\n    noAuth: true,\n    withCredentials: false,\n    tlsClientAuth: false,\n    withCACert: false,\n    scrapeInterval: '15s',\n    queryTimeout: '30s',\n    httpMethod: 'POST',\n  });\n  const [mutate, setMutate] = React.useState(false);\n  const [success, setSuccess] = React.useState(false);\n  const [createDataSource] = useMutation<\n    ListDataSourceResponse,\n    CreateDataSourceInput\n  >(CREATE_DATASOURCE, {\n    onCompleted: () => {\n      setSuccess(true);\n      setMutate(false);\n      setOpen(true);\n    },\n    onError: () => {\n      setMutate(false);\n      setOpen(true);\n    },\n  });\n  const [updateDataSource] = useMutation<\n    ListDataSourceResponse,\n    CreateDataSourceInput\n  >(UPDATE_DATASOURCE, {\n    onCompleted: () => {\n      setSuccess(true);\n      setMutate(false);\n      setOpen(true);\n    },\n    onError: () => {\n      setMutate(false);\n      setOpen(true);\n    },\n  });\n\n  const handleCreateMutation = () => {\n    let authType: string = 'no auth';\n    if (dataSourceVars.noAuth === false && dataSourceVars.basicAuth === true) {\n      authType = 'basic auth';\n    }\n    const dataSourceInput = {\n      ds_name: dataSourceVars.name,\n      ds_type: dataSourceVars.dataSourceType,\n      ds_url:\n        dataSourceVars.url[dataSourceVars.url.length - 1] !== '/'\n          ? dataSourceVars.url\n          : dataSourceVars.url.slice(0, -1),\n      access_type: dataSourceVars.access,\n      auth_type: authType,\n      basic_auth_username: dataSourceVars.username,\n      basic_auth_password: dataSourceVars.password,\n      scrape_interval: parseInt(\n        dataSourceVars.scrapeInterval.split('s')[0],\n        10\n      ),\n      query_timeout: parseInt(dataSourceVars.queryTimeout.split('s')[0], 10),\n      http_method: dataSourceVars.httpMethod,\n      project_id: projectID,\n    };\n    createDataSource({\n      variables: { DSInput: dataSourceInput },\n    });\n  };\n\n  const handleUpdateMutation = () => {\n    let authType: string = 'no auth';\n    if (dataSourceVars.noAuth === false && dataSourceVars.basicAuth === true) {\n      authType = 'basic auth';\n    }\n    const dataSourceInput = {\n      ds_id: dataSourceVars.id ?? '',\n      ds_name: dataSourceVars.name,\n      ds_type: dataSourceVars.dataSourceType,\n      ds_url:\n        dataSourceVars.url[dataSourceVars.url.length - 1] !== '/'\n          ? dataSourceVars.url\n          : dataSourceVars.url.slice(0, -1),\n      access_type: dataSourceVars.access,\n      auth_type: authType,\n      basic_auth_username: dataSourceVars.username,\n      basic_auth_password: dataSourceVars.password,\n      scrape_interval: parseInt(\n        dataSourceVars.scrapeInterval.split('s')[0],\n        10\n      ),\n      query_timeout: parseInt(dataSourceVars.queryTimeout.split('s')[0], 10),\n      http_method: dataSourceVars.httpMethod,\n      project_id: projectID,\n    };\n    updateDataSource({\n      variables: { DSInput: dataSourceInput },\n    });\n  };\n\n  useEffect(() => {\n    if (mutate === true && configure === false) {\n      handleCreateMutation();\n    } else if (mutate === true && configure === true) {\n      handleUpdateMutation();\n    }\n  }, [mutate]);\n\n  useEffect(() => {\n    if (\n      dataSourceVars.name === '' ||\n      !isValidWebUrl(dataSourceVars.url) ||\n      !validateTimeInSeconds(dataSourceVars.queryTimeout) ||\n      !validateTimeInSeconds(dataSourceVars.scrapeInterval)\n    ) {\n      setDisabled(true);\n    } else {\n      setDisabled(false);\n    }\n  }, [dataSourceVars]);\n\n  return (\n    <Scaffold>\n      <div className={classes.rootConfigure}>\n        {configure === false ? (\n          <div>\n            <div className={classes.backButton}>\n              <BackButton />\n            </div>\n            <Typography className={classes.heading}>\n              {t('analyticsDashboard.dataSourceForm.headingAdd')}\n            </Typography>\n            <ConfigurePrometheus\n              configure={configure}\n              page={page}\n              CallbackToSetVars={(vars: DataSourceDetails) => {\n                setDataSourceVars(vars);\n              }}\n            />\n          </div>\n        ) : (\n          <div>\n            <div className={classes.backButton}>\n              <BackButton />\n            </div>\n            <Typography className={classes.heading}>\n              {t('analyticsDashboard.dataSourceForm.headingConfigure')} /{' '}\n              {selectedDataSourceName}\n            </Typography>\n            {dataSourceID ? (\n              <ConfigurePrometheus\n                configure={configure}\n                dataSourceID={dataSourceID}\n                page={page}\n                CallbackToSetVars={(vars: DataSourceDetails) => {\n                  setDataSourceVars(vars);\n                }}\n              />\n            ) : (\n              <div />\n            )}\n          </div>\n        )}\n\n        <div className={classes.buttons}>\n          {page === 2 && (\n            <ButtonOutlined onClick={() => setPage(1)} disabled={false}>\n              <Typography>\n                {t('analyticsDashboard.dataSourceForm.back')}\n              </Typography>\n            </ButtonOutlined>\n          )}\n          <div className={classes.saveButton}>\n            <Typography className={classes.stepText}>\n              {t('analyticsDashboard.dataSourceForm.step')}{' '}\n              <strong>{page}</strong>{' '}\n              {t('analyticsDashboard.dataSourceForm.of2')}\n            </Typography>\n            <ButtonFilled\n              disabled={\n                page === 1 && dataSourceVars.name === ''\n                  ? true\n                  : page === 2\n                  ? disabled\n                  : false\n              }\n              onClick={() =>\n                page === 2 && !disabled ? setMutate(true) : setPage(2)\n              }\n            >\n              <Typography>\n                {page === 2\n                  ? `${t('analyticsDashboard.dataSourceForm.saveChanges')}`\n                  : `${t('analyticsDashboard.dataSourceForm.next')}`}\n              </Typography>\n            </ButtonFilled>\n          </div>\n        </div>\n      </div>\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        width=\"60%\"\n        modalActions={\n          <ButtonOutlined\n            className={classes.closeButton}\n            onClick={() => setOpen(false)}\n          >\n            &#x2715;\n          </ButtonOutlined>\n        }\n      >\n        <div className={classes.modal}>\n          <Typography align=\"center\">\n            {success === true ? (\n              <img\n                src=\"/icons/finish.svg\"\n                alt=\"success\"\n                className={classes.icon}\n              />\n            ) : (\n              <CrossMarkIcon className={classes.icon} />\n            )}\n          </Typography>\n\n          <Typography\n            className={classes.modalHeading}\n            align=\"center\"\n            variant=\"h3\"\n          >\n            {success === true && configure === false\n              ? `${t(\n                  'analyticsDashboard.dataSourceForm.modalHeadingSuccessAdd'\n                )}`\n              : success === true && configure === true\n              ? `${t(\n                  'analyticsDashboard.dataSourceForm.modalHeadingSuccessConfigure'\n                )}`\n              : `${t('analyticsDashboard.dataSourceForm.modalHeadingFailed')}`}\n          </Typography>\n\n          <Typography\n            align=\"center\"\n            variant=\"body1\"\n            className={classes.modalBody}\n          >\n            {success === true && configure === false ? (\n              <div>\n                {t('analyticsDashboard.dataSourceForm.modalBodySuccessAdd')}\n              </div>\n            ) : success === true && configure === true ? (\n              <div>\n                {t(\n                  'analyticsDashboard.dataSourceForm.modalBodySuccessConfigure'\n                )}\n              </div>\n            ) : (\n              <div>\n                {t('analyticsDashboard.dataSourceForm.modalBodyFailed')}\n              </div>\n            )}\n          </Typography>\n\n          {success === true ? (\n            <ButtonFilled\n              variant=\"success\"\n              onClick={() => {\n                history.push({\n                  pathname: '/analytics',\n                  search: `?projectID=${projectID}&projectRole=${projectRole}`,\n                });\n              }}\n            >\n              <div>\n                {t('analyticsDashboard.dataSourceForm.modalActionsBack')}\n              </div>\n            </ButtonFilled>\n          ) : (\n            <div className={classes.flexButtons}>\n              <ButtonOutlined\n                onClick={() => {\n                  setOpen(false);\n                  setMutate(true);\n                }}\n                disabled={false}\n              >\n                <div>\n                  {t('analyticsDashboard.dataSourceForm.modalActionsTryAgain')}\n                </div>\n              </ButtonOutlined>\n\n              <ButtonFilled\n                variant=\"error\"\n                onClick={() => {\n                  history.push({\n                    pathname: '/analytics',\n                    search: `?projectID=${projectID}&projectRole=${projectRole}`,\n                  });\n                }}\n              >\n                <div>\n                  {t('analyticsDashboard.dataSourceForm.modalActionsBack')}\n                </div>\n              </ButtonFilled>\n            </div>\n          )}\n        </div>\n      </Modal>\n    </Scaffold>\n  );\n};\n\nexport default DataSourceConfigurePage;\n"],"sourceRoot":""}