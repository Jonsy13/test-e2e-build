(this["webpackJsonplitmus-portal"]=this["webpackJsonplitmus-portal"]||[]).push([[30],{1126:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return f}));var r=function(e){return""===e.trim()},a=function(e){return" "===(null===e||void 0===e?void 0:e.charAt(0))},o=function(e){return(null===e||void 0===e?void 0:e.length)>0&&!e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},i=function(e){return(null===e||void 0===e?void 0:e.length)>0&&!e.match(/(^[a-z0-9A-Z-._]{0,63}$)/)},s=function(e){return e.length>0&&!e.match(/(^[a-z0-9-]{0,54}$)/)},c=function(e,t){if(e.length&&e.filter((function(e){return e.name.toLowerCase()===t})).length)return!0;return!1},u=function(e,t){return e.length>0&&t.length>0&&t!==e},l=function(e){return!!(e.match(/^(http|https):\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/gm)||e.match(/^http:\/\/localhost:([0-9]){1,4}$/g)||e.match(/^http:\/\/(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]):([0-9]){1,4}$/g)||e.match(/^http:\/\/((([0-9a-fA-F]){1,4})\\:){7}([0-9a-fA-F]){1,4}:([0-9]){1,4}$/g)||e.match(/^([A-Za-z0-9]+@|http(|s)\:\/\/)([-a-zA-Z0-9@:%._\+~#=]+(:\d+)?)(?::|\/)([\d\/\w.-]+?)(\.git)?$/i))},f=function(e){return e.length>1&&!!e.match(/^[0-9]+s$/g)}},1618:function(e,t,n){var r=n(1619),a=n(1620),o=n(1621),i=n(1623);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},1619:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},1620:function(e,t){e.exports=function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},1621:function(e,t,n){var r=n(1622);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},1622:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},1623:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},3088:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1618),a=n.n(r),o=n(469),i=n.n(o),s=n(0),c=n(1002);function u(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var l={};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&l[t[0]]||("string"===typeof t[0]&&(l[t[0]]=new Date),u.apply(void 0,t))}function p(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return f("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],a=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!i(r,e)||a&&!i(o,e))))}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=Object(s.useContext)(c.a)||{},o=r.i18n,i=r.defaultNS,u=n||o||Object(c.d)();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new c.b),!u){f("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},m=[l,{},!1];return m.t=l,m.i18n={},m.ready=!1,m}u.options.react&&void 0!==u.options.react.wait&&f("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var b=g(g(g({},Object(c.c)()),u.options.react),t),h=b.useSuspense,y=e||i||u.options&&u.options.defaultNS;y="string"===typeof y?[y]:y||["translation"],u.reportNamespaces.addUsedNamespaces&&u.reportNamespaces.addUsedNamespaces(y);var v=(u.isInitialized||u.initializedStoreOnce)&&y.every((function(e){return d(e,u,b)}));function w(){return u.getFixedT(null,"fallback"===b.nsMode?y:y[0])}var x=Object(s.useState)(w),j=a()(x,2),O=j[0],S=j[1],E=Object(s.useRef)(!0);Object(s.useEffect)((function(){var e=b.bindI18n,t=b.bindI18nStore;function n(){E.current&&S(w)}return E.current=!0,v||h||p(u,y,(function(){E.current&&S(w)})),e&&u&&u.on(e,n),t&&u&&u.store.on(t,n),function(){E.current=!1,e&&u&&e.split(" ").forEach((function(e){return u.off(e,n)})),t&&u&&t.split(" ").forEach((function(e){return u.store.off(e,n)}))}}),[u,y.join()]);var N=Object(s.useRef)(!0);Object(s.useEffect)((function(){E.current&&!N.current&&S(w),N.current=!1}),[u]);var A=[O,u,v];if(A.t=O,A.i18n=u,A.ready=v,v)return A;if(!v&&!h)return A;throw new Promise((function(e){p(u,y,(function(){e()}))}))}},3478:function(e,t,n){"use strict";n.r(t);var r=n(41),a=n(7),o=n(449),i=n(453),s=n(0),c=n.n(s),u=n(3088),l=n(229),f=n(232),p=n(464),d=n(366),m=n(149),g=n(1126),b=n(678),h=Object(b.a)((function(e){return{rootContainer:{position:"fixed",width:"100%",height:"100%",background:e.palette.loginBackground},rootDiv:{display:"flex",alignItems:"center",justifyContent:"space-around"},rootLitmusText:{display:"flex",flexDirection:"column",alignItems:"flex-start","& img":{marginBottom:e.spacing(1.5)}},HeaderText:{maxWidth:"23.56rem",fontWeight:500,fontSize:"2rem",color:e.palette.text.secondary},litmusText:{maxWidth:"23.56rem",fontWeight:400,fontSize:"1rem",marginTop:e.spacing(1.875),color:e.palette.text.secondary},inputDiv:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:e.spacing(5),marginLeft:e.spacing(7.5)},inputValue:{margin:e.spacing(1.875,0,1.875,0),"& .MuiFormHelperText-root":{background:e.palette.loginBackground,marginTop:0},"& .MuiFormHelperText-contained":{margin:0}},submitButton:{padding:e.spacing(1.25,4),marginTop:e.spacing(1.875),background:e.palette.primary.light,color:e.palette.text.secondary,maxWidth:"8rem","&:disabled":{PointerEvents:"none",background:e.palette.primary.light,color:e.palette.text.secondary},"&:hover":{background:e.palette.primary.light}},buttonGroup:{width:"100%",color:e.palette.text.secondary,display:"flex",justifyContent:"space-between",alignItems:"center"},step:{marginTop:e.spacing(1.875)}}}));t.default=function(){var e=Object(u.a)().t,t=h(),n=c.a.useState({password:"",confirmPassword:""}),b=Object(r.a)(n,2),y=b[0],v=b[1],w=Object(s.useRef)(!0),x=Object(s.useRef)(!1);y.password.length&&y.confirmPassword.length&&!Object(g.b)(y.password,y.confirmPassword)?(w.current=!1,x.current=!0):(w.current=!0,x.current=!1);var j=Object(m.f)(),O=Object(s.useState)(!1),S=Object(r.a)(O,2),E=S[0],N=S[1],A=Object(a.useMutation)(d.f,{onCompleted:function(){N(!1),window.location.assign("/home")}}),T=Object(r.a)(A,1)[0],C=Object(a.useMutation)(d.g,{onCompleted:function(){T({variables:{projectName:"".concat(j,"'s project")}})}}),P=Object(r.a)(C,1)[0],z=Object(a.useLazyQuery)(d.A,{variables:{username:j},onError:function(e){"mongo: no documents in result"===e.message?P({variables:{user:{username:j,email:Object(m.b)(),name:Object(m.c)(),role:Object(m.e)(),userID:Object(m.d)()}}}):console.error(e.message)},onCompleted:function(){T({variables:{projectName:"".concat(j,"'s project")}})}}),k=Object(r.a)(z,1)[0];return c.a.createElement("div",{className:t.rootContainer},c.a.createElement(p.a,null,c.a.createElement("div",{className:t.rootDiv},c.a.createElement("div",{className:t.rootLitmusText},c.a.createElement("img",{src:"icons/LitmusLogoLight.svg",alt:"litmus logo"}),c.a.createElement(o.a,{className:t.HeaderText}," ",e("getStarted.welcome")," ",j,"!"),c.a.createElement(o.a,{className:t.HeaderText},e("getStarted.password.info")),c.a.createElement(o.a,{className:t.litmusText},e("getStarted.password.desc"))),c.a.createElement("form",{id:"login-form",className:t.inputDiv,onSubmit:function(e){e.preventDefault(),N(!0),fetch("".concat(f.a.auth.url,"/update/details"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(m.a)())},body:JSON.stringify({username:j,email:Object(m.b)(),name:Object(m.c)(),password:y.password})}).then((function(e){return e.json()})).then((function(e){"error"in e?w.current=!0:k()})).catch((function(e){w.current=!0,console.error(e)}))}},c.a.createElement(i.e,{"data-cy":"inputPassword",className:t.inputValue,label:e("getStarted.password.label"),type:"password",filled:!0,required:!0,value:y.password,onChange:function(e){v({password:e.target.value,confirmPassword:y.confirmPassword})}}),c.a.createElement(i.e,{"data-cy":"confirmInputPassword",className:t.inputValue,label:e("getStarted.password.cnfLabel"),type:"password",required:!0,value:y.confirmPassword,helperText:Object(g.b)(y.password,y.confirmPassword)?e("settings.accountsTab.accountsSettings.passwordNotSame"):"",filled:!0,onChange:function(e){return v({password:y.password,confirmPassword:e.target.value})}}),c.a.createElement("div",{className:t.buttonGroup},c.a.createElement("div",{"data-cy":"finishButton"},c.a.createElement(i.b,{className:t.submitButton,type:"submit",disabled:w.current},E?c.a.createElement(l.a,{size:20}):c.a.createElement(c.a.Fragment,null,e("getStarted.button.finish")))))))))}}}]);
//# sourceMappingURL=30.1d8abf2e.chunk.js.map